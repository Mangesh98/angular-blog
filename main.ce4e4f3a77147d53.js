"use strict";(self.webpackChunkang_blog=self.webpackChunkang_blog||[]).push([[179],{907:()=>{function Me(t){return"function"==typeof t}function Wu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const qd=Wu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Qo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof qd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{DA(s)}catch(o){e=e??[],o instanceof qd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new qd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)DA(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qo(n,e)}remove(e){const{_finalizers:n}=this;n&&Qo(n,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const t=new Bn;return t.closed=!0,t})();const IA=Bn.EMPTY;function EA(t){return t instanceof Bn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function DA(t){Me(t)?t():t.unsubscribe()}const Us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zd={setTimeout(t,e,...n){const{delegate:r}=zd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bA(t){zd.setTimeout(()=>{const{onUnhandledError:e}=Us;if(!e)throw t;e(t)})}function CA(){}const WG=Lm("C",void 0,void 0);function Lm(t,e,n){return{kind:t,value:e,error:n}}let Bs=null;function Wd(t){if(Us.useDeprecatedSynchronousErrorHandling){const e=!Bs;if(e&&(Bs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Bs;if(Bs=null,n)throw r}}else t()}class Vm extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,EA(e)&&e.add(this)):this.destination=e4}static create(e,n,r){return new Ku(e,n,r)}next(e){this.isStopped?Bm(function QG(t){return Lm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bm(function KG(t){return Lm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bm(WG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const XG=Function.prototype.bind;function Um(t,e){return XG.call(t,e)}class JG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Kd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Kd(r)}else Kd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Kd(n)}}}class Ku extends Vm{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Um(e.next,s),error:e.error&&Um(e.error,s),complete:e.complete&&Um(e.complete,s)}):i=e}this.destination=new JG(i)}}function Kd(t){Us.useDeprecatedSynchronousErrorHandling?function YG(t){Us.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=t)}(t):bA(t)}function Bm(t,e){const{onStoppedNotification:n}=Us;n&&zd.setTimeout(()=>n(t,e))}const e4={closed:!0,next:CA,error:function ZG(t){throw t},complete:CA},$m="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yi(t){return t}function TA(t){return 0===t.length?Yi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function r4(t){return t&&t instanceof Vm||function n4(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&EA(t)}(n)?n:new Ku(n,r,i);return Wd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=SA(r))((i,s)=>{const o=new Ku({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[$m](){return this}pipe(...n){return TA(n)(this)}toPromise(n){return new(n=SA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function SA(t){var e;return null!==(e=t??Us.Promise)&&void 0!==e?e:Promise}const i4=Wu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let hi=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new AA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new i4}next(n){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?IA:(this.currentObservers=null,s.push(n),new Bn(()=>{this.currentObservers=null,Qo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new AA(e,n),t})();class AA extends hi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:IA}}class nr extends hi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function xA(t){return Me(t?.lift)}function St(t){return e=>{if(xA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(t,e,n,r,i){return new s4(t,e,n,r,i)}class s4 extends Vm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return St((n,r)=>{let i=0;n.subscribe(vt(r,s=>{r.next(t.call(e,s,i++))}))})}function Gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function kA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function zm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const PA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function OA(t){return Me(t?.then)}function FA(t){return Me(t[$m])}function LA(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function VA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const UA=function D4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function BA(t){return Me(t?.[UA])}function $A(t){return function NA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Xi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Xi(n.read());if(i)return yield Xi(void 0);yield yield Xi(r)}}finally{n.releaseLock()}})}function jA(t){return Me(t?.getReader)}function rr(t){if(t instanceof qe)return t;if(null!=t){if(FA(t))return function b4(t){return new qe(e=>{const n=t[$m]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(PA(t))return function C4(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(OA(t))return function T4(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bA)})}(t);if(LA(t))return HA(t);if(BA(t))return function S4(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jA(t))return function A4(t){return HA($A(t))}(t)}throw VA(t)}function HA(t){return new qe(e=>{(function x4(t,e){var n,r,i,s;return function MA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=kA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function fi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function At(t,e,n=1/0){return Me(e)?At((r,i)=>Ie((s,o)=>e(r,s,i,o))(rr(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function M4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;rr(n(g,l++)).subscribe(vt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?fi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Yo(t=1/0){return At(Yi,t)}const Nr=new qe(t=>t.complete());function Wm(t){return t[t.length-1]}function GA(t){return Me(Wm(t))?t.pop():void 0}function Qu(t){return function N4(t){return t&&Me(t.schedule)}(Wm(t))?t.pop():void 0}function Qd(t,e=0){return St((n,r)=>{n.subscribe(vt(r,i=>fi(r,t,()=>r.next(i),e),()=>fi(r,t,()=>r.complete(),e),i=>fi(r,t,()=>r.error(i),e)))})}function Yd(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qA(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{fi(n,e,()=>{const r=t[Symbol.asyncIterator]();fi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xt(t,e){return e?function U4(t,e){if(null!=t){if(FA(t))return function P4(t,e){return rr(t).pipe(Yd(e),Qd(e))}(t,e);if(PA(t))return function F4(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(OA(t))return function O4(t,e){return rr(t).pipe(Yd(e),Qd(e))}(t,e);if(LA(t))return qA(t,e);if(BA(t))return function L4(t,e){return new qe(n=>{let r;return fi(n,e,()=>{r=t[UA](),fi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(jA(t))return function V4(t,e){return qA($A(t),e)}(t,e)}throw VA(t)}(t,e):rr(t)}function Q(...t){return xt(t,Qu(t))}function zA(t={}){const{connector:e=(()=>new hi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return St((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Km(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Ku({next:_=>v.next(_),error:_=>{d=!0,h(),a=Km(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Km(f,r),v.complete()}}),rr(g).subscribe(o))})(s)}}function Km(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ku({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function j4(t,e){return t===e}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Qm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ym(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const H4=be({__forward_ref__:be});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return wt(this())},t}function te(t){return Xm(t)?t():t}function Xm(t){return"function"==typeof t&&t.hasOwnProperty(H4)&&t.__forward_ref__===Ne}function Jm(t){return t&&!!t.\u0275providers}const WA="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function Xd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function Jd(t,e){throw new T(-201,!1)}function ir(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zd(t){return KA(t,eh)||KA(t,YA)}function KA(t,e){return t.hasOwnProperty(e)?t[e]:null}function QA(t){return t&&(t.hasOwnProperty(Zm)||t.hasOwnProperty(X4))?t[Zm]:null}const eh=be({\u0275prov:be}),Zm=be({\u0275inj:be}),YA=be({ngInjectableDef:be}),X4=be({ngInjectorDef:be});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let ey;function Cn(t){const e=ey;return ey=t,e}function JA(t,e,n){const r=Zd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void Jd(wt(t))}const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yu={},ty="__NG_DI_FLAG__",th="ngTempTokenPath",Z4=/\n/gm,ZA="__source";let Xo;function Zi(t){const e=Xo;return Xo=t,e}function nq(t,e=z.Default){if(void 0===Xo)throw new T(-203,!1);return null===Xo?JA(t,void 0,e):Xo.get(t,e&z.Optional?null:void 0,e)}function G(t,e=z.Default){return(function XA(){return ey}()||nq)(te(t),e)}function $(t,e=z.Default){return G(t,nh(e))}function nh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ny(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=rq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function Xu(t,e){return t[ty]=e,t.prototype[ty]=e,t}function rq(t){return t[ty]}function pi(t){return{toString:t}.toString()}var kr=(()=>((kr=kr||{})[kr.OnPush=0]="OnPush",kr[kr.Default=1]="Default",kr))(),jn=(()=>{return(t=jn||(jn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",jn;var t})();const gi={},ve=[],rh=be({\u0275cmp:be}),ry=be({\u0275dir:be}),iy=be({\u0275pipe:be}),tx=be({\u0275mod:be}),mi=be({\u0275fac:be}),Ju=be({__NG_ELEMENT_ID__:be}),nx=be({__NG_ENV_ID__:be});function rx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function sy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];sx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ix(t){return 3===t||4===t||6===t}function sx(t){return 64===t.charCodeAt(0)}function Zu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ox(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ox(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ax="ng-template";function oq(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==rx(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ux(t){return 4===t.type&&t.value!==ax}function aq(t,e,n){return e===(4!==t.type||n?t.value:ax)}function uq(t,e,n){let r=4;const i=t.attrs||[],s=function dq(t){for(let e=0;e<t.length;e++)if(ix(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!aq(t,u,n)||""===u&&1===e.length){if(gr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!oq(t.attrs,c,n)){if(gr(r))return!1;o=!0}continue}const d=cq(8&r?"class":u,i,ux(t),n);if(-1===d){if(gr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==rx(f,c,0)||2&r&&c!==h){if(gr(r))return!1;o=!0}}}}else{if(!o&&!gr(r)&&!gr(u))return!1;if(o&&gr(u))continue;o=!1,r=u|1&r}}return gr(r)||o}function gr(t){return 0==(1&t)}function cq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function hq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function cx(t,e,n=!1){for(let r=0;r<e.length;r++)if(uq(t,e[r],n))return!0;return!1}function lx(t,e){return t?":not("+e.trim()+")":e}function pq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gr(o)&&(e+=lx(s,i),i=""),r=o,s=s||!gr(r);n++}return""!==i&&(e+=lx(s,i)),e}function Jt(t){return pi(()=>{const e=hx(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||jn.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};fx(n);const r=t.dependencies;return n.directiveDefs=ih(r,!1),n.pipeDefs=ih(r,!0),n.id=function Eq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function _q(t){return we(t)||Zt(t)}function vq(t){return null!==t}function Hn(t){return pi(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dx(t,e){if(null==t)return gi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Z(t){return pi(()=>{const e=hx(t);return fx(e),e})}function Tn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[rh]||null}function Zt(t){return t[ry]||null}function Sn(t){return t[iy]||null}function Gn(t,e){const n=t[tx]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function hx(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dx(t.inputs,e),outputs:dx(t.outputs)}}function fx(t){t.features?.forEach(e=>e(t))}function ih(t,e){if(!t)return null;const n=e?Sn:_q;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(vq)}const It=0,O=1,ae=2,ze=3,mr=4,$s=5,en=6,Zo=7,Je=8,ea=9,js=10,se=11,ec=12,px=13,ta=14,ht=15,tc=16,na=17,Pr=18,nc=19,gx=20,es=21,yi=22,sh=23,oh=24,fe=25,oy=1,mx=2,Or=7,ah=8,ra=9,Bt=11;function qn(t){return Array.isArray(t)&&"object"==typeof t[oy]}function An(t){return Array.isArray(t)&&!0===t[oy]}function ay(t){return 0!=(4&t.flags)}function Hs(t){return t.componentOffset>-1}function uh(t){return 1==(1&t.flags)}function yr(t){return!!t.template}function uy(t){return 0!=(512&t[ae])}function Gs(t,e){return t.hasOwnProperty(mi)?t[mi]:null}let Sq=ke.WeakRef??class Tq{constructor(e){this.ref=e}deref(){return this.ref}},xq=0,Fr=null,ch=!1;function Mt(t){const e=Fr;return Fr=t,e}class Ix{constructor(){this.id=xq++,this.ref=function Aq(t){return new Sq(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ch;ch=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ch=e}}producerAccessed(){if(ch)throw new Error("");if(null===Fr)return;let e=Fr.producers.get(this.id);void 0===e?(e={consumerNode:Fr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Fr.trackingVersion},Fr.producers.set(this.id,e),this.consumers.set(Fr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Fr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Fr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Ex=null;function Dx(t){const e=Mt(null);try{return t()}finally{Mt(e)}}const bx=()=>{};class kq extends Ix{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=bx,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Mt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=bx,this.watch(this.registerOnCleanup)}finally{Mt(e)}}cleanup(){this.cleanupFn()}}class Pq{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return Cx}function Cx(t){return t.type.prototype.ngOnChanges&&(t.setInput=Fq),Oq}function Oq(){const t=Sx(this),e=t?.current;if(e){const n=t.previous;if(n===gi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Fq(t,e,n,r){const i=this.declaredInputs[n],s=Sx(t)||function Lq(t,e){return t[Tx]=e}(t,{previous:gi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Pq(u&&u.currentValue,e,a===gi),t[r]=e}sr.ngInherit=!0;const Tx="__ngSimpleChanges__";function Sx(t){return t[Tx]||null}const Lr=function(t,e,n){};function Fe(t){for(;Array.isArray(t);)t=t[It];return t}function hh(t,e){return Fe(e[t])}function xn(t,e){return Fe(e[t.index])}function Mx(t,e){return t.data[e]}function ia(t,e){return t[e]}function Mn(t,e){const n=e[t];return qn(n)?n:n[It]}function fh(t){return 128==(128&t[ae])}function ts(t,e){return null==e?null:t[e]}function Rx(t){t[na]=0}function Hq(t){1024&t[ae]||(t[ae]|=1024,kx(t,1))}function Nx(t){1024&t[ae]&&(t[ae]&=-1025,kx(t,-1))}function kx(t,e){let n=t[ze];if(null===n)return;n[$s]+=e;let r=n;for(n=n[ze];null!==n&&(1===e&&1===r[$s]||-1===e&&0===r[$s]);)n[$s]+=e,r=n,n=n[ze]}const X={lFrame:zx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fx(){return X.bindingsEnabled}function D(){return X.lFrame.lView}function me(){return X.lFrame.tView}function $t(){let t=Ux();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ux(){return X.lFrame.currentTNode}function Vr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function py(){return X.lFrame.isParent}function gy(){X.lFrame.isParent=!1}function hn(){const t=X.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oa(){return X.lFrame.bindingIndex++}function tz(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,my(e)}function my(t){X.lFrame.currentDirectiveIndex=t}function _y(t){X.lFrame.currentQueryIndex=t}function rz(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[en]:null}function Gx(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=rz(s),null===i||(s=s[ta],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=qx();return r.currentTNode=e,r.lView=t,!0}function vy(t){const e=qx(),n=t[O];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qx(){const t=X.lFrame,e=null===t?null:t.child;return null===e?zx(t):e}function zx(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Wx(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Kx=Wx;function wy(){const t=Wx();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return X.lFrame.selectedIndex}function qs(t){X.lFrame.selectedIndex=t}function We(){const t=X.lFrame;return Mx(t.tView,t.selectedIndex)}let Yx=!0;function ph(){return Yx}function ns(t){Yx=t}function gh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function mh(t,e,n){Xx(t,e,3,n)}function yh(t,e,n,r){(3&t[ae])===n&&Xx(t,e,n,r)}function Iy(t,e){let n=t[ae];(3&n)===e&&(n&=4095,n+=1,t[ae]=n)}function Xx(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[na]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[na]+=65536),(a<s||-1==s)&&(dz(t,n,e,u),t[na]=(4294901760&t[na])+u+2),u++}function Jx(t,e){Lr(4,t,e);const n=Mt(null);try{e.call(t)}finally{Mt(n),Lr(5,t,e)}}function dz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ae]>>12<t[na]>>16&&(3&t[ae])===e&&(t[ae]+=4096,Jx(a,s)):Jx(a,s)}const aa=-1;class sc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Zx(t){return t!==aa}function _h(t){return 32767&t}function vh(t,e){let n=function gz(t){return t>>16}(t),r=e;for(;n>0;)r=r[ta],n--;return r}let Dy=!0;function wh(t){const e=Dy;return Dy=t,e}const eM=255,tM=5;let mz=0;const Ur={};function Ih(t,e){const n=nM(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,by(r.data,t),by(e,null),by(r.blueprint,null));const i=Cy(t,e),s=t.injectorIndex;if(Zx(i)){const o=_h(i),a=vh(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function by(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Cy(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=cM(i),null===r)return aa;if(n++,i=i[ta],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return aa}function Ty(t,e,n){!function yz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ju)&&(r=n[Ju]),null==r&&(r=n[Ju]=mz++);const i=r&eM;e.data[t+(i>>tM)]|=1<<i}(t,e,n)}function rM(t,e,n){if(n&z.Optional||void 0!==t)return t;Jd()}function iM(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[ea],s=Cn(void 0);try{return i?i.get(e,r,n&z.Optional):JA(e,r,n&z.Optional)}finally{Cn(s)}}return rM(r,0,n)}function sM(t,e,n,r=z.Default,i){if(null!==t){if(2048&e[ae]&&!(r&z.Self)){const o=function Ez(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ae]&&!(512&o[ae]);){const a=oM(s,o,n,r|z.Self,Ur);if(a!==Ur)return a;let u=s.parent;if(!u){const c=o[gx];if(c){const l=c.get(n,Ur,r);if(l!==Ur)return l}u=cM(o),o=o[ta]}s=u}return i}(t,e,n,r,Ur);if(o!==Ur)return o}const s=oM(t,e,n,r,Ur);if(s!==Ur)return s}return iM(e,n,r,i)}function oM(t,e,n,r,i){const s=function wz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ju)?t[Ju]:void 0;return"number"==typeof e?e>=0?e&eM:Iz:e}(n);if("function"==typeof s){if(!Gx(e,t,r))return r&z.Host?rM(i,0,r):iM(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;Jd()}finally{Kx()}}else if("number"==typeof s){let o=null,a=nM(t,e),u=aa,c=r&z.Host?e[ht][en]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Cy(t,e):e[a+8],u!==aa&&uM(r,!1)?(o=e[O],a=_h(u),e=vh(u,e)):a=-1);-1!==a;){const l=e[O];if(aM(s,a,l.data)){const d=vz(a,e,n,o,r,c);if(d!==Ur)return d}u=e[a+8],u!==aa&&uM(r,e[O].data[a+8]===c)&&aM(s,a,e)?(o=l,a=_h(u),e=vh(u,e)):a=-1}}return i}function vz(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function Eh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&yr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Hs(a)&&Dy:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?zs(e,o,l,a):Ur}function zs(t,e,n,r){let i=t[n];const s=e.data;if(function hz(t){return t instanceof sc}(i)){const o=i;o.resolving&&function G4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(s[n]));const a=wh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Cn(o.injectImpl):null;Gx(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function lz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Cx(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Cn(u),wh(a),o.resolving=!1,Kx()}}return i}function aM(t,e,n){return!!(n[e+(t>>tM)]&1<<t)}function uM(t,e){return!(t&z.Self||t&z.Host&&e)}class ua{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sM(this._tNode,this._lView,e,nh(r),n)}}function Iz(){return new ua($t(),D())}function jt(t){return pi(()=>{const e=t.prototype.constructor,n=e[mi]||Sy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[mi]||Sy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Sy(t){return Xm(t)?()=>{const e=Sy(te(t));return e&&e()}:Gs(t)}function cM(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[en]:null}const la="__parameters__";function ha(t,e,n){return pi(()=>{const r=function Ay(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(la)?u[la]:Object.defineProperty(u,la,{value:[]})[la];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function uc(t,e){t.forEach(n=>Array.isArray(n)?uc(n,e):e(n))}function dM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zn(t,e,n){let r=fa(t,e);return r>=0?t[1|r]=n:(r=~r,function Sz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function xy(t,e){const n=fa(t,e);if(n>=0)return t[1|n]}function fa(t,e){return function hM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Rt=Xu(ha("Optional"),8),Th=Xu(ha("SkipSelf"),4);function Mh(t){return 128==(128&t.flags)}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();const Kz=/^>|^->|<!--|-->|--!>|<!-$/g,Qz=/(<|>)/,Yz="\u200b$1\u200b";const Oy=new Map;let Xz=0;const Ly="__ngContext__";function tn(t,e){qn(e)?(t[Ly]=e[nc],function Zz(t){Oy.set(t[nc],t)}(e)):t[Ly]=e}let Vy;function Uy(t,e){return Vy(t,e)}function hc(t){const e=t[ze];return An(e)?e[ze]:e}function By(t){return RM(t[ec])}function $y(t){return RM(t[mr])}function RM(t){for(;null!==t&&!An(t);)t=t[mr];return t}function ma(t,e,n,r,i){if(null!=r){let s,o=!1;An(r)?s=r:qn(r)&&(o=!0,r=r[It]);const a=Fe(r);0===t&&null!==n?null==i?FM(e,n,a):Ws(e,n,a,i||null,!0):1===t&&null!==n?Ws(e,n,a,i||null,!0):2===t?function Fh(t,e,n){const r=Ph(t,e);r&&function _3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function I3(t,e,n,r,i){const s=n[Or];s!==Fe(n)&&ma(e,t,r,s,i);for(let a=Bt;a<n.length;a++){const u=n[a];pc(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function jy(t,e){return t.createComment(function DM(t){return t.replace(Kz,e=>e.replace(Qz,Yz))}(e))}function kh(t,e,n){return t.createElement(e,n)}function kM(t,e){const n=t[ra],r=n.indexOf(e);Nx(e),n.splice(r,1)}function Hy(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const i=r[tc];null!==i&&i!==t&&kM(i,r),e>0&&(t[n-1][mr]=r[mr]);const s=bh(t,Bt+e);!function l3(t,e){pc(t,e,e[se],2,null,null),e[It]=null,e[en]=null}(r[O],r);const o=s[Pr];null!==o&&o.detachView(s[O]),r[ze]=null,r[mr]=null,r[ae]&=-129}return r}function PM(t,e){if(!(256&e[ae])){const n=e[se];e[sh]?.destroy(),e[oh]?.destroy(),n.destroyNode&&pc(t,e,n,3,null,null),function f3(t){let e=t[ec];if(!e)return Gy(t[O],t);for(;e;){let n=null;if(qn(e))n=e[ec];else{const r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[mr]&&e!==t;)qn(e)&&Gy(e[O],e),e=e[ze];null===e&&(e=t),qn(e)&&Gy(e[O],e),n=e&&e[mr]}e=n}}(e)}}function Gy(t,e){if(!(256&e[ae])){e[ae]&=-129,e[ae]|=256,function y3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof sc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Lr(4,a,u);try{u.call(a)}finally{Lr(5,a,u)}}else{Lr(4,i,s);try{s.call(i)}finally{Lr(5,i,s)}}}}}(t,e),function m3(t,e){const n=t.cleanup,r=e[Zo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Zo]=null);const i=e[es];if(null!==i){e[es]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[se].destroy();const n=e[tc];if(null!==n&&An(e[ze])){n!==e[ze]&&kM(n,e);const r=e[Pr];null!==r&&r.detachView(t)}!function e3(t){Oy.delete(t[nc])}(e)}}function qy(t,e,n){return function OM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===jn.None||s===jn.Emulated)return null}return xn(r,n)}}(t,e.parent,n)}function Ws(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FM(t,e,n){t.appendChild(e,n)}function LM(t,e,n,r,i){null!==r?Ws(t,e,n,r,i):FM(t,e,n)}function Ph(t,e){return t.parentNode(e)}let zy,Lh,Yy,Vh,BM=function UM(t,e,n){return 40&t.type?xn(t,n):null};function Oh(t,e,n,r){const i=qy(t,r,e),s=e[se],a=function VM(t,e,n){return BM(t,e,n)}(r.parent||e[en],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)LM(s,i,n[u],a,!1);else LM(s,i,n,a,!1);void 0!==zy&&zy(s,r,e,n,i)}function fc(t,e){if(null!==e){const n=e.type;if(3&n)return xn(e,t);if(4&n)return Wy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fc(t,r);{const i=t[e.index];return An(i)?Wy(-1,i):Fe(i)}}if(32&n)return Uy(e,t)()||Fe(t[e.index]);{const r=jM(t,e);return null!==r?Array.isArray(r)?r[0]:fc(hc(t[ht]),r):fc(t,e.next)}}return null}function jM(t,e){return null!==e?t[ht][en].projection[e.projection]:null}function Wy(t,e){const n=Bt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return fc(r,i)}return e[Or]}function Ky(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&tn(Fe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ky(t,e,n.child,r,i,s,!1),ma(e,t,i,a,s);else if(32&u){const c=Uy(n,r);let l;for(;l=c();)ma(e,t,i,l,s);ma(e,t,i,a,s)}else 16&u?GM(t,e,r,n,i,s):ma(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pc(t,e,n,r,i,s){Ky(n,r,t.firstChild,e,i,s,!1)}function GM(t,e,n,r,i,s){const o=n[ht],u=o[en].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ma(e,t,i,u[c],s);else{let c=u;const l=o[ze];Mh(r)&&(c.flags|=128),Ky(t,e,c,l,i,s,!0)}}function qM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zM(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&sy(t,e,r),null!==i&&qM(t,e,i),null!==s&&function D3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ya(t){return function Qy(){if(void 0===Lh&&(Lh=null,ke.trustedTypes))try{Lh=ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lh}()?.createHTML(t)||t}function gc(){if(void 0!==Yy)return Yy;if(typeof document<"u")return document;throw new T(210,!1)}function Xy(){if(void 0===Vh&&(Vh=null,ke.trustedTypes))try{Vh=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vh}function WM(t){return Xy()?.createHTML(t)||t}function QM(t){return Xy()?.createScriptURL(t)||t}class YM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WA})`}}function rs(t){return t instanceof YM?t.changingThisBreaksApplicationSecurity:t}function mc(t,e){const n=function k3(t){return t instanceof YM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${WA})`)}return n===e}class P3{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ya(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class O3{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ya(e),n}}const L3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jy(t){return(t=String(t)).match(L3)?t:"unsafe:"+t}function wi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function yc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const JM=wi("area,br,col,hr,img,wbr"),ZM=wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eR=wi("rp,rt"),Zy=yc(JM,yc(ZM,wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yc(eR,wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yc(eR,ZM)),e_=wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tR=yc(e_,wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V3=wi("script,style,template");class U3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Zy.hasOwnProperty(n))return this.sanitizedSomething=!0,!V3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!tR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;e_[a]&&(u=Jy(u)),this.buf.push(" ",o,'="',nR(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Zy.hasOwnProperty(n)&&!JM.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(nR(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const B3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$3=/([^\#-~ |!])/g;function nR(t){return t.replace(/&/g,"&amp;").replace(B3,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uh;function t_(t){return"content"in t&&function H3(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function rR(t){const e=_c();return e?WM(e.sanitize(ft.HTML,t)||""):mc(t,"HTML")?WM(rs(t)):function j3(t,e){let n=null;try{Uh=Uh||function XM(t){const e=new O3(t);return function F3(){try{return!!(new window.DOMParser).parseFromString(ya(""),"text/html")}catch{return!1}}()?new P3(e):e}(t);let r=e?String(e):"";n=Uh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Uh.getInertBodyElement(r)}while(r!==s);return ya((new U3).sanitizeChildren(t_(n)||n))}finally{if(n){const r=t_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(gc(),re(t))}function Bh(t){const e=_c();return e?e.sanitize(ft.URL,t)||"":mc(t,"URL")?rs(t):Jy(re(t))}function iR(t){const e=_c();if(e)return QM(e.sanitize(ft.RESOURCE_URL,t)||"");if(mc(t,"ResourceURL"))return QM(rs(t));throw new T(904,!1)}function _c(){const t=D();return t&&t[js].sanitizer}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vc=new B("ENVIRONMENT_INITIALIZER"),oR=new B("INJECTOR",-1),aR=new B("INJECTOR_DEF_TYPES");class uR{get(e,n=Yu){if(n===Yu){const r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Q3(...t){return{\u0275providers:lR(0,t),\u0275fromNgModule:!0}}function lR(t,...e){const n=[],r=new Set;let i;return uc(e,s=>{const o=s;n_(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&dR(i,n),n}function dR(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];r_(i,s=>{e.push(s)})}}function n_(t,e,n,r){if(!(t=te(t)))return!1;let i=null,s=QA(t);const o=!s&&we(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=QA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)n_(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{uc(s.imports,l=>{n_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&dR(c,e)}if(!a){const c=Gs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:aR,useValue:i,multi:!0},{provide:vc,useValue:()=>G(i),multi:!0})}const u=s.providers;null==u||a||r_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function r_(t,e){for(let n of t)Jm(n)&&(n=n.\u0275providers),Array.isArray(n)?r_(n,e):e(n)}const Y3=be({provide:String,useValue:be});function i_(t){return null!==t&&"object"==typeof t&&Y3 in t}function Ks(t){return"function"==typeof t}const s_=new B("Set Injector scope."),$h={},J3={};let o_;function jh(){return void 0===o_&&(o_=new uR),o_}class Ii{}class a_ extends Ii{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c_(e,o=>this.processProvider(o)),this.records.set(oR,_a(void 0,this)),i.has("environment")&&this.records.set(Ii,_a(void 0,this));const s=this.records.get(s_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(aR.multi,ve,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Zi(this),r=Cn(void 0);try{return e()}finally{Zi(n),Cn(r)}}get(e,n=Yu,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nx))return e[nx](this);r=nh(r);const i=Zi(this),s=Cn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function r6(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&Zd(e);a=u&&this.injectableDefInScope(u)?_a(u_(e),$h):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?jh():this.parent).get(e,n=r&z.Optional&&n===Yu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[th]=o[th]||[]).unshift(wt(e)),i)throw o;return function iq(t,e,n,r){const i=t[th];throw e[ZA]&&i.unshift(e[ZA]),t.message=function sq(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Z4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[th]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Cn(s),Zi(i)}}resolveInjectorInitializers(){const e=Zi(this),n=Cn(void 0);try{const r=this.get(vc.multi,ve,z.Self);for(const i of r)i()}finally{Zi(e),Cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Ks(e=te(e))?e:te(e&&e.provide);const r=function e6(t){return i_(t)?_a(void 0,t.useValue):_a(pR(t),$h)}(e);if(Ks(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=_a(void 0,$h,!0),i.factory=()=>ny(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===$h&&(n.value=J3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function n6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function u_(t){const e=Zd(t),n=null!==e?e.factory:Gs(t);if(null!==n)return n;if(t instanceof B)throw new T(204,!1);if(t instanceof Function)return function Z3(t){const e=t.length;if(e>0)throw function cc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function Y4(t){return t&&(t[eh]||t[YA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function pR(t,e,n){let r;if(Ks(t)){const i=te(t);return Gs(i)||u_(i)}if(i_(t))r=()=>te(t.useValue);else if(function fR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ny(t.deps||[]));else if(function hR(t){return!(!t||!t.useExisting)}(t))r=()=>G(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function t6(t){return!!t.deps}(t))return Gs(i)||u_(i);r=()=>new i(...ny(t.deps))}return r}function _a(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function c_(t,e){for(const n of t)Array.isArray(n)?c_(n,e):n&&Jm(n)?c_(n.\u0275providers,e):e(n)}const Hh=new B("AppId",{providedIn:"root",factory:()=>i6}),i6="ng",gR=new B("Platform Initializer"),is=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mR=new B("CSP nonce",{providedIn:"root",factory:()=>gc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _R=(t,e)=>null;function vR(t,e){return _R(t,e)}class f6{}class ER{}class g6{resolveComponentFactory(e){throw function p6(t){const e=Error(`No component factory found for ${wt(t)}.`);return e.ngComponent=t,e}(e)}}let Kh=(()=>{class t{}return t.NULL=new g6,t})();function m6(){return va($t(),D())}function va(t,e){return new Wn(xn(t,e))}let Wn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=m6,t})();class bR{}let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function _6(){const t=D(),n=Mn($t().index,t);return(qn(n)?n:t)[se]}(),t})(),v6=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class wa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const CR=new wa("16.0.4"),w_={};function Dc(t){for(;t;){t[ae]|=64;const e=hc(t);if(uy(t)&&!e)return t;t=e}return null}function I_(t){return t.ngOriginalError}class Qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&I_(e);for(;n&&I_(n);)n=I_(n);return n||null}}const AR=new B("",{providedIn:"root",factory:()=>!1});function Di(t){return t instanceof Function?t():t}class kR extends Ix{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Dc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Mt(this);this.trackingVersion++;try{e(n,r)}finally{Mt(i)}}destroy(){this.trackingVersion++}}let Yh=null;function PR(){return Yh??=new kR,Yh}function OR(t,e){return t[e]??PR()}function FR(t,e){const n=PR();n.hasReadASignal&&(t[e]=Yh,n.lView=t,Yh=new kR)}const oe={};function de(t){LR(me(),D(),fn()+t,!1)}function LR(t,e,n,r){if(!r)if(3==(3&e[ae])){const s=t.preOrderCheckHooks;null!==s&&mh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&yh(e,s,0,n)}qs(n)}function $R(t,e=null,n=null,r){const i=jR(t,e,n,r);return i.resolveInjectorInitializers(),i}function jR(t,e=null,n=null,r,i=new Set){const s=[n||ve,Q3(t)];return r=r||("object"==typeof t?void 0:wt(t)),new a_(s,e||jh(),r||null,i)}let Kn=(()=>{class t{static create(n,r){if(Array.isArray(n))return $R({name:""},r,n,"");{const i=n.name??"";return $R({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Yu,t.NULL=new uR,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>G(oR)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=D();return null===n?G(t,e):sM($t(),n,te(t),e)}function Xh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[It]=i,d[ae]=140|r,(null!==c||t&&2048&t[ae])&&(d[ae]|=2048),Rx(d),d[ze]=d[ta]=t,d[Je]=n,d[js]=o||t&&t[js],d[se]=a||t&&t[se],d[ea]=u||t&&t[ea]||null,d[en]=s,d[nc]=function Jz(){return Xz++}(),d[yi]=l,d[gx]=c,d[ht]=2==e.type?t[ht]:d,d}function Ea(t,e,n,r,i){let s=t.data[e];if(null===s)s=function E_(t,e,n,r,i){const s=Ux(),o=py(),u=t.data[e]=function B6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function sa(){return null!==X.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function ez(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ic(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Vr(s,!0),s}function bc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GR(t,e,n,r,i){const s=OR(e,sh),o=fn(),a=2&r;try{if(qs(-1),a&&e.length>fe&&LR(t,e,fe,!1),Lr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Mt(null);try{n(r,i)}finally{Mt(c)}}}finally{a&&null===e[sh]&&FR(e,sh),qs(o),Lr(a?3:1,i)}}function D_(t,e,n){if(ay(e)){const r=Mt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Mt(r)}}}function b_(t,e,n){Fx()&&(function W6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Hs(n)&&function e5(t,e,n){const r=xn(e,t),o=Jh(t,Xh(t,qR(n),null,n.onPush?64:16,r,e,null,t[js].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ih(n,e),tn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=zs(e,t,a,n);tn(c,e),null!==o&&t5(0,a-i,c,u,0,o),yr(u)&&(Mn(n.index,e)[Je]=zs(e,t,a,n))}}(t,e,n,xn(n,e)),64==(64&n.flags)&&YR(t,e,n))}function C_(t,e,n=xn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=T_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function T_(t,e,n,r,i,s,o,a,u,c,l){const d=fe+r,h=d+i,f=function P6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let zR=t=>null;function WR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?KR(n,e,i,s):r.hasOwnProperty(i)&&KR(n,e,r[i],s)}return n}function KR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Qn(t,e,n,r,i,s,o,a){const u=xn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(R_(t,n,l,r,i),Hs(e)&&function H6(t,e){const n=Mn(e,t);16&n[ae]||(n[ae]|=64)}(n,e.index)):3&e.type&&(r=function j6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function S_(t,e,n,r){if(Fx()){const i=null===r?null:{"":-1},s=function Q6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(cx(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),A_(t,e,a.length)}else r.unshift(o),A_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&QR(t,e,n,o,i,a),i&&function Y6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Zu(n.mergedAttrs,n.attrs)}function QR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ty(Ih(n,e),t,r[c].type);!function J6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=bc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Zu(n.mergedAttrs,l.hostAttrs),Z6(t,n,e,u,l),X6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function $6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=WR(d.inputs,l,u,h?h.inputs:null),c=WR(d.outputs,l,c,p);const g=null===u||null===o||ux(e)?null:n5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function YR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function nz(){return X.lFrame.currentDirectiveIndex}();try{qs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];my(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&K6(u,c)}}finally{qs(-1),my(o)}}function K6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function A_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function X6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function Z6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Gs(i.type)),o=new sc(s,yr(i),C);t.blueprint[r]=o,n[r]=o,function q6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function z6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,bc(t,n,i.hostVars,oe),i)}function Br(t,e,n,r,i,s){const o=xn(t,e);!function x_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?re(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[se],o,s,t.value,n,r,i)}function t5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)XR(r,n,o[a++],o[a++],o[a++])}function XR(t,e,n,r,i){const s=Mt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Mt(s)}}function n5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function ZR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];_y(n[r]),o.contentQueries(2,e[s],s)}}}function Jh(t,e){return t[ec]?t[px][mr]=e:t[ec]=e,t[px]=e,e}function M_(t,e,n){_y(0);const r=Mt(null);try{e(t,n)}finally{Mt(r)}}function r1(t,e){const n=t[ea],r=n?n.get(Qs,null):null;r&&r.handleError(e)}function R_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];XR(t.data[o],e[o],r,a,i)}}function r5(t,e){const n=Mn(e,t),r=n[O];!function i5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[It];null!==i&&null===n[yi]&&(n[yi]=vR(i,n[ea])),N_(r,n,n[Je])}function N_(t,e,n){vy(e);try{const r=t.viewQuery;null!==r&&M_(1,r,n);const i=t.template;null!==i&&GR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ZR(t,e),t.staticViewQueries&&M_(2,t.viewQuery,n);const s=t.components;null!==s&&function s5(t,e){for(let n=0;n<e.length;n++)r5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ae]&=-5,wy()}}let i1=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new kq(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t}),t})();function Zh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ym(i,a):2==s&&(r=Ym(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Cc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Fe(s)),An(s)){for(let a=Bt;a<s.length;a++){const u=s[a],c=u[O].firstChild;null!==c&&Cc(u[O],u,c,r)}s[Or]!==s[It]&&r.push(s[Or])}const o=n.type;if(8&o)Cc(t,e,n.child,r);else if(32&o){const a=Uy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=jM(e,n);if(Array.isArray(a))r.push(...a);else{const u=hc(e[ht]);Cc(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ef(t,e,n,r=!0){const i=e[js].rendererFactory;i.begin&&i.begin();try{tf(t,e,t.template,n)}catch(o){throw r&&r1(e,o),o}finally{i.end&&i.end(),e[js].effectManager?.flush()}}function tf(t,e,n,r){const i=e[ae];if(256!=(256&i)){e[js].effectManager?.flush(),vy(e);try{Rx(e),function $x(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&GR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&mh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&yh(e,c,0,null),Iy(e,0)}if(function d5(t){for(let e=By(t);null!==e;e=$y(e)){if(!e[mx])continue;const n=e[ra];for(let r=0;r<n.length;r++){Hq(n[r])}}}(e),function l5(t){for(let e=By(t);null!==e;e=$y(e))for(let n=Bt;n<e.length;n++){const r=e[n],i=r[O];fh(r)&&tf(i,r,i.template,r[Je])}}(e),null!==t.contentQueries&&ZR(t,e),o){const c=t.contentCheckHooks;null!==c&&mh(e,c)}else{const c=t.contentHooks;null!==c&&yh(e,c,1),Iy(e,1)}!function k6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=OR(e,oh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)qs(~s);else{const o=s,a=n[++i],u=n[++i];tz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[oh]&&FR(e,oh),qs(-1)}}(t,e);const a=t.components;null!==a&&function f5(t,e){for(let n=0;n<e.length;n++)h5(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&M_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&mh(e,c)}else{const c=t.viewHooks;null!==c&&yh(e,c,2),Iy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ae]&=-73,Nx(e)}finally{wy()}}}function h5(t,e){const n=Mn(e,t);if(fh(n)){const r=n[O];80&n[ae]?tf(r,n,r.template,n[Je]):n[$s]>0&&k_(n)}}function k_(t){for(let r=By(t);null!==r;r=$y(r))for(let i=Bt;i<r.length;i++){const s=r[i];if(fh(s))if(1024&s[ae]){const o=s[O];tf(o,s,o.template,s[Je])}else s[$s]>0&&k_(s)}const n=t[O].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Mn(n[r],t);fh(i)&&i[$s]>0&&k_(i)}}class Tc{get rootNodes(){const e=this._lView,n=e[O];return Cc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return 256==(256&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ze];if(An(e)){const n=e[ah],r=n?n.indexOf(this):-1;r>-1&&(Hy(e,r),bh(n,r))}this._attachedToViewContainer=!1}PM(this._lView[O],this._lView)}onDestroy(e){!function Px(t,e){if(256==(256&t[ae]))throw new T(911,!1);null===t[es]&&(t[es]=[]),t[es].push(e)}(this._lView,e)}markForCheck(){Dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){this._lView[ae]|=128}detectChanges(){ef(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function h3(t,e){pc(t,e,e[se],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class p5 extends Tc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ef(e[O],e,e[Je],!1)}checkNoChanges(){}get context(){return null}}class s1 extends Kh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new Sc(n,this.ngModule)}}function o1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class m5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nh(r);const i=this.injector.get(e,w_,r);return i!==w_||n===w_?i:this.parentInjector.get(e,n,r)}}class Sc extends ER{get inputs(){return o1(this.componentDef.inputs)}get outputs(){return o1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function gq(t){return t.map(pq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ii?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new m5(e,s):e,a=o.get(bR,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:o.get(v6,null),effectManager:o.get(i1,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function O6(t,e,n,r){const s=r.get(AR,!1)||n===jn.ShadowDom,o=t.selectRootElement(e,s);return function F6(t){zR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):kh(d,h,function g5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,g=T_(0,null,null,1,0,null,null,null,null,null,null),m=Xh(null,g,null,p,null,null,l,d,o,null,null);let v,_;vy(m);try{const E=this.componentDef;let M,L=null;E.findHostDirectiveDefs?(M=[],L=new Map,E.findHostDirectiveDefs(E,M,L),M.push(E)):M=[E];const J=function _5(t,e){const n=t[O],r=fe;return t[r]=e,Ea(n,r,2,"#host",null)}(m,f),Ge=function v5(t,e,n,r,i,s,o){const a=i[O];!function w5(t,e,n,r){for(const i of t)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Zh(e,e.mergedAttrs,!0),null!==n&&zM(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=vR(e,i[ea]));const c=s.rendererFactory.createRenderer(e,n),l=Xh(i,qR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&A_(a,t,r.length-1),Jh(i,l),i[t.index]=l}(J,f,E,M,m,l,d);_=Mx(g,fe),f&&function E5(t,e,n,r){if(r)sy(t,n,["ng-version",CR.full]);else{const{attrs:i,classes:s}=function mq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!gr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&sy(t,n,i),s&&s.length>0&&qM(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function D5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function I5(t,e,n,r,i,s){const o=$t(),a=i[O],u=xn(o,i);QR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)tn(zs(i,a,o.directiveStart+l,o),i);YR(a,i,o),u&&tn(u,i);const c=zs(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=c,null!==s)for(const l of s)l(c,e);return D_(a,o,t),c}(Ge,E,M,L,m,[b5]),N_(g,m,null)}finally{wy()}return new y5(this.componentType,v,va(_,m),m,_)}}class y5 extends f6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new p5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;R_(s[O],s,i,e,n),this.previousInputValues.set(e,n),Dc(Mn(this._tNode.index,s))}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function b5(){const t=$t();gh(D()[O],t)}function Ce(t){let e=function a1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=P_(t.inputs),o.declaredInputs=P_(t.declaredInputs),o.outputs=P_(t.outputs);const a=i.hostBindings;a&&A5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&T5(t,u),c&&S5(t,c),Qm(t.inputs,i.inputs),Qm(t.declaredInputs,i.declaredInputs),Qm(t.outputs,i.outputs),yr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function C5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zu(i.hostAttrs,n=Zu(n,i.hostAttrs))}}(r)}function P_(t){return t===gi?{}:t===ve?[]:t}function T5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function S5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function A5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function nf(t){return!!O_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function O_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $r(t,e,n){return t[e]=n}function nn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jr(t,e,n,r){const i=D();return nn(i,oa(),e)&&(me(),Br(We(),i,t,e,n,r)),jr}function ba(t,e,n,r){return nn(t,oa(),n)?e+re(n)+r:oe}function Nt(t,e,n,r,i,s,o,a){const u=D(),c=me(),l=t+fe,d=c.firstCreatePass?function Z5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ea(e,t,4,o||null,ts(c,a));S_(e,n,l,ts(c,u)),gh(e,l);const d=l.tView=T_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Vr(d,!1);const h=D1(c,u,d,t);ph()&&Oh(c,u,h,d),tn(h,u),Jh(u,u[l]=JR(h,u,h,d)),uh(d)&&b_(c,u,d),null!=o&&C_(u,d,a)}let D1=function b1(t,e,n,r){return ns(!0),e[se].createComment("")};function Xs(t){return ia(function Zq(){return X.lFrame.contextLView}(),fe+t)}function Te(t,e,n){const r=D();return nn(r,oa(),e)&&Qn(me(),We(),r,t,e,r[se],n,!1),Te}function $_(t,e,n,r,i){const o=i?"class":"style";R_(t,n,e.inputs[o],o,r)}function x(t,e,n,r){const i=D(),s=me(),o=fe+t,a=i[se],u=s.firstCreatePass?function rW(t,e,n,r,i,s){const o=e.consts,u=Ea(e,t,2,r,ts(o,i));return S_(e,n,u,ts(o,s)),null!==u.attrs&&Zh(u,u.attrs,!1),null!==u.mergedAttrs&&Zh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=C1(s,i,u,a,e,t);i[o]=c;const l=uh(u);return Vr(u,!0),zM(a,c,u),32!=(32&u.flags)&&ph()&&Oh(s,i,c,u),0===function qq(){return X.lFrame.elementDepthCount}()&&tn(c,i),function zq(){X.lFrame.elementDepthCount++}(),l&&(b_(s,i,u),D_(s,u,i)),null!==r&&C_(i,u),x}function A(){let t=$t();py()?gy():(t=t.parent,Vr(t,!1));const e=t;(function Kq(t){return X.skipHydrationRootTNode===t})(e)&&function Jq(){X.skipHydrationRootTNode=null}(),function Wq(){X.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(gh(n,t),ay(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function fz(t){return 0!=(8&t.flags)}(e)&&$_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pz(t){return 0!=(16&t.flags)}(e)&&$_(n,e,D(),e.stylesWithoutHost,!1),A}function Ze(t,e,n,r){return x(t,e,n,r),A(),Ze}let C1=(t,e,n,r,i,s)=>(ns(!0),kh(r,i,function Qx(){return X.lFrame.currentNamespace}()));function cf(t,e,n){const r=D(),i=me(),s=t+fe,o=i.firstCreatePass?function oW(t,e,n,r,i){const s=e.consts,o=ts(s,r),a=Ea(e,t,8,"ng-container",o);return null!==o&&Zh(a,o,!0),S_(e,n,a,ts(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Vr(o,!0);const a=S1(i,r,o,t);return r[s]=a,ph()&&Oh(i,r,a,o),tn(a,r),uh(o)&&(b_(i,r,o),D_(i,o,r)),null!=n&&C_(r,o),cf}function lf(){let t=$t();const e=me();return py()?gy():(t=t.parent,Vr(t,!1)),e.firstCreatePass&&(gh(e,t),ay(t)&&e.queries.elementEnd(t)),lf}let S1=(t,e,n,r)=>(ns(!0),jy(e[se],""));function Nc(t){return!!t&&"function"==typeof t.then}function x1(t){return!!t&&"function"==typeof t.subscribe}function Yn(t,e,n,r){const i=D(),s=me(),o=$t();return function R1(t,e,n,r,i,s,o){const a=uh(r),c=t.firstCreatePass&&function t1(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Je],d=function e1(t){return t[Zo]||(t[Zo]=[])}(e);let h=!0;if(3&r.type||o){const g=xn(r,e),m=o?o(g):g,v=d.length,_=o?M=>o(Fe(M[r.index])):r.index;let E=null;if(!o&&a&&(E=function cW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Zo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=k1(r,e,l,s,!1);const M=n.listen(m,i,s);d.push(s,M),c&&c.push(i,_,v,v+1)}}else s=k1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const L=e[p[m]][p[m+1]].subscribe(s),J=d.length;d.push(s,L),c&&c.push(i,r.index,J,-(J+1))}}}(s,i,i[se],o,t,e,r),Yn}function N1(t,e,n,r){try{return Lr(6,e,n),!1!==n(r)}catch(i){return r1(t,i),!1}finally{Lr(7,e,n)}}function k1(t,e,n,r,i){return function s(o){if(o===Function)return r;Dc(t.componentOffset>-1?Mn(t.index,e):e);let u=N1(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=N1(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Na(t=1){return function iz(t){return(X.lFrame.contextLView=function sz(t,e){for(;t>0;)e=e[ta],t--;return e}(t,X.lFrame.contextLView))[Je]}(t)}function df(t,e,n){return j_(t,"",e,"",n),df}function j_(t,e,n,r,i){const s=D(),o=ba(s,e,n,r);return o!==oe&&Qn(me(),We(),s,t,o,s[se],i,!1),j_}function hf(t,e){return t<<17|e<<2}function ss(t){return t>>17&32767}function H_(t){return 2|t}function Js(t){return(131068&t)>>2}function G_(t,e){return-131069&t|e<<2}function q_(t){return 1|t}function j1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ss(s):Js(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];_W(t[a],e)&&(u=!0,t[a+1]=r?q_(l):H_(l)),a=r?ss(l):Js(l)}u&&(t[n+1]=r?H_(s):q_(s))}function _W(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fa(t,e)>=0}function ff(t,e){return function _r(t,e,n,r){const i=D(),s=me(),o=function vi(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function X1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fn()],o=function Y1(t,e){return e>=t.expandoStartIndex}(t,n);(function tN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function SW(t,e,n,r){const i=function yy(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=kc(n=z_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=z_(i,t,e,n,r),null===s){let u=function AW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Js(r))return t[ss(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=z_(null,t,e,u[1],r),u=kc(u,e.attrs,r),function xW(t,e,n,r){t[ss(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function MW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=kc(r,t[s].hostAttrs,n);return kc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function mW(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ss(o),u=Js(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||fa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ss(t[a+1]);t[r+1]=hf(h,a),0!==h&&(t[h+1]=G_(t[h+1],r)),t[a+1]=function pW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=hf(a,0),0!==a&&(t[a+1]=G_(t[a+1],r)),a=r;else t[r+1]=hf(u,0),0===a?a=r:t[u+1]=G_(t[u+1],r),u=r;c&&(t[r+1]=H_(t[r+1])),j1(t,l,r,!0),j1(t,l,r,!1),function yW(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&fa(s,e)>=0&&(n[r+1]=q_(n[r+1]))}(e,l,t,r,s),o=hf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==oe&&nn(i,o,e)&&function Z1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function gW(t){return 1==(1&t)}(c)?eN(u,e,n,i,Js(c),o):void 0;pf(l)||(pf(s)||function fW(t){return 2==(2&t)}(c)&&(s=eN(u,null,n,i,a,o)),function E3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Rn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Rn.Important),t.setStyle(n,r,i,s))}}(r,o,hh(fn(),n),i,s))}(s,s.data[fn()],i,i[se],t,i[o+1]=function PW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wt(rs(t)))),t}(e,n),r,o)}(t,e,null,!0),ff}function z_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=kc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function kc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zn(t,o,!!n||e[++s]))}return void 0===t?null:t}function eN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===oe&&(h=d?ve:void 0);let f=d?xy(h,r):l===r?h:void 0;if(c&&!pf(f)&&(f=xy(u,r)),pf(f)&&(a=f,o))return a;const p=t[i+1];i=o?ss(p):Js(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=xy(u,r))}return a}function pf(t){return void 0!==t}function V(t,e=""){const n=D(),r=me(),i=t+fe,s=r.firstCreatePass?Ea(r,i,1,e,null):r.data[i],o=nN(r,n,s,e,t);n[i]=o,ph()&&Oh(r,n,o,s),Vr(s,!1)}let nN=(t,e,n,r,i)=>(ns(!0),function Nh(t,e){return t.createText(e)}(e[se],r));function Zs(t){return qr("",t,""),Zs}function qr(t,e,n){const r=D(),i=ba(r,t,e,n);return i!==oe&&function bi(t,e,n){const r=hh(e,t);!function NM(t,e,n){t.setValue(e,n)}(t[se],r,n)}(r,fn(),i),qr}const eo=void 0;var n9=["en",[["a","p"],["AM","PM"],eo],[["AM","PM"],eo,eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eo,"{1} 'at' {0}",eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t9(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Pa={};function pn(t){const e=function r9(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=DN(e);if(n)return n;const r=e.split("-")[0];if(n=DN(r),n)return n;if("en"===r)return n9;throw new T(701,!1)}function DN(t){return t in Pa||(Pa[t]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[t]),Pa[t]}var F=(()=>((F=F||{})[F.LocaleId=0]="LocaleId",F[F.DayPeriodsFormat=1]="DayPeriodsFormat",F[F.DayPeriodsStandalone=2]="DayPeriodsStandalone",F[F.DaysFormat=3]="DaysFormat",F[F.DaysStandalone=4]="DaysStandalone",F[F.MonthsFormat=5]="MonthsFormat",F[F.MonthsStandalone=6]="MonthsStandalone",F[F.Eras=7]="Eras",F[F.FirstDayOfWeek=8]="FirstDayOfWeek",F[F.WeekendRange=9]="WeekendRange",F[F.DateFormat=10]="DateFormat",F[F.TimeFormat=11]="TimeFormat",F[F.DateTimeFormat=12]="DateTimeFormat",F[F.NumberSymbols=13]="NumberSymbols",F[F.NumberFormats=14]="NumberFormats",F[F.CurrencyCode=15]="CurrencyCode",F[F.CurrencySymbol=16]="CurrencySymbol",F[F.CurrencyName=17]="CurrencyName",F[F.Currencies=18]="Currencies",F[F.Directionality=19]="Directionality",F[F.PluralCase=20]="PluralCase",F[F.ExtraData=21]="ExtraData",F))();const Oa="en-US";let bN=Oa;function Q_(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let s=0;s<t.length;s++)Q_(t[s],e,n,r,i);else{const s=me(),o=D();let a=Ks(t)?t:te(t.provide),u=pR(t);const c=$t(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ks(t)||!t.multi){const f=new sc(u,i,C),p=X_(a,e,i?l:l+h,d);-1===p?(Ty(Ih(c,o),s,a),Y_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=X_(a,e,l+h,d),p=X_(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Ty(Ih(c,o),s,a);const v=function e7(t,e,n,r,i){const s=new sc(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,QN(s,i,r&&!n),s}(i?Z9:J9,n.length,i,r,u);!i&&m&&(n[p].providerFactory=v),Y_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else Y_(s,t,f>-1?f:p,QN(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Y_(t,e,n,r){const i=Ks(e),s=function X3(t){return!!t.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function QN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function X_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J9(t,e,n,r){return J_(this.multi,[])}function Z9(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=zs(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),J_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],J_(i,s);return s}function J_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function X9(t,e,n){const r=me();if(r.firstCreatePass){const i=yr(t);Q_(n,r.data,r.blueprint,i,!0),Q_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Fa{}class YN{}class Z_ extends Fa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s1(this);const i=Gn(e);this._bootstrapComponents=Di(i.bootstrap),this._r3Injector=jR(e,n,[{provide:Fa,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ev extends YN{constructor(e){super(),this.moduleType=e}create(e){return new Z_(this.moduleType,e,[])}}class XN extends Fa{constructor(e){super(),this.componentFactoryResolver=new s1(this),this.instance=null;const n=new a_([...e.providers,{provide:Fa,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],e.parent||jh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function tv(t,e,n=null){return new XN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let r7=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=lR(0,n.type),i=r.length>0?tv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(G(Ii))}),t})();function JN(t){t.getStandaloneInjector=e=>e.get(r7).getOrCreateStandaloneInjector(t)}function vf(t,e,n,r){return ok(D(),hn(),t,e,n,r)}function Uc(t,e){const n=t[e];return n===oe?void 0:n}function ok(t,e,n,r,i,s){const o=e+n;return nn(t,o,i)?$r(t,o+1,s?r.call(s,i):r(i)):Uc(t,o+1)}function ak(t,e,n,r,i,s,o){const a=e+n;return function Ys(t,e,n,r){const i=nn(t,e,n);return nn(t,e+1,r)||i}(t,a,i,s)?$r(t,a+2,o?r.call(o,i,s):r(i,s)):Uc(t,a+2)}function zr(t,e){const n=me();let r;const i=t+fe;n.firstCreatePass?(r=function w7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Gs(r.type)),o=Cn(C);try{const a=wh(!1),u=s();return wh(a),function nW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,u),u}finally{Cn(o)}}function Ci(t,e,n){const r=t+fe,i=D(),s=ia(i,r);return Bc(i,r)?ok(i,hn(),e,s.transform,n,s):s.transform(n)}function Bc(t,e){return t[O].data[e].pure}function rv(t){return e=>{setTimeout(t,void 0,e)}}const tt=class b7 extends hi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=rv(s),i&&(i=rv(i)),o&&(o=rv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Bn&&e.add(a),a}};let Ti=(()=>{class t{}return t.__NG_ELEMENT_ID__=A7,t})();const T7=Ti,S7=class extends T7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Xh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[tc]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Pr];return null!==a&&(s[Pr]=a.createEmbeddedView(i)),N_(i,s,e),new Tc(s)}};function A7(){return function wf(t,e){return 4&t.type?new S7(e,t,va(t,e)):null}($t(),D())}let wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=O7,t})();function O7(){return function yk(t,e){let n;const r=e[t.index];return An(r)?n=r:(n=JR(r,e,null,t),e[t.index]=n,Jh(e,n)),_k(n,e,t,r),new gk(n,t,e)}($t(),D())}const F7=wr,gk=class extends F7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return va(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const e=Cy(this._hostTNode,this._hostLView);if(Zx(e)){const n=vh(e,this._hostLView),r=_h(e);return new ua(n[O].data[r+8],n)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ac(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Sc(we(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Ii,null);m&&(s=m)}we(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[O];if(function jq(t){return An(t[ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ze],l=new gk(c,c[en],c[ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function p3(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][mr]=e),r<s-Bt?(e[mr]=n[i],dM(n,Bt+r,e)):(n.push(e),e[mr]=null),e[ze]=n;const o=e[tc];null!==o&&n!==o&&function g3(t,e){const n=t[ra];e[ht]!==e[ze][ze][ht]&&(t[mx]=!0),null===n?t[ra]=[e]:n.push(e)}(o,e);const a=e[Pr];null!==a&&a.insertView(t),e[ae]|=128}(s,i,a,o),!r){const u=Wy(o,a),c=i[se],l=Ph(c,a[Or]);null!==l&&function d3(t,e,n,r,i,s){r[It]=i,r[en]=e,pc(t,r,n,1,i,s)}(s,a[en],c,i,l,u)}return e.attachToViewContainerRef(),dM(ov(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hy(this._lContainer,n);r&&(bh(ov(this._lContainer),n),PM(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hy(this._lContainer,n);return r&&null!=bh(ov(this._lContainer),n)?new Tc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mk(t){return t[ah]}function ov(t){return t[ah]||(t[ah]=[])}let _k=function vk(t,e,n,r){if(t[Or])return;let i;i=8&n.type?Fe(r):function L7(t,e){const n=t[se],r=n.createComment(""),i=xn(e,t);return Ws(n,Ph(n,i),r,function v3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Or]=i};const yv=new B("Application Initializer");let _v=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=$(yv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Nc(s))n.push(s);else if(x1(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Si=new B("LocaleId",{providedIn:"root",factory:()=>$(Si,z.Optional|z.SkipSelf)||function p8(){return typeof $localize<"u"&&$localize.locale||Oa}()});let qk=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class m8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let zk=(()=>{class t{compileModuleSync(n){return new ev(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Di(Gn(n).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new Sc(u)),o},[]);return new m8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const v8=(()=>Promise.resolve(0))();function vv(t){typeof Zone>"u"?v8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Qk(...t){}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function w8(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function D8(t){const e=()=>{!function E8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iv(t),t.isCheckStableRunning=!0,wv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Yk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Xk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Yk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Xk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Iv(t),wv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,I8,Qk,Qk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const I8={};function wv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Yk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xk(t){t._nesting--,wv(t)}class b8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Jk=new B("",{providedIn:"root",factory:Zk});function Zk(){const t=$(Re);let e=!0;return function B4(...t){const e=Qu(t),n=function k4(t,e){return"number"==typeof Wm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):Yo(n)(xt(r,e)):Nr}(new qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new qe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Re.assertNotInAngularZone(),vv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Re.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(zA()))}const eP=new B(""),Ef=new B("");let bv,Ev=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bv||(function C8(t){bv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(G(Re),G(Dv),G(Ef))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Dv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return bv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),os=null;const tP=new B("AllowMultipleToken"),Cv=new B("PlatformDestroyListeners"),Tv=new B("appBootstrapListener");class rP{constructor(e,n){this.name=e,this.token=n}}function sP(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Sv();if(!o||o.injector.get(tP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function A8(t){if(os&&!os.get(tP,!1))throw new T(400,!1);(function nP(){!function Rq(t){Ex=t}(()=>{throw new T(600,!1)})})(),os=t;const e=t.get(aP);(function iP(t){t.get(gR,null)?.forEach(n=>n())})(t)}(function oP(t=[],e){return Kn.create({name:e,providers:[{provide:s_,useValue:"platform"},{provide:Cv,useValue:new Set([()=>os=null])},...t]})}(a,r))}return function M8(t){const e=Sv();if(!e)throw new T(401,!1);return e}()}}function Sv(){return os?.get(aP)??null}let aP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function R8(t="zone.js",e){return"noop"===t?new b8:"zone.js"===t?new Re(e):t}(r?.ngZone,function uP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function n7(t,e,n){return new Z_(t,e,n)}(n.moduleType,this.injector,function fP(t){return[{provide:Re,useFactory:t},{provide:vc,multi:!0,useFactory:()=>{const e=$(k8,{optional:!0});return()=>e.initialize()}},{provide:hP,useFactory:N8},{provide:Jk,useFactory:Zk}]}(()=>i)),o=s.injector.get(Qs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Df(this._modules,s),a.unsubscribe()})}),function cP(t,e,n){try{const r=n();return Nc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(_v);return a.runInitializers(),a.donePromise.then(()=>(function CN(t){ir(t,"Expected localeId to be defined"),"string"==typeof t&&(bN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Si,Oa)||Oa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=lP({},r);return function T8(t,e,n){const r=new ev(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ua);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(G(Kn))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function lP(t,e){return Array.isArray(e)?e.reduce(lP,t):{...t,...e}}let Ua=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(hP),this.zoneIsStable=$(Jk),this.componentTypes=[],this.components=[],this.isStable=$(qk).hasPendingTasks.pipe(At(n=>n?Q(!1):this.zoneIsStable),function $4(t,e=Yi){return t=t??j4,St((n,r)=>{let i,s=!0;n.subscribe(vt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),zA()),this._injector=$(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof ER;if(!this._injector.get(_v).done)throw!i&&function Jo(t){const e=we(t)||Zt(t)||Sn(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Kh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function S8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Fa),c=o.create(Kn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(eP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Df(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Df(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Tv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Df(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Df(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hP=new B("",{providedIn:"root",factory:()=>$(Qs).handleError.bind(void 0)});function N8(){const t=$(Re),e=$(Qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let k8=(()=>{class t{constructor(){this.zone=$(Re),this.applicationRef=$(Ua)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let bf=(()=>{class t{}return t.__NG_ELEMENT_ID__=O8,t})();function O8(t){return function F8(t,e,n){if(Hs(t)&&!n){const r=Mn(t.index,e);return new Tc(r,r)}return 47&t.type?new Tc(e[ht],e):null}($t(),D(),16==(16&t))}class yP{constructor(){}supports(e){return nf(e)}create(e){return new j8(e)}}const $8=(t,e)=>e;class j8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<vP(r,i,s)?n:r,a=vP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!nf(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function O5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new H8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _P),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _P),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class H8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _P{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new G8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class wP{constructor(){}supports(e){return e instanceof Map||O_(e)}create(){return new q8}}class q8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||O_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new z8(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class z8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IP(){return new Sf([new yP])}let Sf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IP()),deps:[[t,new Th,new Rt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:IP}),t})();function EP(){return new jc([new wP])}let jc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||EP()),deps:[[t,new Th,new Rt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:EP}),t})();const Q8=sP(null,"core",[]);let Y8=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(G(Ua))},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({}),t})();function Ba(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Pv=null;function as(){return Pv}class uK{}const ur=new B("DocumentToken");let Ov=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return $(lK)},providedIn:"platform"}),t})();const cK=new B("Location Initialized");let lK=(()=>{class t extends Ov{constructor(){super(),this._doc=$(ur),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(n){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Fv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ai(t){return t&&"?"!==t[0]?"?"+t:t}let no=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return $(RP)},providedIn:"root"}),t})();const MP=new B("appBaseHref");let RP=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ai(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Ov),G(MP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dK=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Fv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ai(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Ov),G(MP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Lv=(()=>{class t{constructor(n){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function pK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(xP(NP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ai(r))}normalize(n){return t.stripTrailingSlash(function fK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,NP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ai,t.joinWithSlash=Fv,t.stripTrailingSlash=xP,t.\u0275fac=function(n){return new(n||t)(G(no))},t.\u0275prov=q({token:t,factory:function(){return function hK(){return new Lv(G(no))}()},providedIn:"root"}),t})();function NP(t){return t.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Format=0]="Format",ot[ot.Standalone=1]="Standalone",ot))(),he=(()=>((he=he||{})[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he))(),Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function xf(t,e){return lr(pn(t)[F.DateFormat],e)}function Mf(t,e){return lr(pn(t)[F.TimeFormat],e)}function Rf(t,e){return lr(pn(t)[F.DateTimeFormat],e)}function cr(t,e){const n=pn(t),r=n[F.NumberSymbols][e];if(typeof r>"u"){if(e===W.CurrencyDecimal)return n[F.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return n[F.NumberSymbols][W.Group]}return r}function PP(t){if(!t[F.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[F.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Uv(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const SK=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hc={},AK=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.ShortGMT=1]="ShortGMT",bt[bt.Long=2]="Long",bt[bt.Extended=3]="Extended",bt))(),Y=(()=>((Y=Y||{})[Y.FullYear=0]="FullYear",Y[Y.Month=1]="Month",Y[Y.Date=2]="Date",Y[Y.Hours=3]="Hours",Y[Y.Minutes=4]="Minutes",Y[Y.Seconds=5]="Seconds",Y[Y.FractionalSeconds=6]="FractionalSeconds",Y[Y.Day=7]="Day",Y))(),le=(()=>((le=le||{})[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le))();function xK(t,e,n,r){let i=function VK(t){if(LP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Nf(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(SK))return function UK(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!LP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=xi(n,e)||e;let a,o=[];for(;e;){if(a=AK.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=FP(r,u),i=function LK(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function FK(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(FP(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function OK(t){if($v[t])return $v[t];let e;switch(t){case"G":case"GG":case"GGG":e=Pe(le.Eras,he.Abbreviated);break;case"GGGG":e=Pe(le.Eras,he.Wide);break;case"GGGGG":e=Pe(le.Eras,he.Narrow);break;case"y":e=gt(Y.FullYear,1,0,!1,!0);break;case"yy":e=gt(Y.FullYear,2,0,!0,!0);break;case"yyy":e=gt(Y.FullYear,3,0,!1,!0);break;case"yyyy":e=gt(Y.FullYear,4,0,!1,!0);break;case"Y":e=Ff(1);break;case"YY":e=Ff(2,!0);break;case"YYY":e=Ff(3);break;case"YYYY":e=Ff(4);break;case"M":case"L":e=gt(Y.Month,1,1);break;case"MM":case"LL":e=gt(Y.Month,2,1);break;case"MMM":e=Pe(le.Months,he.Abbreviated);break;case"MMMM":e=Pe(le.Months,he.Wide);break;case"MMMMM":e=Pe(le.Months,he.Narrow);break;case"LLL":e=Pe(le.Months,he.Abbreviated,ot.Standalone);break;case"LLLL":e=Pe(le.Months,he.Wide,ot.Standalone);break;case"LLLLL":e=Pe(le.Months,he.Narrow,ot.Standalone);break;case"w":e=Bv(1);break;case"ww":e=Bv(2);break;case"W":e=Bv(1,!0);break;case"d":e=gt(Y.Date,1);break;case"dd":e=gt(Y.Date,2);break;case"c":case"cc":e=gt(Y.Day,1);break;case"ccc":e=Pe(le.Days,he.Abbreviated,ot.Standalone);break;case"cccc":e=Pe(le.Days,he.Wide,ot.Standalone);break;case"ccccc":e=Pe(le.Days,he.Narrow,ot.Standalone);break;case"cccccc":e=Pe(le.Days,he.Short,ot.Standalone);break;case"E":case"EE":case"EEE":e=Pe(le.Days,he.Abbreviated);break;case"EEEE":e=Pe(le.Days,he.Wide);break;case"EEEEE":e=Pe(le.Days,he.Narrow);break;case"EEEEEE":e=Pe(le.Days,he.Short);break;case"a":case"aa":case"aaa":e=Pe(le.DayPeriods,he.Abbreviated);break;case"aaaa":e=Pe(le.DayPeriods,he.Wide);break;case"aaaaa":e=Pe(le.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":e=Pe(le.DayPeriods,he.Abbreviated,ot.Standalone,!0);break;case"bbbb":e=Pe(le.DayPeriods,he.Wide,ot.Standalone,!0);break;case"bbbbb":e=Pe(le.DayPeriods,he.Narrow,ot.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pe(le.DayPeriods,he.Abbreviated,ot.Format,!0);break;case"BBBB":e=Pe(le.DayPeriods,he.Wide,ot.Format,!0);break;case"BBBBB":e=Pe(le.DayPeriods,he.Narrow,ot.Format,!0);break;case"h":e=gt(Y.Hours,1,-12);break;case"hh":e=gt(Y.Hours,2,-12);break;case"H":e=gt(Y.Hours,1);break;case"HH":e=gt(Y.Hours,2);break;case"m":e=gt(Y.Minutes,1);break;case"mm":e=gt(Y.Minutes,2);break;case"s":e=gt(Y.Seconds,1);break;case"ss":e=gt(Y.Seconds,2);break;case"S":e=gt(Y.FractionalSeconds,1);break;case"SS":e=gt(Y.FractionalSeconds,2);break;case"SSS":e=gt(Y.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Pf(bt.Short);break;case"ZZZZZ":e=Pf(bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Pf(bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Pf(bt.Long);break;default:return null}return $v[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Nf(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function xi(t,e){const n=function gK(t){return pn(t)[F.LocaleId]}(t);if(Hc[n]=Hc[n]||{},Hc[n][e])return Hc[n][e];let r="";switch(e){case"shortDate":r=xf(t,Ke.Short);break;case"mediumDate":r=xf(t,Ke.Medium);break;case"longDate":r=xf(t,Ke.Long);break;case"fullDate":r=xf(t,Ke.Full);break;case"shortTime":r=Mf(t,Ke.Short);break;case"mediumTime":r=Mf(t,Ke.Medium);break;case"longTime":r=Mf(t,Ke.Long);break;case"fullTime":r=Mf(t,Ke.Full);break;case"short":const i=xi(t,"shortTime"),s=xi(t,"shortDate");r=kf(Rf(t,Ke.Short),[i,s]);break;case"medium":const o=xi(t,"mediumTime"),a=xi(t,"mediumDate");r=kf(Rf(t,Ke.Medium),[o,a]);break;case"long":const u=xi(t,"longTime"),c=xi(t,"longDate");r=kf(Rf(t,Ke.Long),[u,c]);break;case"full":const l=xi(t,"fullTime"),d=xi(t,"fullDate");r=kf(Rf(t,Ke.Full),[l,d])}return r&&(Hc[n][e]=r),r}function kf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Er(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function gt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function RK(t,e){switch(t){case Y.FullYear:return e.getFullYear();case Y.Month:return e.getMonth();case Y.Date:return e.getDate();case Y.Hours:return e.getHours();case Y.Minutes:return e.getMinutes();case Y.Seconds:return e.getSeconds();case Y.FractionalSeconds:return e.getMilliseconds();case Y.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Y.Hours)0===a&&-12===n&&(a=12);else if(t===Y.FractionalSeconds)return function MK(t,e){return Er(t,3).substring(0,e)}(a,e);const u=cr(o,W.MinusSign);return Er(a,e,u,r,i)}}function Pe(t,e,n=ot.Format,r=!1){return function(i,s){return function NK(t,e,n,r,i,s){switch(n){case le.Months:return function _K(t,e,n){const r=pn(t),s=lr([r[F.MonthsFormat],r[F.MonthsStandalone]],e);return lr(s,n)}(e,i,r)[t.getMonth()];case le.Days:return function yK(t,e,n){const r=pn(t),s=lr([r[F.DaysFormat],r[F.DaysStandalone]],e);return lr(s,n)}(e,i,r)[t.getDay()];case le.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function EK(t){const e=pn(t);return PP(e),(e[F.ExtraData][2]||[]).map(r=>"string"==typeof r?Uv(r):[Uv(r[0]),Uv(r[1])])}(e),l=function DK(t,e,n){const r=pn(t);PP(r);const s=lr([r[F.ExtraData][0],r[F.ExtraData][1]],e)||[];return lr(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function mK(t,e,n){const r=pn(t),s=lr([r[F.DayPeriodsFormat],r[F.DayPeriodsStandalone]],e);return lr(s,n)}(e,i,r)[o<12?0:1];case le.Eras:return function vK(t,e){return lr(pn(t)[F.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function Pf(t){return function(e,n,r){const i=-1*r,s=cr(n,W.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case bt.Short:return(i>=0?"+":"")+Er(o,2,s)+Er(Math.abs(i%60),2,s);case bt.ShortGMT:return"GMT"+(i>=0?"+":"")+Er(o,1,s);case bt.Long:return"GMT"+(i>=0?"+":"")+Er(o,2,s)+":"+Er(Math.abs(i%60),2,s);case bt.Extended:return 0===r?"Z":(i>=0?"+":"")+Er(o,2,s)+":"+Er(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const kK=0,Of=4;function OP(t){return Nf(t.getFullYear(),t.getMonth(),t.getDate()+(Of-t.getDay()))}function Bv(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=OP(n),o=function PK(t){const e=Nf(t,kK,1).getDay();return Nf(t,0,1+(e<=Of?Of:Of+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Er(i,t,cr(r,W.MinusSign))}}function Ff(t,e=!1){return function(n,r){return Er(OP(n).getFullYear(),t,cr(r,W.MinusSign),e)}}const $v={};function FP(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function LP(t){return t instanceof Date&&!isNaN(t.valueOf())}const Wv=/\s+/,$P=[];let jP=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=$P,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Wv):$P}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Wv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Wv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(C(Sf),C(jc),C(Wn),C(Ei))},t.\u0275dir=Z({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class ZK{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qc=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ZK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),GP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{GP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(wr),C(Ti),C(Sf))},t.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function GP(t,e){t.context.$implicit=e.item}let Vf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new eQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(wr),C(Ti))},t.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class eQ{constructor(){this.$implicit=null,this.ngIf=null}}function qP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}function Dr(t,e){return new T(2100,!1)}class rQ{createSubscription(e,n){return Dx(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Dx(()=>e.unsubscribe())}}class iQ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const sQ=new iQ,oQ=new rQ;let zc=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Nc(n))return sQ;if(x1(n))return oQ;throw Dr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(C(bf,16))},t.\u0275pipe=Tn({name:"async",type:t,pure:!1,standalone:!0}),t})();const hQ=new B("DATE_PIPE_DEFAULT_TIMEZONE"),fQ=new B("DATE_PIPE_DEFAULT_OPTIONS");let Uf=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(null==n||""===n||n!=n)return null;try{return xK(n,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Dr()}}}return t.\u0275fac=function(n){return new(n||t)(C(Si,16),C(hQ,24),C(fQ,24))},t.\u0275pipe=Tn({name:"date",type:t,pure:!0,standalone:!0}),t})(),DQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({}),t})();function QP(t){return"server"===t}let SQ=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new AQ(G(ur),window)}),t})();class AQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function xQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=YP(this.window.history)||YP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function YP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class rY extends uK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ew extends rY{static makeCurrent(){!function aK(t){Pv||(Pv=t)}(new ew)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function iY(){return Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null}();return null==n?null:function sY(t){Hf=Hf||document.createElement("a"),Hf.setAttribute("href",t);const e=Hf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function XK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Hf,Kc=null,aY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const tw=new B("EventManagerPlugins");let tO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(G(tw),G(Re))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class nO{constructor(e){this._doc=e}}const nw="ng-app-id";let rO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(nw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(nw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(G(ur),G(Hh),G(mR,8),G(is))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const rw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iw=/%COMP%/g,dY=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function sO(t,e){return e.map(n=>n.replace(iw,t))}let oO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=QP(a),this.defaultRenderer=new sw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jn.ShadowDom&&(r={...r,encapsulation:jn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof uO?i.applyToHost(n):i instanceof ow&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case jn.Emulated:s=new uO(u,c,r,this.appId,l,o,a,d);break;case jn.ShadowDom:return new gY(u,c,n,r,o,a,this.nonce,d);default:s=new ow(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(G(tO),G(rO),G(Hh),G(dY),G(ur),G(is),G(Re),G(mR))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class sw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=rw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=rw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,i&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=as().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function aO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class gY extends sw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=sO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ow extends sw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?sO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class uO extends ow{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function hY(t){return"_ngcontent-%COMP%".replace(iw,t)}(c),this.hostAttr=function fY(t){return"_nghost-%COMP%".replace(iw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let mY=(()=>{class t extends nO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(G(ur))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const cO=["alt","control","meta","shift"],yY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_Y={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vY=(()=>{class t extends nO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),cO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=yY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),cO.forEach(o=>{o!==i&&(0,_Y[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(G(ur))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const dO=[{provide:is,useValue:"browser"},{provide:gR,useValue:function wY(){ew.makeCurrent()},multi:!0},{provide:ur,useFactory:function EY(){return function S3(t){Yy=t}(document),document},deps:[]}],DY=sP(Q8,"browser",dO),bY=new B(""),hO=[{provide:Ef,useClass:class oY{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?as().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:eP,useClass:Ev,deps:[Re,Dv,Ef]},{provide:Ev,useClass:Ev,deps:[Re,Dv,Ef]}],fO=[{provide:s_,useValue:"root"},{provide:Qs,useFactory:function IY(){return new Qs},deps:[]},{provide:tw,useClass:mY,multi:!0,deps:[ur,Re,is]},{provide:tw,useClass:vY,multi:!0,deps:[ur]},oO,rO,tO,{provide:bR,useExisting:oO},{provide:class MQ{},useClass:aY,deps:[]},[]];let CY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Hh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(G(bY,12))},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({providers:[...fO,...hO],imports:[DQ,Y8]}),t})(),pO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(G(ur))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function SY(){return new pO(G(ur))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:kY}=Array,{getPrototypeOf:PY,prototype:OY,keys:FY}=Object;function _O(t){if(1===t.length){const e=t[0];if(kY(e))return{args:e,keys:null};if(function LY(t){return t&&"object"==typeof t&&PY(t)===OY}(e)){const n=FY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:VY}=Array;function vO(t){return Ie(e=>function UY(t,e){return VY(e)?t(...e):t(e)}(t,e))}function wO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uw(...t){const e=Qu(t),n=GA(t),{args:r,keys:i}=_O(t);if(0===r.length)return xt([],e);const s=new qe(function BY(t,e,n=Yi){return r=>{IO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)IO(e,()=>{const c=xt(t[u],e);let l=!1;c.subscribe(vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>wO(i,o):Yi));return n?s.pipe(vO(n)):s}function IO(t,e,n){t?fi(n,t,e):e()}const Gf=Wu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cw(...t){return function $Y(){return Yo(1)}()(xt(t,Qu(t)))}function EO(t){return new qe(e=>{rr(t()).subscribe(e)})}function Qc(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function lw(){return St((t,e)=>{let n=null;t._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class DO extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const n=this.getSubject();e.add(this.source.subscribe(vt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return lw()(this)}}function br(t,e){return St((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(vt(r,u=>{i?.unsubscribe();let c=0;const l=s++;rr(t(u,l)).subscribe(i=vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function $a(t){return t<=0?()=>Nr:St((e,n)=>{let r=0;e.subscribe(vt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function cs(t,e){return St((n,r)=>{let i=0;n.subscribe(vt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function qf(t){return St((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bO(t=HY){return St((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HY(){return new Gf}function ro(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cs((i,s)=>t(i,s,r)):Yi,$a(1),n?qf(e):bO(()=>new Gf))}function Yc(t,e){return Me(e)?At(t,e,1):At(t,1)}function rn(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Yi}function io(t){return St((e,n)=>{let s,r=null,i=!1;r=e.subscribe(vt(n,void 0,void 0,o=>{s=rr(t(o,io(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dw(t){return t<=0?()=>Nr:St((e,n)=>{let r=[];e.subscribe(vt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hw(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ue="primary",Xc=Symbol("RouteTitle");class KY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ja(t){return new KY(t)}function QY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CO(t[i],e[i]))return!1;return!0}function CO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function TO(t){return t.length>0?t[t.length-1]:null}function ls(t){return function NY(t){return!!t&&(t instanceof qe||Me(t.lift)&&Me(t.subscribe))}(t)?t:Nc(t)?xt(Promise.resolve(t)):Q(t)}const XY={exact:function xO(t,e,n){if(!so(t.segments,e.segments)||!zf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!xO(t.children[r],e.children[r],n))return!1;return!0},subset:MO},SO={exact:function JY(t,e){return Wr(t,e)},subset:function ZY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CO(t[n],e[n]))},ignored:()=>!0};function AO(t,e,n){return XY[n.paths](t.root,e.root,n.matrixParams)&&SO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function MO(t,e,n){return RO(t,e,e.segments,n)}function RO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!zf(i,n,r))}if(t.segments.length===n.length){if(!so(t.segments,n)||!zf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!MO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(so(t.segments,i)&&zf(t.segments,i,r)&&t.children[ue])&&RO(t.children[ue],e,s,r)}}function zf(t,e,n){return e.every((r,i)=>SO[n](t[i].parameters,r.parameters))}class Ha{constructor(e=new Se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return nX.serialize(this)}}class Se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wf(this)}}class Jc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ja(this.parameters)),this._parameterMap}toString(){return PO(this)}}function so(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Zc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new fw},providedIn:"root"}),t})();class fw{parse(e){const n=new fX(e);return new Ha(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${el(e.root,!0)}`,r=function sX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Kf(n)}=${Kf(i)}`).join("&"):`${Kf(n)}=${Kf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function rX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const nX=new fw;function Wf(t){return t.segments.map(e=>PO(e)).join("/")}function el(t,e){if(!t.hasChildren())return Wf(t);if(e){const n=t.children[ue]?el(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${el(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ue?[el(t.children[ue],!1)]:[`${i}:${el(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${Wf(t)}/${n[0]}`:`${Wf(t)}/(${n.join("//")})`}}function NO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kf(t){return NO(t).replace(/%3B/gi,";")}function pw(t){return NO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qf(t){return decodeURIComponent(t)}function kO(t){return Qf(t.replace(/\+/g,"%20"))}function PO(t){return`${pw(t.path)}${function iX(t){return Object.keys(t).map(e=>`;${pw(e)}=${pw(t[e])}`).join("")}(t.parameters)}`}const oX=/^[^\/()?;#]+/;function gw(t){const e=t.match(oX);return e?e[0]:""}const aX=/^[^\/()?;=#]+/,cX=/^[^=?&#]+/,dX=/^[^&#]+/;class fX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new Se(e,n)),r}parseSegment(){const e=gw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Jc(Qf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function uX(t){const e=t.match(aX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gw(this.remaining);i&&(r=i,this.capture(r))}e[Qf(n)]=Qf(r)}parseQueryParam(e){const n=function lX(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function hX(t){const e=t.match(dX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kO(n),s=kO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new Se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function OO(t){return t.segments.length>0?new Se([],{[ue]:t}):t}function FO(t){const e={};for(const r of Object.keys(t.children)){const s=FO(t.children[r]);if(r===ue&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pX(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new Se(t.segments.concat(e.segments),e.children)}return t}(new Se(t.segments,e))}function oo(t){return t instanceof Ha}function LO(t){let e;const i=OO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Se(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function VO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mw(i,i,i,n,r);const s=function mX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new BO(n,e,r)}(e);if(s.toRoot())return mw(i,i,new Se([],{}),n,r);const o=function yX(t,e,n){if(t.isAbsolute)return new Xf(e,!0,0);if(!n)return new Xf(e,!1,NaN);if(null===n.parent)return new Xf(n,!0,0);const r=Yf(t.commands[0])?0:1;return function _X(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Xf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?nl(o.segmentGroup,o.index,s.commands):$O(o.segmentGroup,o.index,s.commands);return mw(i,o.segmentGroup,a,n,r)}function Yf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tl(t){return"object"==typeof t&&null!=t&&t.outlets}function mw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:UO(t,e,n);const a=OO(FO(o));return new Ha(a,s,i)}function UO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:UO(s,e,n)}),new Se(t.segments,r)}class BO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yf(r[0]))throw new T(4003,!1);const i=r.find(tl);if(i&&i!==TO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $O(t,e,n){if(t||(t=new Se([],{})),0===t.segments.length&&t.hasChildren())return nl(t,e,n);const r=function wX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(tl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!HO(u,c,o))return s;r+=2}else{if(!HO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Se(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new Se(t.segments.slice(r.pathIndex),t.children),nl(s,0,i)}return r.match&&0===i.length?new Se(t.segments,{}):r.match&&!t.hasChildren()?yw(t,e,n):r.match?nl(t,0,i):yw(t,e,n)}function nl(t,e,n){if(0===n.length)return new Se(t.segments,{});{const r=function vX(t){return tl(t[0])?t[0].outlets:{[ue]:t}}(n),i={};if(!r[ue]&&t.children[ue]&&1===t.numberOfChildren&&0===t.children[ue].segments.length){const s=nl(t.children[ue],e,n);return new Se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$O(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Se(t.segments,i)}}function yw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(tl(s)){const u=IX(s.outlets);return new Se(r,u)}if(0===i&&Yf(n[0])){r.push(new Jc(t.segments[e].path,jO(n[0]))),i++;continue}const o=tl(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yf(a)?(r.push(new Jc(o,jO(a))),i+=2):(r.push(new Jc(o,{})),i++)}return new Se(r,{})}function IX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=yw(new Se([],{}),0,r))}),e}function jO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HO(t,e,n){return t==n.path&&Wr(e,n.parameters)}const rl="imperative";class Kr{constructor(e,n){this.id=e,this.url=n}}class _w extends Kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends Kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jf extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class il extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class vw extends Kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX extends Kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class CX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sl,this.attachRef=null}}let sl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new kX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ww(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ww(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Iw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Iw(e,this._root).map(n=>n.value)}}function ww(t,e){if(t===e.value)return e;for(const n of e.children){const r=ww(t,n);if(r)return r}return null}function Iw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Iw(t,n);if(r.length)return r.unshift(e),r}return[]}class Mi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ga(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class zO extends qO{constructor(e,n){super(e),this.snapshot=n,Ew(this,e)}toString(){return this.snapshot.toString()}}function WO(t,e){const n=function PX(t,e){const o=new Zf([],{},{},"",{},ue,e,null,{});return new QO("",new Mi(o,[]))}(0,e),r=new nr([new Jc("",{})]),i=new nr({}),s=new nr({}),o=new nr({}),a=new nr(""),u=new ds(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new zO(new Mi(u,[]),n)}class ds{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ie(c=>c[Xc]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function OX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Zf{get title(){return this.data?.[Xc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QO extends qO{constructor(e,n){super(n),this.url=e,Ew(this,n)}toString(){return YO(this._root)}}function Ew(t,e){e.value._routerState=t,e.children.forEach(n=>Ew(t,n))}function YO(t){const e=t.children.length>0?` { ${t.children.map(YO).join(", ")} } `:"";return`${t.value}${e}`}function Dw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wr(e.params,n.params)||t.paramsSubject.next(n.params),function YY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Wr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bw(t,e){const n=Wr(t.params,e.params)&&function eX(t,e){return so(t,e)&&t.every((n,r)=>Wr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||bw(t.parent,e.parent))}let Cw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=$(sl),this.location=$(wr),this.changeDetector=$(bf),this.environmentInjector=$(Ii),this.inputBinder=$(ep,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new FX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]}),t})();class FX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ds?this.route:e===sl?this.childContexts:this.parent.get(e,n)}}const ep=new B("");let XO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=uw([r.queryParams,r.params,r.data]).pipe(br(([s,o,a],u)=>(a={...s,...o,...a},0===u?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function oK(t){const e=we(t);if(!e)return null;const n=new Sc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function ol(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function VX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ol(t,r,i);return ol(t,r)})}(t,e,n);return new Mi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ol(t,a)),o}}const r=function UX(t){return new ds(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ol(t,s));return new Mi(r,i)}}const Tw="ngNavigationCancelingError";function JO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eF(t){return tF(t)&&oo(t.url)}function tF(t){return t&&t[Tw]}let nF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["ng-component"]],standalone:!0,features:[JN],decls:1,vars:0,template:function(n,r){1&n&&Ze(0,"router-outlet")},dependencies:[Cw],encapsulation:2}),t})();function Sw(t){const e=t.children&&t.children.map(Sw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=nF),n}function Cr(t){return t.outlet||ue}function al(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class zX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ga(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ga(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ga(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ga(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new NX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new MX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Dw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=al(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class rF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tp{constructor(e,n){this.component=e,this.route=n}}function WX(t,e,n){const r=t._root;return ul(r,e?e._root:null,n,[r.value])}function qa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Q4(t){return null!==Zd(t)}(t)?e.get(t):t:r}function ul(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ga(e);return t.children.forEach(o=>{(function QX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function YX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bw(t,e)||!Wr(t.queryParams,e.queryParams);default:return!bw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ul(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tp(a.outlet.component,o))}else o&&cl(e,a,i),i.canActivateChecks.push(new rF(r)),ul(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cl(a,n.getContext(o),i)),i}function cl(t,e,n){const r=Ga(t),i=t.value;Object.entries(r).forEach(([s,o])=>{cl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new tp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ll(t){return"function"==typeof t}function iF(t){return t instanceof Gf||"EmptyError"===t?.name}const np=Symbol("INITIAL_VALUE");function za(){return br(t=>uw(t.map(e=>e.pipe($a(1),function jY(...t){const e=Qu(t);return St((n,r)=>{(e?cw(t,n,e):cw(t,n)).subscribe(r)})}(np)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===np)return np;if(!1===n||n instanceof Ha)return n}return!0}),cs(e=>e!==np),$a(1)))}function sF(t){return function t4(...t){return TA(t)}(rn(e=>{if(oo(e))throw JO(0,e)}),Ie(e=>!0===e))}class rp{constructor(e){this.segmentGroup=e||null}}class oF{constructor(e){this.urlTree=e}}function Wa(t){return Qc(new rp(t))}function aF(t){return Qc(new oF(t))}class mJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ue])return Qc(new T(4e3,!1));i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ha(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yJ(t,e,n,r,i){const s=xw(t,e,n);return s.matched?(r=function BX(t,e){return t.providers&&!t._injector&&(t._injector=tv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function fJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=qa(o,t);return ls(function nJ(t){return t&&ll(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(za(),sF()):Q(!0)}(r,e,n).pipe(Ie(o=>!0===o?s:{...Aw}))):Q(s)}function xw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Aw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||QY)(n,t,e);if(!i)return{...Aw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function uF(t,e,n,r){return n.length>0&&function wJ(t,e,n){return n.some(r=>ip(t,e,r)&&Cr(r)!==ue)}(t,n,r)?{segmentGroup:new Se(e,vJ(r,new Se(n,t.children))),slicedSegments:[]}:0===n.length&&function IJ(t,e,n){return n.some(r=>ip(t,e,r))}(t,n,r)?{segmentGroup:new Se(t.segments,_J(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:n}}function _J(t,e,n,r,i){const s={};for(const o of r)if(ip(t,n,o)&&!i[Cr(o)]){const a=new Se([],{});s[Cr(o)]=a}return{...i,...s}}function vJ(t,e){const n={};n[ue]=e;for(const r of t)if(""===r.path&&Cr(r)!==ue){const i=new Se([],{});n[Cr(r)]=i}return n}function ip(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class CJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new mJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=uF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(io(n=>{if(n instanceof oF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof rp?this.noMatchError(n):n}),Ie(n=>{const r=new Zf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new Mi(r,n),s=new QO("",i),o=function gX(t,e,n=null,r=null){return VO(LO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ue).pipe(io(r=>{throw r instanceof rp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=KO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return xt(i).pipe(Yc(s=>{const o=r.children[s],a=function GX(t,e){const n=t.filter(r=>Cr(r)===e);return n.push(...t.filter(r=>Cr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function qY(t,e){return St(function GY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(vt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),qf(null),function zY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cs((i,s)=>t(i,s,r)):Yi,dw(1),n?qf(e):bO(()=>new Gf))}(),At(s=>{if(null===s)return Wa(r);const o=cF(s);return function TJ(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Q(o)}))}processSegment(e,n,r,i,s,o){return xt(n).pipe(Yc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(io(u=>{if(u instanceof rp)return Q(null);throw u}))),ro(a=>!!a),io(a=>{if(iF(a))return function DJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Q([]):Wa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function EJ(t,e,n,r){return!!(Cr(t)===r||r!==ue&&ip(e,n,t))&&("**"===t.path||xw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Wa(i):Wa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(At(o=>{const a=new Se(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=xw(n,i,s);if(!a)return Wa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?aF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(At(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?TO(i).parameters:{};a=Q({snapshot:new Zf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lF(r),Cr(r),r.component??r._loadedComponent??null,r,dF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=yJ(n,r,i,e).pipe(Ie(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Zf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lF(r),Cr(r),r.component??r._loadedComponent??null,r,dF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(br(u=>null===u?Wa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(br(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=uF(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ie(v=>null===v?null:[new Mi(d,v)]));if(0===c.length&&0===g.length)return Q([new Mi(d,[])]);const m=Cr(r)===s;return this.processSegment(l,c,p,g,m?ue:s,!0).pipe(Ie(v=>[new Mi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function hJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=qa(o,t);return ls(function JX(t){return t&&ll(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(za(),sF())}(e,n,r).pipe(At(i=>i?this.configLoader.loadChildren(e,n).pipe(rn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function gJ(t){return Qc(ZO(!1,3))}())):Q({routes:[],injector:e})}}function SJ(t){const e=t.value.routeConfig;return e&&""===e.path}function cF(t){const e=[],n=new Set;for(const r of t){if(!SJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cF(r.children);e.push(new Mi(r.value,i))}return e.filter(r=>!n.has(r))}function lF(t){return t.data||{}}function dF(t){return t.resolve||{}}function hF(t){return"string"==typeof t.title||null===t.title}function Mw(t){return br(e=>{const n=t(e);return n?xt(n).pipe(Ie(()=>e)):Q(e)})}const Ka=new B("ROUTES");let Rw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(zk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ls(n.loadComponent()).pipe(Ie(fF),rn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),hw(()=>{this.componentLoaders.delete(n)})),i=new DO(r,()=>new hi).pipe(lw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ka,[],z.Self|z.Optional).flat()),{routes:c.map(Sw),injector:u}}),hw(()=>{this.childrenLoaders.delete(r)})),o=new DO(s,()=>new hi).pipe(lw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ls(n()).pipe(Ie(fF),At(r=>r instanceof YN||Array.isArray(r)?Q(r):xt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fF(t){return function PJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let sp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new hi,this.configLoader=$(Rw),this.environmentInjector=$(Ii),this.urlSerializer=$(Zc),this.rootContexts=$(sl),this.inputBindingEnabled=null!==$(ep,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new AX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new SX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new nr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cs(r=>0!==r.id),Ie(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),br(r=>{let i=!1,s=!1;return Q(r).pipe(rn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),br(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new il(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Nr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return pF(o.source)&&(n.browserUrlTree=o.extractedUrl),Q(o).pipe(br(l=>{const d=this.transitions?.getValue();return this.events.next(new _w(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Nr:Promise.resolve(l)}),function AJ(t,e,n,r,i,s){return At(o=>function bJ(t,e,n,r,i,s,o="emptyOnly"){return new CJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ie(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),rn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new EX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new _w(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=WO(0,this.rootComponentType).snapshot;return Q(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new il(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Nr}}),rn(o=>{const a=new DX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ie(o=>r={...o,guards:WX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function iJ(t,e){return At(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Q({...n,guardsResult:!0}):function sJ(t,e,n,r){return xt(t).pipe(At(i=>function dJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=al(e)??i,c=qa(a,u);return ls(function tJ(t){return t&&ll(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ro())})).pipe(za()):Q(!0)}(i.component,i.route,n,e,r)),ro(i=>!0!==i,!0))}(o,r,i,t).pipe(At(a=>a&&function XX(t){return"boolean"==typeof t}(a)?function oJ(t,e,n,r){return xt(e).pipe(Yc(i=>cw(function uJ(t,e){return null!==t&&e&&e(new xX(t)),Q(!0)}(i.route.parent,r),function aJ(t,e){return null!==t&&e&&e(new RX(t)),Q(!0)}(i.route,r),function lJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function KX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>EO(()=>Q(o.guards.map(u=>{const c=al(o.node)??n,l=qa(u,c);return ls(function eJ(t){return t&&ll(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ro())})).pipe(za())));return Q(s).pipe(za())}(t,i.path,n),function cJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>EO(()=>{const o=al(e)??n,a=qa(s,o);return ls(function ZX(t){return t&&ll(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ro())}));return Q(i).pipe(za())}(t,i.route,n))),ro(i=>!0!==i,!0))}(r,s,t,e):Q(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),rn(o=>{if(r.guardsResult=o.guardsResult,oo(o.guardsResult))throw JO(0,o.guardsResult);const a=new bX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),cs(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Mw(o=>{if(o.guards.canActivateChecks.length)return Q(o).pipe(rn(a=>{const u=new CX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),br(a=>{let u=!1;return Q(a).pipe(function xJ(t,e){return At(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=0;return xt(i).pipe(Yc(o=>function MJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!hF(i)&&(s[Xc]=i.title),function RJ(t,e,n,r){const i=function NJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const s={};return xt(i).pipe(At(o=>function kJ(t,e,n,r){const i=al(e)??r,s=qa(t,i);return ls(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ro(),rn(a=>{s[o]=a}))),dw(1),function WY(t){return Ie(()=>t)}(s),io(o=>iF(o)?Nr:Qc(o)))}(s,t,e,r).pipe(Ie(o=>(t._resolvedData=o,t.data=KO(t,n).resolve,i&&hF(i)&&(t.data[Xc]=i.title),null)))}(o.route,r,t,e)),rn(()=>s++),dw(1),At(o=>s===i.length?Q(n):Nr))})}(n.paramsInheritanceStrategy,this.environmentInjector),rn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),rn(a=>{const u=new TX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Mw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(rn(l=>{u.component=l}),Ie(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uw(a(o.targetSnapshot.root)).pipe(qf(),$a(1))}),Mw(()=>this.afterPreactivation()),Ie(o=>{const a=function LX(t,e,n){const r=ol(t,e._root,n?n._root:void 0);return new zO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),rn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Ie(i=>(new zX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),$a(1),rn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),io(o=>{if(s=!0,tF(o)){eF(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Jf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),eF(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||pF(r.source)};n.scheduleNavigation(u,rl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new vw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Nr}))}))}cancelNavigationTransition(n,r,i){const s=new Jf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pF(t){return t!==rl}let gF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[Xc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return $(OJ)},providedIn:"root"}),t})(),OJ=(()=>{class t extends gF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(G(pO))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),FJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return $(VJ)},providedIn:"root"}),t})();class LJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let VJ=(()=>{class t extends LJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=jt(t)))(r||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const op=new B("",{providedIn:"root",factory:()=>({})});let UJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return $(BJ)},providedIn:"root"}),t})(),BJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Xn=(()=>((Xn=Xn||{})[Xn.COMPLETE=0]="COMPLETE",Xn[Xn.FAILED=1]="FAILED",Xn[Xn.REDIRECTING=2]="REDIRECTING",Xn))();function mF(t,e){t.events.pipe(cs(n=>n instanceof ao||n instanceof Jf||n instanceof vw||n instanceof il),Ie(n=>n instanceof ao||n instanceof il?Xn.COMPLETE:n instanceof Jf&&(0===n.code||1===n.code)?Xn.REDIRECTING:Xn.FAILED),cs(n=>n!==Xn.REDIRECTING),$a(1)).subscribe(()=>{e()})}function $J(t){throw t}function jJ(t,e,n){return e.parse("/")}const HJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$(Gk),this.isNgZoneEnabled=!1,this.options=$(op,{optional:!0})||{},this.pendingTasks=$(qk),this.errorHandler=this.options.errorHandler||$J,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$(UJ),this.routeReuseStrategy=$(FJ),this.titleStrategy=$(gF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$(Ka,{optional:!0})?.flat()??[],this.navigationTransitions=$(sp),this.urlSerializer=$(Zc),this.location=$(Lv),this.componentInputBindingEnabled=!!$(ep,{optional:!0}),this.isNgZoneEnabled=$(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ha,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=LO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return VO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=oo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rl,null,r)}navigate(n,r={skipLocationChange:!1}){return function qJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...HJ}:!1===r?{...GJ}:r,oo(n))return AO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return AO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return mF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dl=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new hi;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Ba(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Ba(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Ba(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function sR(t,e,n){return function K3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?iR:Bh}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(C(dr),C(ds),function Dh(t){return function _z(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(ix(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}($t(),t)}("tabindex"),C(Ei),C(Wn),C(no))},t.\u0275dir=Z({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Yn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&jr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[sr]}),t})();class yF{}let KJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cs(n=>n instanceof ao),Yc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=tv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xt(i).pipe(Yo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const s=i.pipe(At(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?xt([s,this.loader.loadComponent(r)]).pipe(Yo()):s})}}return t.\u0275fac=function(n){return new(n||t)(G(dr),G(zk),G(Ii),G(yF),G(Rw))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nw=new B("");let _F=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ao?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof il&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof GO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function HR(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function Ri(t,e){return{\u0275kind:t,\u0275providers:e}}function wF(){const t=$(Kn);return e=>{const n=t.get(Ua);if(e!==n.components[0])return;const r=t.get(dr),i=t.get(IF);1===t.get(kw)&&r.initialNavigation(),t.get(EF,null,z.Optional)?.setUpPreloading(),t.get(Nw,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const IF=new B("",{factory:()=>new hi}),kw=new B("",{providedIn:"root",factory:()=>1}),EF=new B("");function JJ(t){return Ri(0,[{provide:EF,useExisting:KJ},{provide:yF,useExisting:t}])}const DF=new B("ROUTER_FORROOT_GUARD"),eZ=[Lv,{provide:Zc,useClass:fw},dr,sl,{provide:ds,useFactory:function vF(t){return t.routerState.root},deps:[dr]},Rw,[]];function tZ(){return new rP("Router",dr)}let bF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[eZ,[],{provide:Ka,multi:!0,useValue:n},{provide:DF,useFactory:sZ,deps:[[dr,new Rt,new Th]]},{provide:op,useValue:r||{}},r?.useHash?{provide:no,useClass:dK}:{provide:no,useClass:RP},{provide:Nw,useFactory:()=>{const t=$(SQ),e=$(Re),n=$(op),r=$(sp),i=$(Zc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _F(i,r,t,e,n)}},r?.preloadingStrategy?JJ(r.preloadingStrategy).\u0275providers:[],{provide:rP,multi:!0,useFactory:tZ},r?.initialNavigation?oZ(r):[],r?.bindToComponentInputs?Ri(8,[XO,{provide:ep,useExisting:XO}]).\u0275providers:[],[{provide:CF,useFactory:wF},{provide:Tv,multi:!0,useExisting:CF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ka,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(G(DF,8))},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({}),t})();function sZ(t){return"guarded"}function oZ(t){return["disabled"===t.initialNavigation?Ri(3,[{provide:yv,multi:!0,useFactory:()=>{const e=$(dr);return()=>{e.setUpLocationChangeListener()}}},{provide:kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ri(2,[{provide:kw,useValue:0},{provide:yv,multi:!0,deps:[Kn],useFactory:e=>{const n=e.get(cK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(dr),s=e.get(IF);mF(i,()=>{r(!0)}),e.get(sp).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const CF=new B("");function TF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){TF(s,r,i,o,a,"next",u)}function a(u){TF(s,r,i,o,a,"throw",u)}o(void 0)})}}const SF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new dZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ap=function(t){return function(t){const e=SF(t);return Ow.encodeByteArray(e,!0)}(t).replace(/\./g,"")},up=function(t){try{return Ow.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},cp=()=>{try{return function pZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&up(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},xF=t=>{const e=(t=>{var e,n;return null===(n=null===(e=cp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MF=()=>{var t;return null===(t=cp())||void 0===t?void 0:t.config};class lp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function RF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify({alg:"none",type:"JWT"})),ap(JSON.stringify(o)),""].join(".")}function Jn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function uo(){try{return"object"==typeof indexedDB}catch{return!1}}function hl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}}class Qr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function bZ(t,e){return t.replace(CZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new hr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const CZ=/\{\$([^}]+)}/g;function Vw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kF(s)&&kF(o)){if(!Vw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kF(t){return null!==t&&"object"==typeof t}function PF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class SZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function AZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Uw),void 0===i.error&&(i.error=Uw),void 0===i.complete&&(i.complete=Uw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(){}const xZ=1e3,MZ=2,RZ=144e5,NZ=.5;function $w(t,e=xZ,n=MZ){const r=e*Math.pow(n,t),i=Math.round(NZ*r*(Math.random()-.5)*2);return Math.min(RZ,r+i)}function Ht(t){return t&&t._delegate?t._delegate:t}class Gt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class PZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function FZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===co?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const jw=[];var ee=(()=>((ee=ee||{})[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee))();const OF={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},VZ=ee.INFO,UZ={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},BZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=UZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Qa{constructor(e){this.name=e,this._logLevel=VZ,this._logHandler=BZ,this._userLogHandler=null,jw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const $Z=(t,e)=>e.some(n=>t instanceof n);let FF,LF;const VF=new WeakMap,Hw=new WeakMap,UF=new WeakMap,Gw=new WeakMap,qw=new WeakMap;let zw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function KZ(t){return"function"==typeof t?function WZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function HZ(){return LF||(LF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ww(this),e),hs(VF.get(this))}:function(...e){return hs(t.apply(Ww(this),e))}:function(e,...n){const r=t.call(Ww(this),e,...n);return UF.set(r,e.sort?e.sort():[e]),hs(r)}}(t):(t instanceof IDBTransaction&&function qZ(t){if(Hw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hw.set(t,e)}(t),$Z(t,function jZ(){return FF||(FF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zw):t)}function hs(t){if(t instanceof IDBRequest)return function GZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VF.set(n,t)}).catch(()=>{}),qw.set(e,t),e}(t);if(Gw.has(t))return Gw.get(t);const e=KZ(t);return e!==t&&(Gw.set(t,e),qw.set(e,t)),e}const Ww=t=>qw.get(t),YZ=["get","getKey","getAll","getAllKeys","count"],XZ=["put","add","delete","clear"],Kw=new Map;function BF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Kw.get(e))return Kw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YZ.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Kw.set(e,s),s}!function zZ(t){zw=t(zw)}(t=>({...t,get:(e,n,r)=>BF(e,n)||t.get(e,n,r),has:(e,n)=>!!BF(e,n)||t.has(e,n)}));class JZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function ZZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Qw="@firebase/app",lo=new Qa("@firebase/app"),hp="[DEFAULT]",Cee={[Qw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,fp=new Map;function Tee(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(fp.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of ho.values())Tee(n,t);return!0}function fl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ni=new Qr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Aee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Ya="9.22.2";function jF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=MF()),!n)throw Ni.create("no-options");const s=ho.get(i);if(s){if(Vw(n,s.options)&&Vw(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new LZ(i);for(const u of fp.values())o.addComponent(u);const a=new Aee(n,r,o);return ho.set(i,a),a}function Yw(t=hp){const e=ho.get(t);if(!e&&t===hp&&MF())return jF();if(!e)throw Ni.create("no-app",{appName:t});return e}function HF(){return Array.from(ho.values())}function je(t,e,n){var r;let i=null!==(r=Cee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}sn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xee="firebase-heartbeat-database",Mee=1,pl="firebase-heartbeat-store";let Jw=null;function GF(){return Jw||(Jw=function QZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hs(o.result),u.oldVersion,u.newVersion,hs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(xee,Mee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pl)}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Jw}function Zw(){return(Zw=y(function*(t){try{return yield(yield GF()).transaction(pl).objectStore(pl).get(zF(t))}catch(e){if(e instanceof hr)lo.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}})).apply(this,arguments)}function qF(t,e){return eI.apply(this,arguments)}function eI(){return(eI=y(function*(t,e){try{const r=(yield GF()).transaction(pl,"readwrite");yield r.objectStore(pl).put(e,zF(t)),yield r.done}catch(n){if(n instanceof hr)lo.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}})).apply(this,arguments)}function zF(t){return`${t.name}!${t.options.appId}`}class Pee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=WF(),{heartbeatsToSend:r,unsentEntries:i}=function Oee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ap(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WF(){return(new Date).toISOString().substring(0,10)}class Fee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!uo()&&hl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Ree(t){return Zw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KF(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}!function Lee(t){sn(new Gt("platform-logger",e=>new JZ(e),"PRIVATE")),sn(new Gt("heartbeat",e=>new Pee(e),"PRIVATE")),je(Qw,"0.9.12",t),je(Qw,"0.9.12","esm2017"),je("fire-js","")}(""),je("firebase","9.22.2","app");const Bee=(t,e)=>e.some(n=>t instanceof n);let QF,YF;const XF=new WeakMap,tI=new WeakMap,JF=new WeakMap,nI=new WeakMap,rI=new WeakMap;let iI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Wee(t){return"function"==typeof t?function zee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jee(){return YF||(YF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sI(this),e),fs(XF.get(this))}:function(...e){return fs(t.apply(sI(this),e))}:function(e,...n){const r=t.call(sI(this),e,...n);return JF.set(r,e.sort?e.sort():[e]),fs(r)}}(t):(t instanceof IDBTransaction&&function Gee(t){if(tI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tI.set(t,e)}(t),Bee(t,function $ee(){return QF||(QF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iI):t)}function fs(t){if(t instanceof IDBRequest)return function Hee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XF.set(n,t)}).catch(()=>{}),rI.set(e,t),e}(t);if(nI.has(t))return nI.get(t);const e=Wee(t);return e!==t&&(nI.set(t,e),rI.set(e,t)),e}const sI=t=>rI.get(t),Qee=["get","getKey","getAll","getAllKeys","count"],Yee=["put","add","delete","clear"],oI=new Map;function ZF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oI.get(e))return oI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Yee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qee.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oI.set(e,s),s}!function qee(t){iI=t(iI)}(t=>({...t,get:(e,n,r)=>ZF(e,n)||t.get(e,n,r),has:(e,n)=>!!ZF(e,n)||t.has(e,n)}));const eL="@firebase/installations",aI="0.6.4",tL=1e4,nL=`w:${aI}`,rL="FIS_v2",Xee="https://firebaseinstallations.googleapis.com/v1",Jee=36e5,ki=new Qr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function iL(t){return t instanceof hr&&t.code.includes("request-failed")}function uI({projectId:t}){return`${Xee}/projects/${t}/installations`}function sL(t){return{token:t.token,requestStatus:2,expiresIn:nte(t.expiresIn),creationTime:Date.now()}}function cI(t,e){return lI.apply(this,arguments)}function lI(){return(lI=y(function*(t,e){const r=(yield e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function oL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dI(t){return hI.apply(this,arguments)}function hI(){return(hI=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function nte(t){return Number(t.replace("s","000"))}function fI(){return(fI=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uI(t),i=oL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:rL,appId:t.appId,sdkVersion:nL})},u=yield dI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:sL(c.authToken)}}throw yield cI("Create Installation",u)})).apply(this,arguments)}function uL(t){return new Promise(e=>{setTimeout(e,t)})}const ote=/^[cdef][\w-]{21}$/,pI="";function ate(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function ute(t){return function ste(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ote.test(n)?n:pI}catch{return pI}}function Xa(t){return`${t.appName}!${t.appId}`}const Ja=new Map;function cL(t,e){const n=Xa(t);lL(n,e),function dte(t,e){const n=function dL(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{lL(t.data.key,t.data.fid)}),fo}();n&&n.postMessage({key:t,fid:e}),function hL(){0===Ja.size&&fo&&(fo.close(),fo=null)}()}(n,e)}function lL(t,e){const n=Ja.get(t);if(n)for(const r of n)r(e)}let fo=null;const hte="firebase-installations-database",fte=1,po="firebase-installations-store";let gI=null;function mI(){return gI||(gI=function Kee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fs(o.result),u.oldVersion,u.newVersion,fs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(hte,fte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(po)}})),gI}function pp(t,e){return yI.apply(this,arguments)}function yI(){return(yI=y(function*(t,e){const n=Xa(t),i=(yield mI()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&cL(t,e.fid),e})).apply(this,arguments)}function _I(t){return vI.apply(this,arguments)}function vI(){return(vI=y(function*(t){const e=Xa(t),r=(yield mI()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done})).apply(this,arguments)}function gl(t,e){return wI.apply(this,arguments)}function wI(){return(wI=y(function*(t,e){const n=Xa(t),i=(yield mI()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&cL(t,a.fid),a})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return EI=y(function*(t){let e;const n=yield gl(t.appConfig,r=>{const i=function pte(t){return pL(t||{fid:ate(),registrationStatus:0})}(r),s=function gte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mte(t,e){return DI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===pI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),EI.apply(this,arguments)}function DI(){return DI=y(function*(t,e){try{const n=yield function ite(t,e){return fI.apply(this,arguments)}(t,e);return pp(t.appConfig,n)}catch(n){throw iL(n)&&409===n.customData.serverCode?yield _I(t.appConfig):yield pp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),DI.apply(this,arguments)}function yte(t){return bI.apply(this,arguments)}function bI(){return(bI=y(function*(t){let e=yield fL(t.appConfig);for(;1===e.registrationStatus;)yield uL(100),e=yield fL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield II(t);return r||n}return e})).apply(this,arguments)}function fL(t){return gl(t,e=>{if(!e)throw ki.create("installation-not-found");return pL(e)})}function pL(t){return function _te(t){return 1===t.registrationStatus&&t.registrationTime+tL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function CI(){return(CI=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function wte(t,{fid:e}){return`${uI(t)}/${e}/authTokens:generate`}(t,n),i=function aL(t,{refreshToken:e}){const n=oL(t);return n.append("Authorization",function rte(t){return`${rL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:nL,appId:t.appId}})},u=yield dI(()=>fetch(r,a));if(u.ok)return sL(yield u.json());throw yield cI("Generate Auth Token",u)})).apply(this,arguments)}function TI(t){return SI.apply(this,arguments)}function SI(){return SI=y(function*(t,e=!1){let n;const r=yield gl(t.appConfig,s=>{if(!mL(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&function Dte(t){return 2===t.requestStatus&&!function bte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Jee}(t)}(o))return s;if(1===o.requestStatus)return n=function Ite(t,e){return AI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=function Cte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ete(t,e){return xI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),SI.apply(this,arguments)}function AI(){return(AI=y(function*(t,e){let n=yield gL(t.appConfig);for(;1===n.authToken.requestStatus;)yield uL(100),n=yield gL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?TI(t,e):r})).apply(this,arguments)}function gL(t){return gl(t,e=>{if(!mL(e))throw ki.create("not-registered");return function Tte(t){return 1===t.requestStatus&&t.requestTime+tL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function xI(){return xI=y(function*(t,e){try{const n=yield function vte(t,e){return CI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield pp(t.appConfig,r),n}catch(n){if(!iL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pp(t.appConfig,r)}else yield _I(t.appConfig);throw n}}),xI.apply(this,arguments)}function mL(t){return void 0!==t&&2===t.registrationStatus}function MI(){return(MI=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield II(e);return r?r.catch(console.error):TI(e).catch(console.error),n.fid})).apply(this,arguments)}function RI(){return RI=y(function*(t,e=!1){const n=t;return yield function xte(t){return NI.apply(this,arguments)}(n),(yield TI(n,e)).token}),RI.apply(this,arguments)}function NI(){return(NI=y(function*(t){const{registrationPromise:e}=yield II(t);e&&(yield e)})).apply(this,arguments)}function OI(t){return ki.create("missing-app-config-values",{valueName:t})}const yL="installations",Pte=t=>{const e=t.getProvider("app").getImmediate(),n=function Nte(t){if(!t||!t.options)throw OI("App Configuration");if(!t.name)throw OI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw OI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:fl(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ote=t=>{const n=fl(t.getProvider("app").getImmediate(),yL).getImmediate();return{getId:()=>function Ste(t){return MI.apply(this,arguments)}(n),getToken:i=>function Ate(t){return RI.apply(this,arguments)}(n,i)}};(function Fte(){sn(new Gt(yL,Pte,"PUBLIC")),sn(new Gt("installations-internal",Ote,"PRIVATE"))})(),je(eL,aI),je(eL,aI,"esm2017");const FI="@firebase/remote-config",Pn=new Qr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Kte(t=navigator){return t.languages&&t.languages[0]||t.language}class Qte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Kte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Pn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Pn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Jte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function Yte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Xte(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+$w(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class tne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mp(t,e){const n=t.target.error||void 0;return Pn.create(e,{originalErrorMessage:n&&n?.message})}const go="app_namespace_store";class sne{constructor(e,n,r,i=function ine(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(mp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(n){e(Pn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readonly").objectStore(go),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(mp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Pn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([go],"readwrite").objectStore(go),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(mp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Pn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readwrite").objectStore(go),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(mp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Pn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class one{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function une(){return $I.apply(this,arguments)}function $I(){return($I=y(function*(){if(!uo())return!1;try{return yield hl()}catch{return!1}})).apply(this,arguments)}!function ane(){sn(new Gt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!uo())throw Pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Pn.create("registration-project-id");if(!o)throw Pn.create("registration-api-key");if(!a)throw Pn.create("registration-app-id");const u=new sne(a,r.name,n=n||"firebase"),c=new one(u),l=new Qa(FI);l.logLevel=ee.ERROR;const d=new Qte(i,Ya,n,s,o,a),h=new Jte(d,u),f=new Wte(h,u,c,l),p=new tne(r,f,c,u,l);return function Gte(t){const e=Ht(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(FI,"0.4.4"),je(FI,"0.4.4","esm2017")}();const cne=(t,e)=>e.some(n=>t instanceof n);let IL,EL;const DL=new WeakMap,jI=new WeakMap,bL=new WeakMap,HI=new WeakMap,GI=new WeakMap;let qI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mne(t){return"function"==typeof t?function gne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dne(){return EL||(EL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(zI(this),e),Pi(DL.get(this))}:function(...e){return Pi(t.apply(zI(this),e))}:function(e,...n){const r=t.call(zI(this),e,...n);return bL.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function fne(t){if(jI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jI.set(t,e)}(t),cne(t,function lne(){return IL||(IL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qI):t)}function Pi(t){if(t instanceof IDBRequest)return function hne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DL.set(n,t)}).catch(()=>{}),GI.set(e,t),e}(t);if(HI.has(t))return HI.get(t);const e=mne(t);return e!==t&&(HI.set(t,e),GI.set(e,t)),e}const zI=t=>GI.get(t);function CL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function WI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Pi(n).then(()=>{})}const yne=["get","getKey","getAll","getAllKeys","count"],_ne=["put","add","delete","clear"],KI=new Map;function TL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(KI.get(e))return KI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_ne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yne.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return KI.set(e,s),s}!function pne(t){qI=t(qI)}(t=>({...t,get:(e,n,r)=>TL(e,n)||t.get(e,n,r),has:(e,n)=>!!TL(e,n)||t.has(e,n)}));const vne="/firebase-messaging-sw.js",wne="/firebase-cloud-messaging-push-scope",SL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ine="https://fcmregistrations.googleapis.com/v1",AL="google.c.a.c_id",Ene="google.c.a.c_l",Dne="google.c.a.ts";var ps=(()=>((ps=ps||{}).PUSH_RECEIVED="push-received",ps.NOTIFICATION_CLICKED="notification-clicked",ps))();function Oi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const QI="fcm_token_details_db",Tne=5,xL="fcm_token_object_Store";function YI(){return YI=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(QI))return null;let e=null;return(yield CL(QI,Tne,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(xL))return;const c=a.objectStore(xL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield WI(QI),yield WI("fcm_vapid_details_db"),yield WI("undefined"),function Ane(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),YI.apply(this,arguments)}const xne="firebase-messaging-database",Mne=1,mo="firebase-messaging-store";let XI=null;function JI(){return XI||(XI=CL(xne,Mne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mo)}})),XI}function ML(t){return ZI.apply(this,arguments)}function ZI(){return ZI=y(function*(t){const e=rE(t),r=yield(yield JI()).transaction(mo).objectStore(mo).get(e);if(r)return r;{const i=yield function Sne(t){return YI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield eE(t,i),i}}),ZI.apply(this,arguments)}function eE(t,e){return tE.apply(this,arguments)}function tE(){return(tE=y(function*(t,e){const n=rE(t),i=(yield JI()).transaction(mo,"readwrite");return yield i.objectStore(mo).put(e,n),yield i.done,e})).apply(this,arguments)}function nE(){return(nE=y(function*(t){const e=rE(t),r=(yield JI()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function rE({appConfig:t}){return t.appId}const qt=new Qr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kne(t,e){return iE.apply(this,arguments)}function iE(){return(iE=y(function*(t,e){const n=yield uE(t),r=NL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(aE(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function sE(){return(sE=y(function*(t,e){const n=yield uE(t),r=NL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${aE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function RL(t,e){return oE.apply(this,arguments)}function oE(){return(oE=y(function*(t,e){const r={method:"DELETE",headers:yield uE(t)};try{const s=yield(yield fetch(`${aE(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function aE({projectId:t}){return`${Ine}/projects/${t}/registrations`}function uE(t){return cE.apply(this,arguments)}function cE(){return(cE=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function NL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==SL&&(i.web.applicationPubKey=r),i}const One=6048e5;function lE(){return lE=y(function*(t){const e=yield function Vne(t,e){return pE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield ML(t.firebaseDependencies);if(r){if(function Une(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+One?function Lne(t,e){return hE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield RL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return PL(t.firebaseDependencies,n)}return PL(t.firebaseDependencies,n)}),lE.apply(this,arguments)}function dE(){return dE=y(function*(t){const e=yield ML(t.firebaseDependencies);e&&(yield RL(t.firebaseDependencies,e.token),yield function Rne(t){return nE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),dE.apply(this,arguments)}function hE(){return hE=y(function*(t,e){try{const n=yield function Pne(t,e){return sE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield eE(t.firebaseDependencies,r),n}catch(n){throw yield function kL(t){return dE.apply(this,arguments)}(t),n}}),hE.apply(this,arguments)}function PL(t,e){return fE.apply(this,arguments)}function fE(){return(fE=y(function*(t,e){const r={token:yield kne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield eE(t,r),r.token})).apply(this,arguments)}function pE(){return(pE=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cne(e)})})).apply(this,arguments)}function OL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Bne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function $ne(t,e){e.data&&(t.data=e.data)}(e,t),function jne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function FL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function gE(t){return qt.create("missing-app-config-values",{valueName:t})}FL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),FL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Gne(t){if(!t||!t.options)throw gE("App Configuration Object");if(!t.name)throw gE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw gE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mE(){return(mE=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(vne,{scope:wne}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yE(){return(yE=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function LL(t){return mE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _E(){return(_E=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=SL)})).apply(this,arguments)}function vE(){return vE=y(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield function Wne(t,e){return _E.apply(this,arguments)}(t,e?.vapidKey),yield function zne(t,e){return yE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Fne(t){return lE.apply(this,arguments)}(t)}),vE.apply(this,arguments)}function wE(){return(wE=y(function*(t,e,n){const r=function Qne(t){switch(t){case ps.NOTIFICATION_CLICKED:return"notification_open";case ps.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[AL],message_name:n[Ene],message_time:n[Dne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IE(){return IE=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ps.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(OL(n)):t.onMessageHandler.next(OL(n)));const r=n.data;(function Hne(t){return"object"==typeof t&&!!t&&AL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Kne(t,e,n){return wE.apply(this,arguments)}(t,n.messageType,r))}),IE.apply(this,arguments)}const UL="@firebase/messaging",Xne=t=>{const e=new qne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Yne(t,e){return IE.apply(this,arguments)}(e,n)),e},Jne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function VL(t,e){return vE.apply(this,arguments)}(e,r)}};function $L(){return EE.apply(this,arguments)}function EE(){return(EE=y(function*(){try{yield hl()}catch{return!1}return typeof window<"u"&&uo()&&Lw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zne(){sn(new Gt("messaging",Xne,"PUBLIC")),sn(new Gt("messaging-internal",Jne,"PRIVATE")),je(UL,"0.12.4"),je(UL,"0.12.4","esm2017")}();const yp="analytics",nre="firebase_id",rre="origin",ire=6e4,sre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CE="https://www.googletagmanager.com/gtag/js",kt=new Qa("@firebase/analytics"),mn=new Qr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function are(t){if(!t.startsWith(CE)){const e=mn.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function jL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function TE(){return(TE=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield jL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){kt.error(a)}t("config",i,s)})).apply(this,arguments)}function SE(){return(SE=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield jL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){kt.error(s)}})).apply(this,arguments)}const mre=30,HL=new class _re{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function vre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function AE(){return(AE=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:vre(r)},s=sre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function xE(){return(xE=y(function*(t,e=HL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bre;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:ire),GL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function GL(t,e,n){return ME.apply(this,arguments)}function ME(){return ME=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=HL){var s;const{appId:o,measurementId:a}=t;try{yield function Ere(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function wre(t){return AE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Dre(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?$w(n,i.intervalMillis,mre):$w(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),kt.debug(`Calling attemptFetch again in ${l} millis`),GL(t,d,r,i)}}),ME.apply(this,arguments)}class bre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let RE,VE;function NE(){return(NE=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function UE(){return(UE=y(function*(){if(!uo())return kt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hl()}catch(t){return kt.warn(mn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function BE(){return BE=y(function*(t,e,n,r,i,s,o){var a;const u=function Ire(t){return xE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>kt.error(f)),e.push(u);const c=function Rre(){return UE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function gre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CE)&&n.src.includes(t))return n;return null})(s)||function cre(t,e){const n=function ure(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:are}),r=document.createElement("script"),i=`${CE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),VE&&(i("consent","default",VE),function qL(t){VE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[rre]="firebase",h.update=!0,null!=d&&(h[nre]=d),i("config",l.measurementId,h),RE&&(i("set",RE),function zL(t){RE=t}(void 0)),l.measurementId}),BE.apply(this,arguments)}class kre{constructor(e){this.app=e}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},WL=[];const KL={};let YL,Xr,_p="dataLayer",$E=!1;function Ore(t,e,n){!function Pre(){const t=[];if(Fw()&&t.push("This is a browser extension environment."),Lw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}();const r=t.options.appId;if(!r)throw mn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw mn.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[r])throw mn.create("already-exists",{id:r});if(!$E){!function lre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_p);const{wrappedGtag:s,gtagCore:o}=function pre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function fre(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function hre(t,e,n,r,i){return SE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function dre(t,e,n,r,i,s){return TE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){kt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Yr,WL,KL,_p,"gtag");Xr=s,YL=o,$E=!0}return Yr[r]=function Nre(t,e,n,r,i,s,o){return BE.apply(this,arguments)}(t,WL,KL,e,YL,_p,n),new kre(t)}function Lre(){return jE.apply(this,arguments)}function jE(){return(jE=y(function*(){if(Fw()||!Lw()||!uo())return!1;try{return yield hl()}catch{return!1}})).apply(this,arguments)}const XL="@firebase/analytics";!function Ure(){sn(new Gt(yp,(e,{options:n})=>Ore(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sn(new Gt("analytics-internal",function t(e){try{const n=e.getProvider(yp).getImmediate();return{logEvent:(r,i,s)=>function Vre(t,e,n,r){t=Ht(t),function Cre(t,e,n,r,i){return NE.apply(this,arguments)}(Xr,Yr[t.app.options.appId],e,n,r).catch(i=>kt.error(i))}(n,r,i,s)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(XL,"0.10.0"),je(XL,"0.10.0","esm2017")}();class Bre extends Bn{constructor(e,n){super()}schedule(e,n=0){return this}}const vp={setInterval(t,e,...n){const{delegate:r}=vp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=vp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class ZL extends Bre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return vp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&vp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const eV={now:()=>(eV.delegate||Date).now(),delegate:void 0};class ml{constructor(e,n=ml.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ml.now=eV.now;class tV extends ml{constructor(e,n=ml.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Hre=new class jre extends tV{}(class $re extends ZL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Gre=new tV(ZL),wp=new wa("7.6.1"),GE="__angularfire_symbol__analyticsIsSupportedValue",qE="__angularfire_symbol__analyticsIsSupported",zE="__angularfire_symbol__remoteConfigIsSupportedValue",WE="__angularfire_symbol__remoteConfigIsSupported",KE="__angularfire_symbol__messagingIsSupportedValue",QE="__angularfire_symbol__messagingIsSupported";function Ip(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[qE]||(globalThis[qE]=Lre().then(t=>globalThis[GE]=t).catch(()=>globalThis[GE]=!1)),globalThis[QE]||(globalThis[QE]=$L().then(t=>globalThis[KE]=t).catch(()=>globalThis[KE]=!1)),globalThis[WE]||(globalThis[WE]=une().then(t=>globalThis[zE]=t).catch(()=>globalThis[zE]=!1));const Ep=(t,e)=>{const n=e?[e]:HF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Za(){}class nV{constructor(e,n=Hre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class qre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za)),n.pipe(rn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let XE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nV(Zone.current)),this.insideAngular=n.run(()=>new nV(Zone.current,Gre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(G(Re))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function _o(t){return yo().ngZone.run(()=>t())}function Wre(t){return yo(),function Kre(t){return function(n){return(n=n.lift(new qre(t.ngZone))).pipe(Yd(t.outsideAngular),Qd(t.insideAngular))}}(yo())(t)}const Qre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(void 0,r))},yn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Za,{},Za,Za)))),r[s]=Qre(r[s],n));const i=function zre(t){return yo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof qe){const s=yo();return i.pipe(Yd(s.outsideAngular),Qd(s.insideAngular))}return _o(()=>i)}return i instanceof qe?i.pipe(Wre):i instanceof Promise?_o(()=>new Promise((s,o)=>i.then(a=>_o(()=>s(a)),a=>_o(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};class vo{constructor(e){return e}}class JE{constructor(){return HF()}}const ZE=new B("angularfire2._apps"),Xre={provide:vo,useFactory:function Yre(t){return t&&1===t.length?t[0]:new vo(Yw())},deps:[[new Rt,ZE]]},Jre={provide:JE,deps:[[new Rt,ZE]]};function Zre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vo(r)}}let eie=(()=>{class t{constructor(n){je("angularfire",wp.full,"core"),je("angularfire",wp.full,"app"),je("angular",CR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(G(is))},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({providers:[Xre,Jre]}),t})();function tie(t,...e){return{ngModule:eie,providers:[{provide:ZE,useFactory:Zre(t),multi:!0,deps:[Re,Kn,XE,...e]}]}}const nie=yn(jF,!0);const rie=function rV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iV=new Qr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dp=new Qa("@firebase/auth");function bp(t,...e){Dp.logLevel<=ee.ERROR&&Dp.error(`Auth (${Ya}): ${t}`,...e)}function On(t,...e){throw eD(t,...e)}function Jr(t,...e){return eD(t,...e)}function eD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iV.create(t,...e)}function R(t,e,...n){if(!t)throw eD(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function gs(t,e){t||Zr(e)}function oV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _l{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=function wZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}()||function EZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function sie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tD(){return"http:"===oV()||"https:"===oV()}()||Fw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class aV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uie=new _l(3e4,6e4);function nt(t,e,n,r){return rD.apply(this,arguments)}function rD(){return(rD=y(function*(t,e,n,r,i={}){return uV(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=PF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),aV.fetch()(cV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uV(t,e,n){return iD.apply(this,arguments)}function iD(){return(iD=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aie),e);try{const i=new cie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw vl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw vl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw vl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function sV(t,e,n){const r=Object.assign(Object.assign({},rie()),{[e]:n});return new Qr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);On(t,l)}}catch(i){if(i instanceof hr)throw i;On(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function cV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function nD(t,e){gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class cie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),uie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function oD(){return(oD=y(function*(t,e){return nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function uD(){return(uD=y(function*(t,e){return nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cD(){return(cD=y(function*(t,e=!1){const n=Ht(t),r=yield n.getIdToken(e),i=Cp(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wl(lD(i.auth_time)),issuedAtTime:wl(lD(i.iat)),expirationTime:wl(lD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function lD(t){return 1e3*Number(t)}function Cp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=up(n);return i?JSON.parse(i):(bp("Failed to decode base64 JWT payload"),null)}catch(i){return bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(t,e){return dD.apply(this,arguments)}function dD(){return(dD=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof hr&&function gie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class mie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class lV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Il(t){return hD.apply(this,arguments)}function hD(){return hD=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Li(t,function hie(t,e){return uD.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function vie(t){return t.map(e=>{var{providerId:n}=e,r=Gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function _ie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),hD.apply(this,arguments)}function fD(){return(fD=y(function*(t){const e=Ht(t);yield Il(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function pD(){return(pD=y(function*(t,e){const n=yield uV(t,{},y(function*(){const r=PF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function pie(t){const e=Cp(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function wie(t,e){return pD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new El;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function ms(t,e){R("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class wo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Li(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function fie(t){return cD.apply(this,arguments)}(this,e)}reload(){return function yie(t){return fD.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Il(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Li(e,function lie(t,e){return oD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:M,isAnonymous:L,providerData:J,stsTokenManager:Ge}=n;R(E&&Ge,e,"internal-error");const Dn=El.fromJSON(this.name,Ge);R("string"==typeof E,e,"internal-error"),ms(d,e.name),ms(h,e.name),R("boolean"==typeof M,e,"internal-error"),R("boolean"==typeof L,e,"internal-error"),ms(f,e.name),ms(p,e.name),ms(g,e.name),ms(m,e.name),ms(v,e.name),ms(_,e.name);const di=new wo({uid:E,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Dn,createdAt:v,lastLoginAt:_});return J&&Array.isArray(J)&&(di.providerData=J.map(Hge=>Object.assign({},Hge))),m&&(di._redirectEventId=m),di}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new El;i.updateFromServerResponse(n);const s=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Il(s),s})()}}const dV=new Map;function Vi(t){gs(t instanceof Function,"Expected a class definition");let e=dV.get(t);return e?(gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dV.set(t,e),e)}const hV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}class tu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?wo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new tu(Vi(hV),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(hV);const o=Tp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=wo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new tu(s,e,r)):new tu(s,e,r)})()}}function fV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function mV(t=Jn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function pV(t=Jn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function _V(t=Jn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function vV(t=Jn()){return/webos/i.test(t)}(e))return"Webos";if(function gD(t=Jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function gV(t=Jn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function yV(t=Jn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function wV(t,e=[]){let n;switch(t){case"Browser":n=fV(Jn());break;case"Worker":n=`${fV(Jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}function IV(t,e){return yD.apply(this,arguments)}function yD(){return(yD=y(function*(t,e){return nt(t,"GET","/v2/recaptchaConfig",function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function DV(t){return void 0!==t&&void 0!==t.enterprise}class bV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class TV{constructor(e){this.type="recaptcha-enterprise",this.auth=Pt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){IV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new bV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;DV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&DV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function _D(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function bie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Aie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class xie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SV(this),this.idTokenSubscription=new SV(this),this.beforeStateQueue=new Aie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield tu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Il(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function oie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Ht(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Vi(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield IV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new TV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Vi(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield tu.create(n,[Vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function iie(t,...e){Dp.logLevel<=ee.WARN&&Dp.warn(`Auth (${Ya}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pt(t){return Ht(t)}class SV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function TZ(t,e){const n=new SZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function CV(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new _l(3e4,6e4),new _l(2e3,1e4),new _l(3e4,6e4),new _l(5e3,15e3),encodeURIComponent("fac");var n2="@firebase/auth";class Ioe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}cp(),function Doe(t){sn(new Gt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wV(t)},c=new xie(r,i,s,u);return function Rie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new Gt("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return new Ioe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(n2,"0.23.2",function Eoe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),je(n2,"0.23.2","esm2017")}("Browser");class sC{constructor(){return Ep("auth")}}const aC=new Map,o2={activated:!1,tokenObservers:[]},Moe={initialized:!1,enabled:!1};function rt(t){return aC.get(t)||Object.assign({},o2)}function Up(){return Moe}const uC="https://content-firebaseappcheck.googleapis.com/v1",Poe="exchangeDebugToken",a2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Foe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new lp,yield function Loe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new lp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const zt=new Qr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cC(t){if(!rt(t).activated)throw zt.create("use-before-activation",{appName:t.name})}function jp(t,e){return dC.apply(this,arguments)}function dC(){return dC=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw zt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw zt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),dC.apply(this,arguments)}function u2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uC}/projects/${n}/apps/${r}:${Poe}?key=${i}`,body:{debug_token:e}}}const $oe="firebase-app-check-database",joe=1,Sl="firebase-app-check-store";let Hp=null;function hC(){return hC=y(function*(t,e){const r=(yield function l2(){return Hp||(Hp=new Promise((t,e)=>{try{const n=indexedDB.open($oe,joe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sl,{keyPath:"compositeKey"})}}catch(n){e(zt.create("storage-open",{originalErrorMessage:n?.message}))}}),Hp)}()).transaction(Sl,"readwrite"),s=r.objectStore(Sl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),hC.apply(this,arguments)}const Al=new Qa("@firebase/app-check");function gC(t,e){return uo()?function Goe(t,e){return function d2(t,e){return hC.apply(this,arguments)}(function f2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Al.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yC(){return Up().enabled}function _C(){return vC.apply(this,arguments)}function vC(){return vC=y(function*(){const t=Up();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vC.apply(this,arguments)}const Yoe={error:"UNKNOWN_ERROR"};function Xoe(t){return Ow.encodeString(JSON.stringify(t),!1)}function Gp(t){return wC.apply(this,arguments)}function wC(){return wC=y(function*(t,e=!1){const n=t.app;cC(n);const r=rt(n);let s,i=r.token;if(i&&!ru(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ru(u)?i=u:yield gC(n,void 0))}if(!e&&i&&ru(i))return{token:i.token};let a,o=!1;if(yC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=jp(u2(n,yield _C()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield gC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield rt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Al.warn(u.message):Al.error(u),s=u}return i?s?a=ru(i)?{token:i.token,internalError:s}:y2(s):(a={token:i.token},r.token=i,yield gC(n,i)):a=y2(s),o&&function m2(t,e){const n=rt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),wC.apply(this,arguments)}function IC(){return IC=y(function*(t){const e=t.app;cC(e);const{provider:n}=rt(e);if(yC()){const r=yield _C(),{token:i}=yield jp(u2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),IC.apply(this,arguments)}function DC(t,e){const n=rt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function g2(t){const{app:e}=t,n=rt(e);let r=n.tokenRefresher;r||(r=function Joe(t){const{app:e}=t;return new Foe(y(function*(){let r;if(r=rt(e).token?yield Gp(t,!0):yield Gp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=rt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},a2.RETRIAL_MIN_WAIT,a2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ru(t){return t.expireTimeMillis-Date.now()>0}function y2(t){return{token:Xoe(Yoe),error:t}}class Zoe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=rt(this.app);for(const n of e)DC(this.app,n.next);return Promise.resolve()}}const C2="app-check-internal";!function fae(){sn(new Gt("app-check",t=>function eae(t,e){return new Zoe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(C2).initialize()})),sn(new Gt(C2,t=>function tae(t){return{getToken:e=>Gp(t,e),getLimitedUseToken:()=>function p2(t){return IC.apply(this,arguments)}(t),addTokenListener:e=>function EC(t,e,n,r){const{app:i}=t,s=rt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ru(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),g2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>g2(t))}(t,"INTERNAL",e),removeTokenListener:e=>DC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.8.0")}();class SC{constructor(){return Ep("app-check")}}typeof window<"u"&&window;var P,_ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={},xC=xC||{},ie=_ae||self;function zp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var MC="closure_uid_"+(1e9*Math.random()>>>0),wae=0;function Iae(t,e,n){return t.call.apply(t.bind,arguments)}function Eae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iae:Eae).apply(null,arguments)}function Wp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _s(){this.s=this.s,this.o=this.o}_s.prototype.s=!1,_s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vae(t){Object.prototype.hasOwnProperty.call(t,MC)&&t[MC]||(t[MC]=++wae)}(this)},_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function RC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function A2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var bae=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function Ml(t){return/^[\s\xa0]*$/.test(t)}function Kp(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function ei(t){return-1!=Kp().indexOf(t)}function NC(t){return NC[" "](t),t}NC[" "]=function(){};var PC,Tae=ei("Opera"),iu=ei("Trident")||ei("MSIE"),x2=ei("Edge"),kC=x2||iu,M2=ei("Gecko")&&!(-1!=Kp().toLowerCase().indexOf("webkit")&&!ei("Edge"))&&!(ei("Trident")||ei("MSIE"))&&!ei("Edge"),Sae=-1!=Kp().toLowerCase().indexOf("webkit")&&!ei("Edge");function R2(){var t=ie.document;return t?t.documentMode:void 0}e:{var OC="",FC=function(){var t=Kp();return M2?/rv:([^\);]+)(\)|;)/.exec(t):x2?/Edge\/([\d\.]+)/.exec(t):iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Sae?/WebKit\/(\S+)/.exec(t):Tae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(FC&&(OC=FC?FC[1]:""),iu){var LC=R2();if(null!=LC&&LC>parseFloat(OC)){PC=String(LC);break e}}PC=OC}var Aae=ie.document&&iu&&(R2()||parseInt(PC,10))||void 0;function Rl(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(M2){e:{try{NC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rl.$.h.call(this)}}Ot(Rl,an);var xae={2:"touch",3:"pen",4:"mouse"};Rl.prototype.h=function(){Rl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),Mae=0;function Rae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Mae,this.fa=this.ia=!1}function Qp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function UC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function k2(t){const e={};for(const n in t)e[n]=t[n];return e}const P2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<P2.length;s++)n=P2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yp(t){this.src=t,this.g={},this.h=0}function BC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=S2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $C(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Yp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=$C(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Rae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var jC="closure_lm_"+(1e6*Math.random()|0),HC={};function F2(t,e,n,r,i){if(r&&r.once)return V2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)F2(t,e[s],n,r,i);return null}return n=WC(n),t&&t[Nl]?t.O(e,n,xl(r)?!!r.capture:!!r,i):L2(t,e,n,!1,r,i)}function L2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=xl(i)?!!i.capture:!!i,a=qC(t);if(a||(t[jC]=a=new Yp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function kae(){const e=Pae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(B2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function V2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)V2(t,e[s],n,r,i);return null}return n=WC(n),t&&t[Nl]?t.P(e,n,xl(r)?!!r.capture:!!r,i):L2(t,e,n,!0,r,i)}function U2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)U2(t,e[s],n,r,i);else r=xl(r)?!!r.capture:!!r,n=WC(n),t&&t[Nl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=$C(s=t.g[e],n,r,i))&&(Qp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=qC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$C(e,n,r,i)),(n=-1<t?e[t]:null)&&GC(n))}function GC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nl])BC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(B2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qC(e))?(BC(n,t),0==n.h&&(n.src=null,e[jC]=null)):Qp(t)}}}function B2(t){return t in HC?HC[t]:HC[t]="on"+t}function Pae(t,e){if(t.fa)t=!0;else{e=new Rl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&GC(t),t=n.call(r,e)}return t}function qC(t){return(t=t[jC])instanceof Yp?t:null}var zC="__closure_events_fn_"+(1e9*Math.random()>>>0);function WC(t){return"function"==typeof t?t:(t[zC]||(t[zC]=function(e){return t.handleEvent(e)}),t[zC])}function Ft(){_s.call(this),this.i=new Yp(this),this.S=this,this.J=null}function Wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;O2(e=new an(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Xp(o,r,!0,e)&&i}if(i=Xp(o=e.g=t,r,!0,e)&&i,i=Xp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Xp(o=e.g=n[s],r,!1,e)&&i}function Xp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&BC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(Ft,_s),Ft.prototype[Nl]=!0,Ft.prototype.removeEventListener=function(t,e,n,r){U2(this,t,e,n,r)},Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qp(n[r]);delete t.g[e],t.h--}}this.J=null},Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var KC=ie.JSON.stringify;function Fae(){var t=QC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $2=new class Oae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vae,t=>t.reset());class Vae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Uae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bae(t){ie.setTimeout(()=>{throw t},0)}let kl,Pl=!1,QC=new class Lae{constructor(){this.h=this.g=null}add(e,n){const r=$2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},j2=()=>{const t=ie.Promise.resolve(void 0);kl=()=>{t.then($ae)}};var $ae=()=>{for(var t;t=Fae();){try{t.h.call(t.g)}catch(n){Bae(n)}var e=$2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pl=!1};function Jp(t,e){Ft.call(this),this.h=t||1,this.g=e||ie,this.j=on(this.qb,this),this.l=Date.now()}function YC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function XC(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function H2(t){t.g=XC(()=>{t.g=null,t.i&&(t.i=!1,H2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ot(Jp,Ft),(P=Jp.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(YC(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){Jp.$.N.call(this),YC(this),delete this.g};class jae extends _s{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:H2(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(t){_s.call(this),this.h=t,this.g={}}Ot(Ol,_s);var G2=[];function q2(t,e,n,r){Array.isArray(n)||(n&&(G2[0]=n.toString()),n=G2);for(var i=0;i<n.length;i++){var s=F2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function z2(t){UC(t.g,function(e,n){this.g.hasOwnProperty(n)&&GC(e)},t),t.g={}}function Zp(){this.g=!0}function su(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return KC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ol.prototype.N=function(){Ol.$.N.call(this),z2(this)},Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zp.prototype.Ea=function(){this.g=!1},Zp.prototype.info=function(){};var bo={},W2=null;function eg(){return W2=W2||new Ft}function K2(t){an.call(this,bo.Ta,t)}function Fl(t){const e=eg();Wt(e,new K2(e))}function Q2(t,e){an.call(this,bo.STAT_EVENT,t),this.stat=e}function _n(t){const e=eg();Wt(e,new Q2(e,t))}function Y2(t,e){an.call(this,bo.Ua,t),this.size=e}function Ll(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}bo.Ta="serverreachability",Ot(K2,an),bo.STAT_EVENT="statevent",Ot(Q2,an),bo.Ua="timingevent",Ot(Y2,an);var tg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function JC(){}function Z2(){}JC.prototype.h=null;var tT,Vl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ZC(){an.call(this,"d")}function eT(){an.call(this,"c")}function ng(){}function Ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ol(this),this.P=Wae,this.V=new Jp(t=kC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eU}function eU(){this.i=null,this.g="",this.h=!1}Ot(ZC,an),Ot(eT,an),Ot(ng,JC),ng.prototype.g=function(){return new XMLHttpRequest},ng.prototype.i=function(){return{}},tT=new ng;var Wae=45e3,nT={},rg={};function rT(t,e,n){t.L=1,t.v=ag(Bi(e)),t.s=n,t.S=!0,tU(t,null)}function tU(t,e){t.G=Date.now(),Bl(t),t.A=Bi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new eU,t.g=OU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jae(on(t.Pa,t,t.g),t.O)),q2(t.U,t.g,"readystatechange",t.nb),e=t.I?k2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fl(),function Hae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function nU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function rU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Kae(t,n),i==rg){4==e&&(t.o=4,_n(14),r=!1),su(t.j,t.m,null,"[Incomplete Response]");break}if(i==nT){t.o=4,_n(15),su(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}su(t.j,t.m,i,null),iT(t,i)}nU(t)&&i!=rg&&i!=nT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dT(e),e.M=!0,_n(11))):(su(t.j,t.m,n,"[Invalid Chunked Response]"),Co(t),$l(t))}function Kae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?rg:(n=Number(e.substring(n,r)),isNaN(n)?nT:(r+=1)+n>e.length?rg:(e=e.slice(r,r+n),t.C=r+n,e))}function Bl(t){t.Y=Date.now()+t.P,iU(t,t.P)}function iU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ll(on(t.lb,t),e)}function ig(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function $l(t){0==t.l.H||t.J||RU(t.l,t)}function Co(t){ig(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,YC(t.V),z2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function iT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||sT(n.i,t)))if(!t.K&&sT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;fg(n),dg(n)}lT(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ll(on(n.ib,n),6e3));if(1>=pU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else So(n,11)}else if((t.K||n.g==t)&&fg(n),!Ml(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Le(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=PU(r,r.J?r.pa:null,r.Y),o.K){gU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ig(a),Bl(a)),r.g=o}else xU(r);0<n.j.length&&hg(n)}else"stop"!=c[0]&&"close"!=c[0]||So(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?So(n,7):cT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Fl()}catch{}}function sU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Yae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Qae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(zp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(P=Ul.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==ti(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=ti(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||kC||this.g&&(this.h.h||this.g.ja()||DU(this.g)))){this.J||4!=l||7==e||Fl(),ig(this);var n=this.g.da();this.ca=n;t:if(nU(this)){var r=DU(this.g);t="";var i=r.length,s=4==ti(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),$l(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Gae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),Co(this),$l(this);break e}su(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iT(this,n)}this.S?(rU(this,l,o),kC&&this.i&&3==l&&(q2(this.U,this.V,"tick",this.mb),this.V.start())):(su(this.j,this.m,o,null),iT(this,o)),4==l&&Co(this),this.i&&!this.J&&(4==l?RU(this.l,this):(this.i=!1,Bl(this)))}else(function pue(t){const e={};t=(t.g&&2<=ti(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ml(t[r]))continue;var n=Uae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Nae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),Co(this),$l(this)}}}catch{}},P.mb=function(){if(this.g){var t=ti(this.g),e=this.g.ja();this.C<e.length&&(ig(this),rU(this,t,e),this.i&&4!=t&&Bl(this))}},P.cancel=function(){this.J=!0,Co(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function qae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fl(),_n(17)),Co(this),this.o=2,$l(this)):iU(this,this.Y-t)};var oU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof To){this.h=t.h,sg(this,t.j),this.s=t.s,this.g=t.g,og(this,t.m),this.l=t.l;var e=t.i,n=new Gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aU(this,n),this.o=t.o}else t&&(e=String(t).match(oU))?(this.h=!1,sg(this,e[1]||"",!0),this.s=jl(e[2]||""),this.g=jl(e[3]||"",!0),og(this,e[4]),this.l=jl(e[5]||"",!0),aU(this,e[6]||"",!0),this.o=jl(e[7]||"")):(this.h=!1,this.i=new Gl(null,this.h))}function Bi(t){return new To(t)}function sg(t,e,n){t.j=n?jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function og(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aU(t,e,n){e instanceof Gl?(t.i=e,function rue(t,e){e&&!t.j&&(vs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cU(this,r),dU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Hl(e,tue)),t.i=new Gl(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function ag(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Jae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}To.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hl(e,uU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Hl(e,uU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hl(n,"/"==n.charAt(0)?eue:Zae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hl(n,nue)),t.join("")};var uU=/[#\/\?@]/g,Zae=/[#\?:]/g,eue=/[#\?]/g,tue=/[#\?@]/g,nue=/#/g;function Gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Xae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cU(t,e){vs(t),e=ou(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lU(t,e){return vs(t),e=ou(t,e),t.g.has(e)}function dU(t,e,n){cU(t,e),0<n.length&&(t.i=null,t.g.set(ou(t,e),RC(n)),t.h+=n.length)}function ou(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hU(t){this.l=t||sue,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Gl.prototype).add=function(t,e){vs(this),this.i=null,t=ou(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){vs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.ta=function(){vs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},P.Z=function(t){vs(this);let e=[];if("string"==typeof t)lU(this,t)&&(e=e.concat(this.g.get(ou(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return vs(this),this.i=null,lU(this,t=ou(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var sue=10;function fU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pU(t){return t.h?1:t.g?t.g.size:0}function sT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function oT(t,e){t.g?t.g.add(e):t.h=e}function gU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function mU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return RC(t.i)}hU.prototype.cancel=function(){if(this.i=mU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var oue=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function aue(){this.g=new oue}function uue(t,e,n){const r=n||"";try{sU(t,function(i,s){let o=i;xl(i)&&(o=KC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ug(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ql(t){this.l=t.fc||null,this.j=t.ob||!1}function cg(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=aT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(ql,JC),ql.prototype.g=function(){return new cg(this.l,this.j)},ql.prototype.i=function(t){return function(){return t}}({}),Ot(cg,Ft);var aT=0;function yU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wl(t)}function Wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=cg.prototype).open=function(t,e){if(this.readyState!=aT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wl(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zl(this)),this.readyState=aT},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zl(this):Wl(this),3==this.readyState&&yU(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,zl(this))},P.Ya=function(t){this.g&&(this.response=t,zl(this))},P.ka=function(){this.g&&zl(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var lue=ie.JSON.parse;function it(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_U,this.L=this.M=!1}Ot(it,Ft);var _U="",due=/^https?$/i,hue=["POST","PUT"];function vU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wU(t),lg(t)}function wU(t){t.F||(t.F=!0,Wt(t,"complete"),Wt(t,"error"))}function IU(t){if(t.h&&typeof xC<"u"&&(!t.C[1]||4!=ti(t)||2!=t.da()))if(t.v&&4==ti(t))XC(t.La,0,t);else if(Wt(t,"readystatechange"),4==ti(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(oU)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!due.test(i?i.toLowerCase():"")}n=r}if(n)Wt(t,"complete"),Wt(t,"success");else{t.m=6;try{var s=2<ti(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",wU(t)}}finally{lg(t)}}}function lg(t,e){if(t.g){EU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function EU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function ti(t){return t.g?t.g.readyState:0}function DU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _U:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function bU(t){let e="";return UC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function uT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function Kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CU(t){this.Ga=0,this.j=[],this.l=new Zp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kl("baseRetryDelayMs",5e3,t),this.hb=Kl("retryDelaySeedMs",1e4,t),this.eb=Kl("forwardChannelMaxRetries",2,t),this.xa=Kl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hU(t&&t.concurrentRequestLimit),this.Ja=new aue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cT(t){if(TU(t),3==t.H){var e=t.W++,n=Bi(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Ql(t,n),(e=new Ul(t,t.l,e)).L=2,e.v=ag(Bi(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=OU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bl(e)}kU(t)}function dg(t){t.g&&(dT(t),t.g.cancel(),t.g=null)}function TU(t){dg(t),t.u&&(ie.clearTimeout(t.u),t.u=null),fg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function hg(t){if(!fU(t.i)&&!t.m){t.m=!0;var e=t.Na;kl||j2(),Pl||(kl(),Pl=!0),QC.add(e,t),t.C=0}}function SU(t,e){var n;n=e?e.m:t.W++;const r=Bi(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Ql(t,r),t.o&&t.s&&uT(r,t.o,t.s),n=new Ul(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),oT(t.i,n),rT(n,r,e)}function Ql(t,e){t.na&&UC(t.na,function(n,r){Le(e,r,n)}),t.h&&sU({},function(n,r){Le(e,r,n)})}function AU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?on(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{uue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;kl||j2(),Pl||(kl(),Pl=!0),QC.add(e,t),t.A=0}}function lT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ll(on(t.Ma,t),NU(t,t.A)),t.A++,0))}function dT(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function MU(t){t.g=new Ul(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Bi(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&uT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ag(Bi(e)),n.s=null,n.S=!0,tU(n,t)}function fg(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function RU(t,e){var n=null;if(t.g==e){fg(t),dT(t),t.g=null;var r=2}else{if(!sT(t.i,e))return;n=e.F,gU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Wt(r=eg(),new Y2(r,n)),hg(t)}else xU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function gue(t,e){return!(pU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ll(on(t.Na,t,e),NU(t,t.C)),t.C++,0)))}(t,e)||2==r&&lT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}function NU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function So(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=on(t.pb,t);n||(n=new To("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||sg(n,"https"),ag(n)),function cue(t,e){const n=new Zp;if(ie.Image){const r=new Image;r.onload=Wp(ug,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wp(ug,n,r,"TestLoadImage: error",!1,e),r.onabort=Wp(ug,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wp(ug,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.h&&t.h.za(e),kU(t),TU(t)}function kU(t){if(t.H=0,t.ma=[],t.h){const e=mU(t.i);(0!=e.length||0!=t.j.length)&&(A2(t.ma,e),A2(t.ma,t.j),t.i.i.length=0,RC(t.j),t.j.length=0),t.h.ya()}}function PU(t,e,n){var r=n instanceof To?Bi(n):new To(n);if(""!=r.g)e&&(r.g=e+"."+r.g),og(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new To(null);r&&sg(s,r),e&&(s.g=e),i&&og(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Le(r,n,e),Le(r,"VER",t.ra),Ql(t,r),r}function OU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new ql({ob:!0}):t.va)).Oa(t.J),e}function FU(){}function pg(){if(iu&&!(10<=Number(Aae)))throw Error("Environmental error: no available transport.")}function Zn(t,e){Ft.call(this),this.g=new CU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ml(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new au(this)}function LU(t){ZC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function VU(){eT.call(this),this.status=1}function au(t){this.g=t}function Sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(P=it.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tT.g(),this.C=function J2(t){return t.h||(t.h=t.i())}(this.u?this.u:tT),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void vU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=S2(hue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EU(this),0<this.B&&((this.L=function fue(t){return iu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=XC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){vU(this,s)}},P.ua=function(){typeof xC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wt(this,"complete"),Wt(this,"abort"),lg(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lg(this,!0)),it.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?IU(this):this.kb())},P.kb=function(){IU(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lue(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=CU.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ul(this,this.l,t);let s=this.s;if(this.U&&(s?(s=k2(s),O2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AU(this,i,e),Le(n=Bi(this.I),"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Ql(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(bU(s)))+"&"+e:this.o&&uT(n,this.o,s)),oT(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,rT(i,n,null)):rT(i,n,e),this.H=2}}else 3==this.H&&(t?SU(this,t):0==this.j.length||fU(this.i)||SU(this))},P.Ma=function(){if(this.u=null,MU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ll(on(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),dg(this),MU(this))},P.ib=function(){null!=this.v&&(this.v=null,dg(this),lT(this),_n(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=FU.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},pg.prototype.g=function(t,e){return new Zn(t,e)},Ot(Zn,Ft),Zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PU(t,null,t.Y),hg(t)},Zn.prototype.close=function(){cT(this.g)},Zn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=KC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&hg(e)},Zn.prototype.N=function(){this.g.h=null,delete this.j,cT(this.g),delete this.g,Zn.$.N.call(this)},Ot(LU,ZC),Ot(VU,eT),Ot(au,FU),au.prototype.Ba=function(){Wt(this.g,"a")},au.prototype.Aa=function(t){Wt(this.g,new LU(t))},au.prototype.za=function(t){Wt(this.g,new VU)},au.prototype.ya=function(){Wt(this.g,"b")},Ot(Sr,function mue(){this.blockSize=-1}),Sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)hT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hT(this,r),i=0;break}}this.h=i,this.i+=e},Sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var yue={};function fT(t){return-128<=t&&128>t?function Cae(t,e){var n=yue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|t],0>t?-1:0)}function ni(t){if(isNaN(t)||!isFinite(t))return uu;if(0>t)return Kt(ni(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pT;return new Ae(e,0)}var pT=4294967296,uu=fT(0),gT=fT(1),BU=fT(16777216);function $i(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pr(t){return-1==t.h}function Kt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(gT)}function gg(t,e){return t.add(Kt(e))}function mg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Yl(t,e){this.g=t,this.h=e}function yg(t,e){if($i(e))throw Error("division by zero");if($i(t))return new Yl(uu,uu);if(pr(t))return e=yg(Kt(t),e),new Yl(Kt(e.g),Kt(e.h));if(pr(e))return e=yg(t,Kt(e)),new Yl(Kt(e.g),e.h);if(30<t.g.length){if(pr(t)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gT,r=e;0>=r.X(t);)n=$U(n),r=$U(r);var i=cu(n,1),s=cu(r,1);for(r=cu(r,2),n=cu(n,2);!$i(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=cu(r,1),n=cu(n,1)}return e=gg(t,i.R(e)),new Yl(i,e)}for(i=uu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ni(n)).R(e);pr(o)||0<o.X(t);)o=(s=ni(n-=r)).R(e);$i(s)&&(s=gT),i=i.add(s),t=gg(t,o)}return new Yl(i,t)}function $U(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function cu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}(P=Ae.prototype).ea=function(){if(pr(this))return-Kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pT+r)*e,e*=pT}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if($i(this))return"0";if(pr(this))return"-"+Kt(this).toString(t);for(var e=ni(Math.pow(t,6)),n=this,r="";;){var i=yg(n,e).g,s=((0<(n=gg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if($i(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return pr(t=gg(this,t))?-1:$i(t)?0:1},P.abs=function(){return pr(this)?Kt(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ae(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if($i(this)||$i(t))return uu;if(pr(this))return pr(t)?Kt(this).R(Kt(t)):Kt(Kt(this).R(t));if(pr(t))return Kt(this.R(Kt(t)));if(0>this.X(BU)&&0>t.X(BU))return ni(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,mg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,mg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)},P.gb=function(t){return yg(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)},pg.prototype.createWebChannel=pg.prototype.g,Zn.prototype.send=Zn.prototype.u,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,tg.NO_ERROR=0,tg.TIMEOUT=8,tg.HTTP_ERROR=6,X2.COMPLETE="complete",Z2.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",Ft.prototype.listen=Ft.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,Sr.prototype.digest=Sr.prototype.l,Sr.prototype.reset=Sr.prototype.reset,Sr.prototype.update=Sr.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=ni,Ae.fromString=function UU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Kt(UU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ni(Math.pow(e,8)),r=uu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ni(Math.pow(e,s)),r=r.R(s).add(ni(o))):r=(r=r.R(n)).add(ni(o))}return r};var _ue=Tr.createWebChannelTransport=function(){return new pg},vue=Tr.getStatEventTarget=function(){return eg()},mT=Tr.ErrorCode=tg,wue=Tr.EventType=X2,Iue=Tr.Event=bo,jU=Tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eue=Tr.FetchXmlHttpFactory=ql,_g=Tr.WebChannel=Z2,Due=Tr.XhrIo=it,bue=Tr.Md5=Sr,lu=Tr.Integer=Ae;const HU="@firebase/firestore";class Lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");let du="9.22.2";const ws=new Qa("@firebase/firestore");function yT(){return ws.logLevel}function S(t,...e){if(ws.logLevel<=ee.DEBUG){const n=e.map(_T);ws.debug(`Firestore (${du}): ${t}`,...n)}}function ut(t,...e){if(ws.logLevel<=ee.ERROR){const n=e.map(_T);ws.error(`Firestore (${du}): ${t}`,...n)}}function Ar(t,...e){if(ws.logLevel<=ee.WARN){const n=e.map(_T);ws.warn(`Firestore (${du}): ${t}`,...n)}}function _T(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function U(t="Unexpected state"){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function j(t,e){t||U()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class GU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Tue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sue{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new GU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Lt(e)}}class Aue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Aue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new qU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class zU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Rue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new Ye(0,0))}static max(){return new H(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xl{constructor(e,n,r){void 0===n?n=0:n>e.length&&U(),void 0===r?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Xl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Xl{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const Nue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Xl{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Nue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(ye.fromString(e))}static fromName(e){return new N(ye.fromString(e).popFirst(5))}static empty(){return new N(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new ye(e.slice()))}}function QU(t){return new er(t.readTime,t.key,-1)}class er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new er(H.min(),N.empty(),-1)}static max(){return new er(H.max(),N.empty(),-1)}}function wT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=N.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const YU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Is(t){return IT.apply(this,arguments)}function IT(){return IT=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==YU)throw t;S("LocalStore","Unexpectedly lost primary lease")}),IT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Es(t){return"IndexedDbTransactionError"===t.name}let tr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ed(t){return null==t}function td(t){return 0===t&&1/t==-1/0}function sB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aB(this.data.getIterator())}getIteratorFrom(e){return new aB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class aB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Ve(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class uB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uB("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const ice=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(j(!!t),"string"==typeof t){let e=0;const n=ice.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ji(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function bg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cg(t){const e=t.mapValue.fields.__previous_value__;return bg(e)?Cg(e):e}function nd(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}class sce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Mo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const Cs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bg(t)?4:hB(t)?9007199254740991:10:U()}function ii(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=bs(r.timestampValue),o=bs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ji(t.bytesValue).isEqual(ji(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),o=st(i.doubleValue);return s===o?td(s)===td(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(sB(s)!==sB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ii(s[a],o[a])))return!1;return!0}(t,e);default:return U()}var i}function rd(t,e){return void 0!==(t.values||[]).find(n=>ii(n,e))}function Ss(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=st(i.integerValue||i.doubleValue),a=st(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return cB(t.timestampValue,e.timestampValue);case 4:return cB(nd(t),nd(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ji(i),a=ji(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(st(i.latitude),st(s.latitude));return 0!==o?o:ne(st(i.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ss(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cs.mapValue&&s===Cs.mapValue)return 0;if(i===Cs.mapValue)return 1;if(s===Cs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=Ss(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw U()}}function cB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=bs(t),r=bs(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function pu(t){return bT(t)}function bT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=bs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ji(t.bytesValue).toBase64():"referenceValue"in t?N.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bT(r.fields[a])}`;return s+"}"}(t.mapValue):U();var e}function Ro(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CT(t){return!!t&&"integerValue"in t}function id(t){return!!t&&"arrayValue"in t}function lB(t){return!!t&&"nullValue"in t}function dB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ag(t){return!!t&&"mapValue"in t}function sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(sd(this.value))}}function gB(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new ct([n]);if(Ag(r)){const s=gB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}class Ue{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,H.min(),H.min(),H.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,H.min(),H.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,H.min(),H.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class As{constructor(e,n){this.position=e,this.inclusive=n}}function mB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),n.key):Ss(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function uce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _B{}class pe extends _B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new cce(e,n,r):"array-contains"===n?new hce(e,r):"in"===n?new bB(e,r):"not-in"===n?new fce(e,r):"array-contains-any"===n?new pce(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lce(e,r):new dce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ss(n,this.value)):null!==n&&Ts(this.value)===Ts(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends _B{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new xe(e,n)}matches(e){return mu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function mu(t){return"and"===t.op}function ST(t){return function vB(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&mu(t)}function AT(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+pu(t.value);if(ST(t))return t.filters.map(e=>AT(e)).join(",");{const e=t.filters.map(n=>AT(n)).join(",");return`${t.op}(${e})`}}function wB(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&ii(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&wB(s,r.filters[o]),!0)}(t,e):void U();var n,r}function EB(t){return t instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${pu(e.value)}`}(t):t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(EB).join(" ,")+"}"}(t):"Filter"}class cce extends pe{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class lce extends pe{constructor(e,n){super(e,"in",n),this.keys=DB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dce extends pe{constructor(e,n){super(e,"not-in",n),this.keys=DB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class hce extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return id(n)&&rd(n.arrayValue,this.value)}}class bB extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&rd(this.value.arrayValue,n)}}class fce extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!rd(this.value.arrayValue,n)}}class pce extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}class gce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function xT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gce(t,e,n,r,i,s,o)}function No(t){const e=k(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>AT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pu(r)).join(",")),e.dt=n}return e.dt}function od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yB(t.startAt,e.startAt)&&yB(t.endAt,e.endAt)}function xg(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Hi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function yu(t){return new Hi(t)}function AB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Rg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function RT(t){return null!==t.collectionGroup}function ko(t){const e=k(t);if(null===e.wt){e.wt=[];const n=Rg(e),r=MT(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new gu(n)),e.wt.push(new gu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gu(ct.keyField(),s))}}}return e.wt}function vn(t){const e=k(t);if(!e._t)if("F"===e.limitType)e._t=xT(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ko(e))n.push(new gu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new As(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new As(e.startAt.position,e.startAt.inclusive):null;e._t=xT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function NT(t,e){e.getFirstInequalityField(),Rg(t);const n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return od(vn(t),vn(e))&&t.limitType===e.limitType}function xB(t){return`${No(vn(t))}|lt:${t.limitType}`}function kT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>EB(r)).join(", ")}]`),ed(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pu(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):N.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ko(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=mB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ko(n),r)||n.endAt&&!function(i,s,o){const a=mB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ko(n),r)));var n,r}function RB(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const s=mce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function mce(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ss(a,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oB(this.inner)}size(){return this.innerSize}}const yce=new Oe(N.comparator);function Ln(){return yce}const NB=new Oe(N.comparator);function cd(...t){let e=NB;for(const n of t)e=e.insert(n.key,n);return e}function kB(t){let e=NB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return ld()}function PB(){return ld()}function ld(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const _ce=new Oe(N.comparator),vce=new Ve(N.comparator);function ce(...t){let e=vce;for(const n of t)e=e.add(n);return e}const wce=new Ve(ne);function OB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function FB(t){return{integerValue:""+t}}function LB(t,e){return function JU(t){return"number"==typeof t&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?FB(e):OB(t,e)}class kg{constructor(){this._=void 0}}function Ice(t,e,n){return t instanceof _u?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&bg(i)&&(i=Cg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Po?UB(t,e):t instanceof Oo?BB(t,e):function(r,i){const s=VB(r,i),o=$B(s)+$B(r.gt);return CT(s)&&CT(r.gt)?FB(o):OB(r.serializer,o)}(t,e)}function Ece(t,e,n){return t instanceof Po?UB(t,e):t instanceof Oo?BB(t,e):n}function VB(t,e){return t instanceof vu?CT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class _u extends kg{}class Po extends kg{constructor(e){super(),this.elements=e}}function UB(t,e){const n=jB(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends kg{constructor(e){super(),this.elements=e}}function BB(t,e){let n=jB(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class vu extends kg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $B(t){return st(t.integerValue||t.doubleValue)}function jB(t){return id(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dd{constructor(e,n){this.field=e,this.transform=n}}class bce{constructor(e,n){this.version=e,this.transformResults=n}}class He{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new He}static exists(e){return new He(void 0,e)}static updateTime(e){return new He(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Og{}function HB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Iu(t.key,He.none()):new wu(t.key,t.data,He.none());{const n=t.data,r=Yt.empty();let i=new Ve(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new qi(t.key,r,new Fn(i.toArray()),He.none())}}function Cce(t,e,n){t instanceof wu?function(r,i,s){const o=r.value.clone(),a=zB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(r,i,s){if(!Pg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(qB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hd(t,e,n,r){return t instanceof wu?function(i,s,o,a){if(!Pg(i.precondition,s))return o;const u=i.value.clone(),c=WB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(i,s,o,a){if(!Pg(i.precondition,s))return o;const u=WB(i.fieldTransforms,a,s),c=s.data;return c.setAll(qB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Pg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Tce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=VB(r.transform,i||null);null!=s&&(null===n&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function GB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&hu(n,r,(i,s)=>function Dce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Po&&r instanceof Po||n instanceof Oo&&r instanceof Oo?hu(n.elements,r.elements,ii):n instanceof vu&&r instanceof vu?ii(n.gt,r.gt):n instanceof _u&&r instanceof _u);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class wu extends Og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zB(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ece(o,a,n[i]))}return r}function WB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ice(s,o,e))}return r}class Iu extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OT extends Og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Cce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=HB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,r)=>GB(n,r))&&hu(this.baseMutations,e.baseMutations,(n,r)=>GB(n,r))}}class LT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=_ce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new LT(e,n,r,i)}}class VT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ace{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,_e;function QB(t){if(void 0===t)return ut("GRPC error has no .code"),I.UNKNOWN;switch(t){case yt.OK:return I.OK;case yt.CANCELLED:return I.CANCELLED;case yt.UNKNOWN:return I.UNKNOWN;case yt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case yt.INTERNAL:return I.INTERNAL;case yt.UNAVAILABLE:return I.UNAVAILABLE;case yt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case yt.NOT_FOUND:return I.NOT_FOUND;case yt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case yt.ABORTED:return I.ABORTED;case yt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case yt.DATA_LOSS:return I.DATA_LOSS;default:return U()}}(_e=yt||(yt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class UT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fg}static getOrCreateInstance(){return null===Fg&&(Fg=new UT),Fg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fg=null;const xce=new lu([4294967295,4294967295],0);function XB(t){const e=function YB(){return new TextEncoder}().encode(t),n=new bue;return n.update(e),new Uint8Array(n.digest())}function JB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lu([n,r],0),new lu([i,s],0)]}class BT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new fd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=lu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(lu.fromNumber(r)));return 1===i.compare(xce)&&(i=new lu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=XB(e),[r,i]=JB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=XB(e),[r,i]=JB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(H.min(),i,new Oe(ne),Ln(),ce())}}class gd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,ce(),ce(),ce())}}class Lg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class ZB{constructor(e,n){this.targetId=e,this.Vt=n}}class e${constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t${constructor(){this.St=0,this.Dt=r$(),this.Ct=Tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ce(),n=ce(),r=ce();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new gd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=r$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ln(),this.zt=n$(),this.Wt=new Oe(ne)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xg(o))if(0===i){const a=new N(o.path);this.Yt(r,a,Ue.newNoDocument(a,H.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=UT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ji(s).toUint8Array()}catch(l){if(l instanceof uB)return Ar("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new BT(u,o,a)}catch(l){return Ar(l instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xg(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ue.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ce();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new pd(e,n,this.Wt,this.jt,r);return this.jt=Ln(),this.zt=n$(),this.Wt=new Oe(ne),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new t$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ve(ne),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new t$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function n$(){return new Oe(N.comparator)}function r$(){return new Oe(N.comparator)}const Rce={asc:"ASCENDING",desc:"DESCENDING"},Nce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kce={and:"AND",or:"OR"};class Pce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $T(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function Eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oce(t,e){return Eu(t,e.toTimestamp())}function lt(t){return j(!!t),H.fromTimestamp(function(e){const n=bs(e);return new Ye(n.seconds,n.nanos)}(t))}function jT(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function s$(t){const e=ye.fromString(t);return j(p$(e)),e}function md(t,e){return jT(t.databaseId,e.path)}function oi(t,e){const n=s$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(a$(n))}function HT(t,e){return jT(t.databaseId,e)}function yd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a$(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function u$(t,e,n){return{name:md(t,e),fields:n.value.mapValue.fields}}function l$(t,e){return{documents:[HT(t,e.path)]}}function qT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=HT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=HT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return f$(xe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:xs((l=c).field),direction:Bce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$T(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function d$(t){let e=function o$(t){const e=s$(t);return 4===e.length?ye.emptyPath():a$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=h$(l);return d instanceof xe&&ST(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new gu(Du((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ed(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new As((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new As(l.values||[],!l.before)}(n.endAt)),function SB(t,e,n,r,i,s,o,a){return new Hi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function h$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Du(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Du(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Du(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Du(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):void 0!==t.fieldFilter?function(e){return pe.create(Du(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>h$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(t):U()}function Bce(t){return Rce[t]}function $ce(t){return Nce[t]}function jce(t){return kce[t]}function xs(t){return{fieldPath:t.canonicalString()}}function Du(t){return ct.fromServerFormat(t.fieldPath)}function f$(t){return t instanceof pe?function(e){if("=="===e.op){if(dB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NAN"}};if(lB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NAN"}};if(lB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(e.field),op:$ce(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>f$(r));return 1===n.length?n[0]:{compositeFilter:{op:jce(e.op),filters:n}}}(t):U()}function Hce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class zi{constructor(e,n,r,i,s=H.min(),o=H.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g${constructor(e){this.fe=e}}function zT(t){const e=d$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ng(e,e.limit,"L"):e}class Uo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),td(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ji(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?hB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):U()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),N.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Uo.Ve=new Uo;class Jce{constructor(){this.rn=new JT}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(er.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class JT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ye.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $o(0)}static Mn(){return new $o(-1)}}class ile{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ale{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&hd(r.mutation,i,Fn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln();const o=ld(),a=ld();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof qi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),hd(l.mutation,c,l.mutation.getFieldMask(),Ye.now())):o.set(c.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ale(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ld();let i=new Oe((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=PB();l.forEach(h=>{if(!s.has(h)){const f=HB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return N.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(si());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(l=>({batchId:a,changes:kB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=cd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Hi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ue.newInvalidDocument(c)))});let o=cd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&hd(c.mutation,u,Fn.empty(),Ye.now()),ud(n,u)&&(o=o.insert(a,u))}),o})}}class ule{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:zT(r.bundledQuery),readTime:lt(r.readTime)}),w.resolve();var r}}class cle{constructor(){this.overlays=new Oe(N.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=si(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=si(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VT(n,r));let s=this.ls.get(n);void 0===s&&(s=ce(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class ZT{constructor(){this.fs=new Ve(Ut.ds),this.ws=new Ve(Ut._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ut(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new N(new ye([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new N(new ye([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=ce();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return N.comparator(e.key,n.key)||ne(e.As,n.As)}static _s(e,n){return ne(e.As,n.As)||N.comparator(e.key,n.key)}}class lle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ve(Ut.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new FT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ne);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new N(s),0);let a=new Ve(ne);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dle{constructor(e){this.Ds=e,this.docs=new Oe(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln();const o=n.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wT(QU(l),r)<=0||(i.has(l.key)||ud(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hle(this)}getSize(e){return w.resolve(this.size)}}class hle extends ile{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class fle{constructor(e){this.persistence=e,this.xs=new Gi(n=>No(n),od),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ZT,this.targetCount=0,this.Ms=$o.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class e0{constructor(e,n){this.$s={},this.overlays={},this.Os=new tr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fle(this),this.indexManager=new Jce,this.remoteDocumentCache=new dle(r=>this.referenceDelegate.Ls(r)),this.serializer=new g$(n),this.qs=new ule(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new lle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new ple(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ple extends Oue{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Qs=new ZT,this.js=null}static zs(e){return new zg(e)}get Ws(){if(this.js)return this.js;throw U()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,H.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class s0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s0(e,n.fromCache,r,i)}}class H${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(AB(n))return w.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ng(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Ng(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return AB(n)||i.isEqual(H.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(yT()<=ee.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kT(n)),this.Wi(e,o,n,function KU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new Ye(n+1,0):new Ye(n,r));return new er(i,N.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ve(RB(e));return n.forEach((i,s)=>{ud(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return yT()<=ee.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",kT(n)),this.Ui.getDocumentsMatchingQuery(e,n,er.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class mle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(ne),this.Yi=new Gi(s=>No(s),od),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function q$(t,e){return o0.apply(this,arguments)}function o0(){return o0=y(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),o0.apply(this,arguments)}function z$(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function vle(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Su(t,e,n){return a0.apply(this,arguments)}function a0(){return a0=y(function*(t,e,n){const r=k(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Es(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),a0.apply(this,arguments)}function Qg(t,e,n){const r=k(t);let i=H.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:H.min(),n?s:ce())).next(a=>(function Y$(t,e,n){let r=t.Xi.get(e)||H.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function MB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class h0{constructor(){this.activeTargetIds=function PT(){return wce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z${constructor(){this.Hr=new h0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new h0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ele{Yr(e){}shutdown(){}}class ej{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jg=null;function p0(){return null===Jg?Jg=268435456+Math.round(2147483648*Math.random()):Jg++,"0x"+Jg.toString(16)}const Dle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ble{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ln="WebChannelConnection";class Cle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=p0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ar("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Dle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=p0();return new Promise((o,a)=>{const u=new Due;u.setWithCredentials(!0),u.listenOnce(wue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mT.NO_ERROR:const l=u.getResponseJson();S(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case mT.TIMEOUT:S(ln,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case mT.HTTP_ERROR:const d=u.getStatus();if(S(ln,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{S(ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=p0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_ue(),a=vue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Eue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(ln,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ble({ro:m=>{f?S(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(ln,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,_)=>{m.listen(v,E=>{try{_(E)}catch(M){setTimeout(()=>{throw M},0)}})};return g(d,_g.EventType.OPEN,()=>{f||S(ln,`RPC '${e}' stream ${i} transport opened.`)}),g(d,_g.EventType.CLOSE,()=>{f||(f=!0,S(ln,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,_g.EventType.ERROR,m=>{f||(f=!0,Ar(ln,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,_g.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];j(!!_);const M=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(M){S(ln,`RPC '${e}' stream ${i} received error:`,M);const L=M.status;let J=function(Dn){const di=yt[Dn];if(void 0!==di)return QB(di)}(L),Ge=M.message;void 0===J&&(J=I.INTERNAL,Ge="Unknown error status: "+L+" with message "+M.message),f=!0,p.wo(new b(J,Ge)),d.close()}else S(ln,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,Iue.STAT_EVENT,m=>{m.stat===jU.PROXY?S(ln,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===jU.NOPROXY&&S(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Zg(){return typeof document<"u"?document:null}function Sd(t){return new Pce(t,!0)}class g0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new g0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tle extends nj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Lce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:U(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(j(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:QB(u.code);return new b(c,u.message||"")}(o);n=new e$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=oi(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):H.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,s,o,a);n=new Lg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=oi(t,r.document),s=r.readTime?lt(r.readTime):H.min(),o=Ue.newNoDocument(i,s);n=new Lg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=oi(t,r.document);n=new Lg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ace(i,s);n=new ZB(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?lt(s.readTime):H.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=yd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xg(a)?{documents:l$(i,a)}:{query:qT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=i$(i,s.resumeToken);const u=$T(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){o.readTime=Eu(i,s.snapshotVersion.toTimestamp());const u=$T(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Uce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=yd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Sle extends nj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Vce(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(H.min())&&(s=lt(i)),new bce(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=yd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function _d(t,e){let n;if(e instanceof wu)n={update:u$(t,e.key,e.value)};else if(e instanceof Iu)n={delete:md(t,e.key)};else if(e instanceof qi)n={update:u$(t,e.key,e.data),updateMask:Hce(e.fieldMask)};else{if(!(e instanceof OT))return U();n={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof _u)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Oce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),n;var i}(this.serializer,r))};this.Wo(n)}}class Ale extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Mle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Rle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;ks(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=k(c);l.vu.add(4),yield Au(l),l.bu.set("Unknown"),l.vu.delete(4),yield Ad(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Mle(r,i)}}function Ad(t){return y0.apply(this,arguments)}function y0(){return y0=y(function*(t){if(ks(t))for(const e of t.Ru)yield e(!0)}),y0.apply(this,arguments)}function Au(t){return _0.apply(this,arguments)}function _0(){return _0=y(function*(t){for(const e of t.Ru)yield e(!1)}),_0.apply(this,arguments)}function em(t,e){const n=k(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),I0(n)?w0(n):Mu(n).Ko()&&v0(n,e))}function xd(t,e){const n=k(t),r=Mu(n);n.Au.delete(e),r.Ko()&&rj(n,e),0===n.Au.size&&(r.Ko()?r.jo():ks(n)&&n.bu.set("Unknown"))}function v0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mu(t).su(e)}function rj(t,e){t.Vu.qt(e),Mu(t).iu(e)}function w0(t){t.Vu=new Mce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Mu(t).start(),t.bu.gu()}function I0(t){return ks(t)&&!Mu(t).Uo()&&t.Au.size>0}function ks(t){return 0===k(t).vu.size}function ij(t){t.Vu=void 0}function Nle(t){return E0.apply(this,arguments)}function E0(){return E0=y(function*(t){t.Au.forEach((e,n)=>{v0(t,e)})}),E0.apply(this,arguments)}function kle(t,e){return D0.apply(this,arguments)}function D0(){return D0=y(function*(t,e){ij(t),I0(t)?(t.bu.Iu(e),w0(t)):t.bu.set("Unknown")}),D0.apply(this,arguments)}function Ple(t,e,n){return b0.apply(this,arguments)}function b0(){return b0=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof e$&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tm(t,r)}else if(e instanceof Lg?t.Vu.Ht(e):e instanceof ZB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(H.min()))try{const r=yield z$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),rj(i,a);const l=new zi(c.target,a,u,c.sequenceNumber);v0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield tm(t,r)}var r}),b0.apply(this,arguments)}function tm(t,e,n){return C0.apply(this,arguments)}function C0(){return C0=y(function*(t,e,n){if(!Es(e))throw e;t.vu.add(1),yield Au(t),t.bu.set("Offline"),n||(n=()=>z$(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Ad(t)}))}),C0.apply(this,arguments)}function sj(t,e){return e().catch(n=>tm(t,n,e))}function xu(t){return T0.apply(this,arguments)}function T0(){return T0=y(function*(t){const e=k(t),n=Ps(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ole(e);)try{const i=yield vle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Fle(e,i)}catch(i){yield tm(e,i)}oj(e)&&aj(e)}),T0.apply(this,arguments)}function Ole(t){return ks(t)&&t.Eu.length<10}function Fle(t,e){t.Eu.push(e);const n=Ps(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oj(t){return ks(t)&&!Ps(t).Uo()&&t.Eu.length>0}function aj(t){Ps(t).start()}function Lle(t){return S0.apply(this,arguments)}function S0(){return S0=y(function*(t){Ps(t).hu()}),S0.apply(this,arguments)}function Vle(t){return A0.apply(this,arguments)}function A0(){return A0=y(function*(t){const e=Ps(t);for(const n of t.Eu)e.uu(n.mutations)}),A0.apply(this,arguments)}function Ule(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=y(function*(t,e,n){const r=t.Eu.shift(),i=LT.from(r,e,n);yield sj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xu(t)}),x0.apply(this,arguments)}function Ble(t,e){return M0.apply(this,arguments)}function M0(){return M0=y(function*(t,e){var n;e&&Ps(t).ou&&(yield(n=y(function*(r,i){if(function KB(t){switch(t){default:return U();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Ps(r).Qo(),yield sj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),oj(t)&&aj(t)}),M0.apply(this,arguments)}function uj(t,e){return R0.apply(this,arguments)}function R0(){return R0=y(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.vu.add(3),yield Au(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Ad(n)}),R0.apply(this,arguments)}function k0(){return k0=y(function*(t,e){const n=k(t);e?(n.vu.delete(2),yield Ad(n)):e||(n.vu.add(2),yield Au(n),n.bu.set("Unknown"))}),k0.apply(this,arguments)}function Mu(t){return t.Su||(t.Su=function(e,n,r){const i=k(e);return i.fu(),new Tle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Nle.bind(null,t),ao:kle.bind(null,t),nu:Ple.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),I0(t)?w0(t):t.bu.set("Unknown")):(yield t.Su.stop(),ij(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ps(t){return t.Du||(t.Du=function(e,n,r){const i=k(e);return i.fu(),new Sle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Lle.bind(null,t),ao:Ble.bind(null,t),au:Vle.bind(null,t),cu:Ule.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Du.Qo(),yield xu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class P0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ru(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Es(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Nu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=cd(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cj{constructor(){this.Cu=new Oe(N.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):U():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ku{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ku(e,n,Nu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $le{constructor(){this.Nu=void 0,this.listeners=[]}}class jle{constructor(){this.queries=new Gi(e=>xB(e),ad),this.onlineState="Unknown",this.ku=new Set}}function O0(t,e){return F0.apply(this,arguments)}function F0(){return F0=y(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $le),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ru(o,`Initialization of query '${kT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&U0(n)}),F0.apply(this,arguments)}function L0(t,e){return V0.apply(this,arguments)}function V0(){return V0=y(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),V0.apply(this,arguments)}function Hle(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&U0(n)}function Gle(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function U0(t){t.ku.forEach(e=>{e.next()})}class B0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class hj{constructor(e){this.key=e}}class fj{constructor(e){this.key=e}}class pj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ce(),this.mutatedKeys=ce(),this.tc=RB(e),this.ec=new Nu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ud(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new ku(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new fj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ku.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Wle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kle{constructor(e){this.key=e,this.fc=!1}}class Qle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gi(a=>xB(a),ad),this._c=new Map,this.mc=new Set,this.gc=new Oe(N.comparator),this.yc=new Map,this.Ic=new ZT,this.Tc={},this.Ec=new Map,this.Ac=$o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Yle(t,e){return $0.apply(this,arguments)}function $0(){return $0=y(function*(t,e){const n=function lS(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zle.bind(null,e),e.dc.nu=Hle.bind(null,e.eventManager),e.dc.Pc=Gle.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Tu(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function j0(t,e,n,r,i){return H0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&em(n.remoteStore,o)}return i}),$0.apply(this,arguments)}function H0(){return H0=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,v,_){let E=m.view.sc(v);E.zi&&(E=yield Qg(g.localStore,m.query,!1).then(({documents:J})=>m.view.sc(J,E)));const M=_&&_.targetChanges.get(m.targetId),L=m.view.applyChanges(E,g.isPrimaryClient,M);return Z0(g,m.targetId,L.cc),L.snapshot}),function(g,m,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Qg(t.localStore,e,!0),o=new pj(e,s.ir),a=o.sc(s.documents),u=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Z0(t,n,c.cc);const l=new Wle(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),H0.apply(this,arguments)}function Xle(t,e){return G0.apply(this,arguments)}function G0(){return G0=y(function*(t,e){const n=k(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ad(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Su(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xd(n.remoteStore,r.targetId),Pu(n,r.targetId)}).catch(Is))):(Pu(n,r.targetId),yield Su(n.localStore,r.targetId,!0))}),G0.apply(this,arguments)}function q0(){return q0=y(function*(t,e,n){const r=function dS(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ede.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tde.bind(null,e),e}(t);try{const i=yield function(s,o){const a=k(s),u=Ye.now(),c=o.reduce((h,f)=>h.add(f.key),ce());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ln(),p=ce();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const v of o){const _=Tce(v,l.get(v.key).overlayedDocument);null!=_&&m.push(new qi(v.key,_,gB(_.value.mapValue),He.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:kB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(ne)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Wi(r,i.changes),yield xu(r.remoteStore)}catch(i){const s=Ru(i,"Failed to persist write");n.reject(s)}}),q0.apply(this,arguments)}function gj(t,e){return z0.apply(this,arguments)}function z0(){return z0=y(function*(t,e){const n=k(t);try{const r=yield function _le(t,e){const n=k(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Ln(),c=ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function W$(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(H.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(H.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield Wi(n,r,e)}catch(r){yield Is(r)}}),z0.apply(this,arguments)}function mj(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&U0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zle(t,e,n){return W0.apply(this,arguments)}function W0(){return W0=y(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(N.comparator);o=o.insert(s,Ue.newNoDocument(s,H.min()));const a=ce().add(s),u=new pd(H.min(),new Map,new Oe(ne),o,a);yield gj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),eS(r)}else yield Su(r.localStore,e,!1).then(()=>Pu(r,e,n)).catch(Is)}),W0.apply(this,arguments)}function ede(t,e){return K0.apply(this,arguments)}function K0(){return K0=y(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function yle(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);J0(n,r,null),X0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wi(n,i)}catch(i){yield Is(i)}}),K0.apply(this,arguments)}function tde(t,e,n){return Q0.apply(this,arguments)}function Q0(){return Q0=y(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);J0(r,e,n),X0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wi(r,i)}catch(i){yield Is(i)}}),Q0.apply(this,arguments)}function X0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function J0(t,e,n){const r=k(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Pu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||yj(t,r)})}function yj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(xd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),eS(t))}function Z0(t,e,n){for(const r of n)r instanceof hj?(t.Ic.addReference(r.key,e),rde(t,r)):r instanceof fj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yj(t,r.key)):U()}function rde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),eS(t))}function eS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new N(ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new Kle(n)),t.gc=t.gc.insert(n,r),em(t.remoteStore,new zi(vn(yu(n.path)),r,"TargetPurposeLimboResolution",tr.ct))}}function Wi(t,e,n){return tS.apply(this,arguments)}function tS(){return tS=y(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=s0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Es(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),tS.apply(this,arguments)}function ide(t,e){return nS.apply(this,arguments)}function nS(){return nS=y(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield q$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wi(n,r.er)}var i}),nS.apply(this,arguments)}function sde(t,e){const n=k(t),r=n.yc.get(e);if(r&&r.fc)return ce().add(r.key);{let i=ce();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class nm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Sd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function G$(t,e,n,r){return new mle(t,e,n,r)}(this.persistence,new H$,e.initialUser,this.serializer)}createPersistence(e){return new e0(zg.zs,this.serializer)}createSharedClientState(e){return new Z$}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ou{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ide.bind(null,r.syncEngine),yield function N0(t,e){return k0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jle}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=new Cle(e.databaseInfo);return new Ale(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>mj(this.syncEngine,a,0),o=ej.D()?new ej:new Ele,new Rle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Qle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=k(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Au(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class rm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _de{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=zU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ru(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function im(t,e){return hS.apply(this,arguments)}function hS(){return hS=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield q$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),hS.apply(this,arguments)}function fS(t,e){return pS.apply(this,arguments)}function pS(){return pS=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function gS(t){return mS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>uj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uj(e.remoteStore,s)),t._onlineComponents=e}),pS.apply(this,arguments)}function mS(){return mS=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Dj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),yield im(t,new nm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield im(t,new nm);return t._offlineComponents}),mS.apply(this,arguments)}function sm(t){return yS.apply(this,arguments)}function yS(){return yS=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield fS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield fS(t,new Ou))),t._onlineComponents}),yS.apply(this,arguments)}function Fu(t){return vS.apply(this,arguments)}function vS(){return vS=y(function*(t){const e=yield sm(t),n=e.eventManager;return n.onListen=Yle.bind(null,e.syncEngine),n.onUnlisten=Xle.bind(null,e.syncEngine),n}),vS.apply(this,arguments)}function xj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Mj=new Map;function wS(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t){if(!N.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nj(t){if(N.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":U()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=am(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Pj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Sde(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Cue;switch(n.type){case"firstParty":return new xue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Mj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Mj.delete(e),n.terminate())}(this),Promise.resolve()}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class ai extends Xt{constructor(e,n,r){super(e,n,yu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new N(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function xde(t,e,...n){if(t=Ht(t),wS("collection","path",e),t instanceof Md){const r=ye.fromString(e,...n);return Nj(r),new ai(t,null,r)}{if(!(t instanceof dt||t instanceof ai))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Nj(r),new ai(t.firestore,null,r)}}function Oj(t,e,...n){if(t=Ht(t),1===arguments.length&&(e=zU.A()),wS("doc","path",e),t instanceof Md){const r=ye.fromString(e,...n);return Rj(r),new dt(t,null,new N(r))}{if(!(t instanceof dt||t instanceof ai))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Rj(r),new dt(t.firestore,t instanceof ai?t.converter:null,new N(r))}}class Mde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new g0(this,"async_queue_retry"),this.Xc=()=>{const n=Zg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Es(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=P0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&U()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function IS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Be extends Md{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lj(this),this._firestoreClient.terminate()}}function Nde(t,e){const r="string"==typeof t?t:e||"(default)",i=fl("object"==typeof t?t:Yw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xF("firestore");s&&function Ade(t,e,n,r={}){var i;const s=(t=ge(t,Md))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Lt.MOCK_USER;else{a=RF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lt(c)}t._authCredentials=new Tue(new GU(a,u))}}(i,...s)}return i}function _t(t){return t._firestoreClient||Lj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new sce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new _de(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Tt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._methodName=e}}class ES{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const Pde=/^__.*__$/;class Ode{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class Bj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $j(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($j(this.ca)&&Pde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}ya(e,n,r,i=!1){return new cm({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vu(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new Fde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);CS("Data must be an object, but it was:",o,r);const a=zj(r,o);let u,c;if(s.merge)u=new Fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=kd(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Kj(l,h)||l.push(h)}u=new Fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Ode(new Yt(a),u,c)}class Nd extends um{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}class Ude extends um{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new vu(e.serializer,LB(e.serializer,this.Ia));return new dd(e.path,n)}isEqual(e){return this===e}}function Go(t,e){if(Wj(t=Ht(t)))return CS("Unsupported field value:",e,t),zj(t,e);if(t instanceof um)return function(n,r){if(!$j(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Go(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ht(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return LB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:Eu(r.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Eu(r.serializer,i)}}if(n instanceof ES)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ho)return{bytesValue:i$(r.serializer,n._byteString)};if(n instanceof dt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${am(n)}`)}(t,e)}function zj(t,e){const n={};return oB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=Go(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Wj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof ES||t instanceof Ho||t instanceof dt||t instanceof um)}function CS(t,e,n){if(!Wj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=am(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function kd(t,e,n){if((e=Ht(e))instanceof Lu)return e._internalPath;if("string"==typeof e)return lm(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Bde=new RegExp("[~\\*/\\[\\]]");function lm(t,e,n){if(e.search(Bde)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function Kj(t,e){return t.some(n=>n.isEqual(e))}class TS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $de(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class $de extends TS{data(){return super.data()}}function hm(t,e){return"string"==typeof e?lm(t,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}function Qj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SS{}class AS extends SS{}function jde(t,e,...n){let r=[];e instanceof SS&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Uu).length,o=i.filter(a=>a instanceof Pd).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pd extends AS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pd(e,n,r)}_apply(e){const n=this._parse(e);return Zj(e._query,n),new Xt(e.firestore,e.converter,NT(e._query,n))}_parse(e){const n=Vu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){Jj(l,c);const h=[];for(const f of l)h.push(Xj(a,i,f));d={arrayValue:{values:h}}}else d=Xj(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||Jj(l,c),d=function qj(t,e,n,r=!1){return Go(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return pe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hde(t,e,n){const r=e,i=hm("where",t);return Pd._create(i,r,n)}class Uu extends SS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Zj(s,a),s=NT(s,a)}(e._query,n),new Xt(e.firestore,e.converter,NT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xS extends AS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xS(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new b(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new b(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new gu(i,s);return function(a,u){if(null===MT(a)){const c=Rg(a);null!==c&&eH(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Xt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Hi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Gde(t,e="asc"){const n=e,r=hm("orderBy",t);return xS._create(r,n)}class fm extends AS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new fm(e,n,r)}_apply(e){return new Xt(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}}function qde(t){return function kj(t,e){if(e<=0)throw new b(I.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),fm._create("limit",t,"F")}function Xj(t,e,n){if("string"==typeof(n=Ht(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!N.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(t,new N(r))}if(n instanceof dt)return Ro(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(n)}.`)}function Jj(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zj(t,e){if(e.isInequality()){const r=Rg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=MT(t);null!==s&&eH(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eH(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class zde{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ES(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);j(p$(r));const i=new Mo(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends TS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mm extends Bu{data(e={}){return super.data(e)}}class $u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mm(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Kde(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}class Os extends zde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Qde(t){t=ge(t,Xt);const e=ge(t.firestore,Be),n=_t(e),r=new Os(e);return Qj(t._query),function Aj(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(y(function*(){return function(i,s,o,a,u){const c=new rm({next:d=>{s.enqueueAndForget(()=>L0(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new B0(o,c,{includeMetadataChanges:!0,Ku:!0});return O0(i,l)}(yield Fu(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new $u(e,r,t,i))}function Yde(t,e,n,...r){t=ge(t,dt);const i=ge(t.firestore,Be),s=Vu(i);let o;return o="string"==typeof(e=Ht(e))||e instanceof Lu?function Gj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[kd(e,r,n)],u=[i];if(s.length%2!=0)throw new b(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(kd(e,s[h])),u.push(s[h+1]);const c=[],l=Yt.empty();for(let h=a.length-1;h>=0;--h)if(!Kj(c,a[h])){const f=a[h];let p=u[h];p=Ht(p);const g=o.da(f);if(p instanceof Nd)c.push(f);else{const m=Go(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new Fn(c);return new Bj(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Hj(t,e,n,r){const i=t.ya(1,e,n);CS("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();Ds(r,(u,c)=>{const l=lm(e,u,n);c=Ht(c);const d=i.da(l);if(c instanceof Nd)s.push(l);else{const h=Go(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Fn(s);return new Bj(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Od(i,[o.toMutation(t._key,He.exists(!0))])}function Xde(t,e){const n=ge(t.firestore,Be),r=Oj(t),i=function MS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Od(n,[DS(Vu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,He.exists(!1))]).then(()=>r)}function Od(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(y(function*(){return function Jle(t,e,n){return q0.apply(this,arguments)}(yield function _S(t){return sm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}function lhe(t){return new Ude("increment",t)}!function(t,e=!0){du=Ya,sn(new Gt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Be(new Sue(n.getProvider("auth-internal")),new Mue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),je(HU,"3.12.2",t),je(HU,"3.12.2","esm2017")}();var dhe={includeMetadataChanges:!1};function NS(t,e){return void 0===e&&(e=dhe),new qe(function(n){var r=function Jde(t,...e){var n,r,i;t=Ht(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||IS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(IS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof dt)c=ge(t.firestore,Be),l=yu(t._key.path),u={next:d=>{e[o]&&e[o](function RS(t,e,n){const r=n.docs.get(e._key),i=new Os(t);return new Bu(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(t,Xt);c=ge(d.firestore,Be),l=d._query;const h=new Os(c);u={next:f=>{e[o]&&e[o](new $u(c,h,d,f))},error:e[o+1],complete:e[o+2]},Qj(t._query)}return function(d,h,f,p){const g=new rm(p),m=new B0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return O0(yield Fu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return L0(yield Fu(d),m)}))}}(_t(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fhe(t,e){return void 0===e&&(e={}),function hhe(t){return NS(t,{includeMetadataChanges:!0})}(t).pipe(Ie(function(n){return rH(n,e)}))}function rH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function vhe(t,e){return void 0===e&&(e={}),function _he(t){return NS(t,{includeMetadataChanges:!0}).pipe(Ie(function(e){return e.docs}))}(t).pipe(Ie(function(n){return n.map(function(r){return rH(r,e)})}))}class ju{constructor(e){return e}}const aH="firestore",OS=new B("angularfire2.firestore-instances");function Ehe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ju(r)}}const Dhe={provide:class whe{constructor(){return Ep(aH)}},deps:[[new Rt,OS]]},bhe={provide:ju,useFactory:function Ihe(t,e){const n=Ip(aH,t,e);return n&&new ju(n)},deps:[[new Rt,OS],vo]};let Che=(()=>{class t{constructor(){je("angularfire",wp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({providers:[bhe,Dhe]}),t})();function The(t,...e){return{ngModule:Che,providers:[{provide:OS,useFactory:Ehe(t),multi:!0,deps:[Re,Kn,XE,JE,[new Rt,sC],[new Rt,SC],...e]}]}}const _m=yn(vhe,!0),She=yn(fhe,!0),Ahe=yn(Xde,!0),FS=yn(xde,!0),uH=yn(Oj,!0),xhe=yn(Qde,!0),Mhe=yn(Nde,!0),Rhe=yn(lhe,!0),cH=yn(qde,!0),Nhe=yn(Gde,!0),vm=yn(jde,!0),khe=yn(Yde,!0),LS=yn(Hde,!0);let VS=(()=>{class t{constructor(n){this.firestore=n,this.collectionInstance=FS(this.firestore,"posts"),this.viewsUpdatedMap=new Map}markPostViewsUpdated(n){this.viewsUpdatedMap.set(n,!0)}loadFeatured(){const n=vm(this.collectionInstance,LS("isFeatured","==",!0),cH(4));return _m(n,{idField:"id"})}loadLatest(){const n=vm(this.collectionInstance,Nhe("createdAt","desc"));return _m(n,{idField:"id"})}loadCategoryPosts(n){const r=vm(this.collectionInstance,LS("category.categoryId","==",n),cH(4));return _m(r,{idField:"id"})}loadPostById(n){const r=uH(this.collectionInstance,n);return She(r,{idField:"id"})}updatePostViews(n,r){const i=uH(this.collectionInstance,n),s={views:Rhe(1)};khe(i,s)}}return t.\u0275fac=function(n){return new(n||t)(G(ju))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Phe(t,e){1&t&&(x(0,"small",9),V(1,"Featured"),A())}const Ohe=function(t){return["/post",t]};function Fhe(t,e){if(1&t&&(x(0,"div",1),Ze(1,"img",2),x(2,"div",3)(3,"small",4),V(4),A(),Nt(5,Phe,2,0,"small",5),x(6,"small",6),V(7),A(),x(8,"h5",7),V(9),A(),x(10,"p"),V(11),A(),x(12,"small",8),V(13),zr(14,"date"),A()()()),2&t){const n=Na();Te("routerLink",vf(10,Ohe,n.postData.id)),de(1),df("src",n.postData.postImgPath,Bh),de(3),Zs(n.postData.category.category),de(1),Te("ngIf",n.postData.isFeatured),de(2),Zs(n.postData.views),de(2),qr(" ",n.postData.title," "),de(2),qr(" ",n.postData.excerpt," "),de(2),qr("Last Update - ",Ci(14,8,n.postData.createdAt.toMillis()),"")}}let US=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:1,vars:1,consts:[["class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",3,"routerLink"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center px-3",4,"ngIf"],[1,"bg-light","text-info","text-center","px-3"],[1,"mt-1"],[1,"bg-light","text-warning","text-center","px-3"],[1,"bg-light","text-success","text-center","px-3"]],template:function(n,r){1&n&&Nt(0,Fhe,15,12,"div",0),2&n&&Te("ngIf",r.postData)},dependencies:[Vf,dl,Uf],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:500px;cursor:pointer}"]}),t})();function Lhe(t,e){if(1&t&&(x(0,"div",8),Ze(1,"app-post-card",9),A()),2&t){const n=e.$implicit;de(1),Te("postData",n)}}function Vhe(t,e){if(1&t&&(x(0,"div",10),Ze(1,"app-post-card",9),A()),2&t){const n=e.$implicit;de(1),Te("postData",n)}}let Uhe=(()=>{class t{constructor(n){this.postService=n}ngOnInit(){this.featuredPostData$=this.postService.loadFeatured(),this.letestPostData$=this.postService.loadLatest()}}return t.\u0275fac=function(n){return new(n||t)(C(VS))},t.\u0275cmp=Jt({type:t,selectors:[["app-home"]],decls:20,vars:6,consts:[[1,"featured-section"],[1,"container"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],["class","col-lg-3 col-md-6 mt-3",4,"ngFor","ngForOf"],[1,"letest-post-section","container","mt-5"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","mt-3"],[3,"postData"],[1,"col-md-4","mt-3"]],template:function(n,r){1&n&&(x(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),V(5,"Featured Post"),A(),x(6,"p",4),V(7," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Saepe error illum, nemo voluptate rem harum inventore "),A()()(),x(8,"div",2),Nt(9,Lhe,2,1,"div",5),zr(10,"async"),A()()(),x(11,"section",6)(12,"div",3)(13,"h2"),V(14,"Letest Post"),A(),x(15,"p"),V(16," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Saepe error illum, nemo voluptate rem harum inventore "),A()(),x(17,"div",2),Nt(18,Vhe,2,1,"div",7),zr(19,"async"),A()()),2&n&&(de(9),Te("ngForOf",Ci(10,2,r.featuredPostData$)),de(9),Te("ngForOf",Ci(19,4,r.letestPostData$)))},dependencies:[qc,US,zc],styles:[".featured-section[_ngcontent-%COMP%]{padding-bottom:130px;background-color:var(--primary-color)}@media (max-width: 768px){.featured-section[_ngcontent-%COMP%]{padding:15px}}"]}),t})();function Bhe(t,e){if(1&t&&(x(0,"div",6),Ze(1,"app-post-card",7),A()),2&t){const n=e.$implicit;de(1),Te("postData",n)}}let $he=(()=>{class t{constructor(n,r){this.route=n,this.postsService=r,this.categoryTitle=""}ngOnInit(){this.route.params.subscribe(n=>{this.categoryTitle=n.category,this.categoryData$=this.postsService.loadCategoryPosts(n.id)})}}return t.\u0275fac=function(n){return new(n||t)(C(ds),C(VS))},t.\u0275cmp=Jt({type:t,selectors:[["app-single-category"]],decls:10,vars:4,consts:[[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[3,"postData"]],template:function(n,r){1&n&&(x(0,"div",0)(1,"div",1)(2,"h1",2),V(3),A(),x(4,"p",2),V(5," Lorem ipsum dolor, sit amet consectetur adipisicing elit.. "),A()()(),x(6,"div",3)(7,"div",4),Nt(8,Bhe,2,1,"div",5),zr(9,"async"),A()()),2&n&&(de(3),Zs(r.categoryTitle),de(5),Te("ngForOf",Ci(9,2,r.categoryData$)))},dependencies:[qc,US,zc]}),t})(),lH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ei),C(Wn))},t.\u0275dir=Z({type:t}),t})(),zo=(()=>{class t extends lH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=jt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,features:[Ce]}),t})();const ui=new B("NgValueAccessor"),Ghe={provide:ui,useExisting:Ne(()=>wm),multi:!0},zhe=new B("CompositionEventMode");let wm=(()=>{class t extends lH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qhe(){const t=as()?as().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ei),C(Wn),C(zhe,8))},t.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Yn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([Ghe]),Ce]}),t})();function Fs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const dn=new B("NgValidators"),Ls=new B("NgAsyncValidators"),Whe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function gH(t){return Fs(t.value)?{required:!0}:null}function yH(t){return Fs(t.value)||Whe.test(t.value)?null:{email:!0}}function Im(t){return null}function IH(t){return null!=t}function EH(t){return Nc(t)?xt(t):t}function DH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function bH(t,e){return e.map(n=>n(t))}function CH(t){return t.map(e=>function Khe(t){return!t.validate}(e)?e:n=>e.validate(n))}function BS(t){return null!=t?function TH(t){if(!t)return null;const e=t.filter(IH);return 0==e.length?null:function(n){return DH(bH(n,e))}}(CH(t)):null}function $S(t){return null!=t?function SH(t){if(!t)return null;const e=t.filter(IH);return 0==e.length?null:function(n){return function jhe(...t){const e=GA(t),{args:n,keys:r}=_O(t),i=new qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;rr(n[l]).subscribe(vt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?wO(r,a):a),s.complete())}))}});return e?i.pipe(vO(e)):i}(bH(n,e).map(EH)).pipe(Ie(DH))}}(CH(t)):null}function AH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jS(t){return t?Array.isArray(t)?t:[t]:[]}function Em(t,e){return Array.isArray(t)?t.includes(e):t===e}function RH(t,e){const n=jS(e);return jS(t).forEach(i=>{Em(n,i)||n.push(i)}),n}function NH(t,e){return jS(e).filter(n=>!Em(t,n))}class kH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class wn extends kH{get formDirective(){return null}get path(){return null}}class Vs extends kH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OH=(()=>{class t extends PH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Vs,2))},t.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),HS=(()=>{class t extends PH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(wn,10))},t.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();const Fd="VALID",bm="INVALID",Hu="PENDING",Ld="DISABLED";function zS(t){return(Cm(t)?t.validators:t)||null}function WS(t,e){return(Cm(e)?e.asyncValidators:t)||null}function Cm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class UH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fd}get invalid(){return this.status===bm}get pending(){return this.status==Hu}get disabled(){return this.status===Ld}get enabled(){return this.status!==Ld}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NH(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ld,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fd||this.status===Hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ld:Fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hu,this._hasOwnPendingAsyncValidator=!0;const n=EH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Ld:this.errors?bm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hu)?Hu:this._anyControlsHaveStatus(bm)?bm:Fd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Jhe(t){return Array.isArray(t)?BS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Zhe(t){return Array.isArray(t)?$S(t):t||null}(this._rawAsyncValidators)}}class KS extends UH{constructor(e,n,r){super(zS(n),WS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function VH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Gu=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Tm}),Tm="always";function Vd(t,e,n=Tm){QS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function nfe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&BH(t,e)})}(t,e),function ife(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function rfe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&BH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function tfe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function xm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function QS(t,e){const n=function xH(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(AH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function MH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(AH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();xm(e._rawValidators,i),xm(e._rawAsyncValidators,i)}function BH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const cfe={provide:wn,useExisting:Ne(()=>Bd)},Ud=(()=>Promise.resolve())();let Bd=(()=>{class t extends wn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new tt,this.form=new KS({},BS(n),$S(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ud.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Vd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ud.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ud.then(()=>{const r=this._findContainer(n.path),i=new KS({});(function $H(t,e){QS(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ud.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ud.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function jH(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(C(dn,10),C(Ls,10),C(Gu,8))},t.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Yn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([cfe]),Ce]}),t})();function HH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function GH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const qH=class extends UH{constructor(e=null,n,r){super(zS(n),WS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=GH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hfe={provide:Vs,useExisting:Ne(()=>ZS)},KH=(()=>Promise.resolve())();let ZS=(()=>{class t extends Vs{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new qH,this._registered=!1,this.name="",this.update=new tt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function JS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===wm?n=s:function afe(t){return Object.getPrototypeOf(t.constructor)===zo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function XS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){KH.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Ba(r);KH.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Sm(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(wn,9),C(dn,10),C(Ls,10),C(ui,10),C(bf,8),C(Gu,8))},t.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([hfe]),Ce,sr]}),t})(),eA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),YH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({}),t})(),Wo=(()=>{class t{constructor(){this._validator=Im}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Im,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,features:[sr]}),t})();const Mfe={provide:dn,useExisting:Ne(()=>Rm),multi:!0};let Rm=(()=>{class t extends Wo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ba,this.createValidator=n=>gH}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=jt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&jr("required",r._enabled?"":null)},inputs:{required:"required"},features:[$e([Mfe]),Ce]}),t})();const Nfe={provide:dn,useExisting:Ne(()=>oA),multi:!0};let oA=(()=>{class t extends Wo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Ba,this.createValidator=n=>yH}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=jt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[$e([Nfe]),Ce]}),t})(),Ffe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({imports:[YH]}),t})(),Vfe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Gu,useValue:n.callSetDisabledState??Tm}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({imports:[Ffe]}),t})(),Ufe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-comment-form"]],decls:18,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],[1,"form-group"],["for",""],["type","text","placeholder","Enter Your name here",1,"form-control","shadow-effect"],["name","","id","","cols","30","rows","10","placeholder","Add your Comment here",1,"form-control","shadow-effect"],[1,"btn","btn-info","mt-2","btn-theme"]],template:function(n,r){1&n&&(x(0,"div",0)(1,"div",1)(2,"h4"),V(3,"Leave a Comment"),A(),x(4,"p"),V(5,"You can leave a commnet using this form"),A(),x(6,"form")(7,"div",2)(8,"label",3),V(9,"Name"),A(),Ze(10,"input",4),A(),x(11,"div",2)(12,"label",3),V(13,"Comment"),A(),x(14,"textarea",5),V(15,"        "),A()(),x(16,"button",6),V(17,"Add a Comment"),A()()()())},dependencies:[eA,HS,Bd]}),t})(),Bfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-comment-list"]],decls:40,vars:0,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"],["href","#",1,"mt-1","link-underline","link-underline-opacity-0"],["href","#",1,"mt-1","px-3","link-underline","link-underline-opacity-0"]],template:function(n,r){1&n&&(x(0,"div",0)(1,"div",1)(2,"h4",2),V(3,"Comments (12,356)"),A(),x(4,"div",3)(5,"h6",4),V(6,"Lorem, ipsum."),A(),x(7,"small",5),V(8," Last Update - SEP 20, 2023 "),A(),x(9,"div",2),V(10," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima alias numquam quisquam est sequi nesciunt qui atque, necessitatibus a, sit dignissimos dolorum maiores, quidem unde quia pariatur cumque fugiat provident. Nisi quis qui esse reiciendis, impedit aliquam repellendus nemo sit animi rem facere recusandae ut eum sed accusamus temporibus expedita! "),A(),x(11,"a",6),V(12,"Reply"),A(),x(13,"a",7),V(14,"View Reply"),A(),Ze(15,"hr"),A(),x(16,"div",3)(17,"h6",4),V(18,"Lorem, ipsum."),A(),x(19,"small",5),V(20," Last Update - SEP 20, 2023 "),A(),x(21,"div",2),V(22," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima alias numquam quisquam est sequi nesciunt qui atque, necessitatibus a, sit dignissimos dolorum maiores, quidem unde quia pariatur cumque fugiat provident. Nisi quis qui esse reiciendis, impedit aliquam repellendus nemo sit animi rem facere recusandae ut eum sed accusamus temporibus expedita! "),A(),x(23,"a",6),V(24,"Reply"),A(),x(25,"a",7),V(26,"View Reply"),A(),Ze(27,"hr"),A(),x(28,"div",3)(29,"h6",4),V(30,"Lorem, ipsum."),A(),x(31,"small",5),V(32," Last Update - SEP 20, 2023 "),A(),x(33,"div",2),V(34," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima alias numquam quisquam est sequi nesciunt qui atque, necessitatibus a, sit dignissimos dolorum maiores, quidem unde quia pariatur cumque fugiat provident. Nisi quis qui esse reiciendis, impedit aliquam repellendus nemo sit animi rem facere recusandae ut eum sed accusamus temporibus expedita! "),A(),x(35,"a",6),V(36,"Reply"),A(),x(37,"a",7),V(38,"View Reply"),A(),Ze(39,"hr"),A()()())},styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"]}),t})();function $fe(t,e){1&t&&(x(0,"small",16),V(1,"Featured"),A())}function jfe(t,e){if(1&t&&(cf(0),Ze(1,"app-post-card",17),lf()),2&t){const n=e.$implicit;de(1),Te("postData",n)}}function Hfe(t,e){if(1&t&&(x(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),Ze(4,"img",5),x(5,"div",6)(6,"small",7),V(7),A(),Nt(8,$fe,2,0,"small",8),x(9,"small",9),V(10),A(),x(11,"small",10),V(12),zr(13,"date"),A(),x(14,"h1",11),V(15),A(),Ze(16,"p",12),A()(),x(17,"div",13),Ze(18,"app-comment-form")(19,"app-comment-list"),A()(),x(20,"div",14),Nt(21,jfe,2,1,"ng-container",15),zr(22,"async"),A()()()),2&t){const n=e.ngIf,r=Na();de(4),df("src",n.postImgPath,Bh),de(3),Zs(n.category.category),de(1),Te("ngIf",n.isFeatured),de(2),qr("Views - ",n.views,""),de(2),qr("Last Update - ",Ci(13,8,n.createdAt.toMillis()),""),de(3),Zs(n.title),de(1),Te("innerHTML",n.content,rR),de(5),Te("ngForOf",Ci(22,10,r.categoryPosts$))}}const Gfe=[{path:"",component:Uhe},{path:"category/:category/:id",component:$he},{path:"post/:id",component:(()=>{class t{constructor(n,r){this.route=n,this.postsService=r,this.viewsC=0,this.postId="",this.isViewsUpdated=!1,this.viewsUpdatedMap={}}ngOnInit(){this.route.params.subscribe(n=>{const r=n.id;this.postId!==r&&(this.unsubscribeFromPost(),this.postId=r,this.loadPostData())})}loadPostData(){this.postData$=this.postsService.loadPostById(this.postId).pipe(br(n=>(this.viewsUpdatedMap[n.id]||(this.viewsC=n.views+1,this.postsService.updatePostViews(this.postId,this.viewsC),this.viewsUpdatedMap[n.id]=!0),this.postsService.loadCategoryPosts(n.category.categoryId).pipe(br(r=>(this.categoryPosts$=Q(r),Q(n))))))),this.postSubscription=this.postData$.subscribe(n=>{this.postData$=Q(n)})}unsubscribeFromPost(){this.postSubscription&&(this.postSubscription.unsubscribe(),this.postSubscription=void 0)}ngOnDestroy(){this.unsubscribeFromPost()}}return t.\u0275fac=function(n){return new(n||t)(C(ds),C(VS))},t.\u0275cmp=Jt({type:t,selectors:[["app-single-post"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],["alt","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center px-3",4,"ngIf"],[1,"bg-light","text-info","text-center","px-3"],[1,"bg-light","text-warning","text-center","px-3"],[1,"mt-3","mb-3"],[3,"innerHTML"],[1,"comment"],[1,"col-md-3"],[4,"ngFor","ngForOf"],[1,"bg-light","text-success","text-center","px-3"],[3,"postData"]],template:function(n,r){1&n&&(Nt(0,Hfe,23,12,"div",0),zr(1,"async")),2&n&&Te("ngIf",Ci(1,1,r.postData$))},dependencies:[qc,Vf,Ufe,Bfe,US,zc,Uf]}),t})()},{path:"about",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-about-us"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(n,r){1&n&&(x(0,"section",0)(1,"div",1)(2,"h1",2),V(3,"About Us"),A(),x(4,"div",3)(5,"p"),V(6," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(7,"p"),V(8," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(9,"p"),V(10," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(11,"div",4)(12,"button",5),V(13,"Back To Home"),A()()()()())}}),t})()},{path:"terms-conditions",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-terms-and-condition"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(n,r){1&n&&(x(0,"section",0)(1,"div",1)(2,"h1",2),V(3,"Terms & Condition"),A(),x(4,"div",3)(5,"p"),V(6," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(7,"p"),V(8," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(9,"p"),V(10," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates corporis quasi pariatur. Maiores quos similique consequuntur repudiandae optio nam ut id. Adipisci dolorem minus iste harum nam sapiente, ex voluptatibus?Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime dolorem eos odio deserunt reiciendis a dignissimos, quam quia nostrum voluptas atque aspernatur quod saepe ipsa architecto recusandae placeat cum et. Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rem quasi praesentium assumenda voluptas ducimus. Delectus, exercitationem? Voluptatum facilis veniam molestias. Tenetur eligendi vel dolore, in ipsum deserunt! Voluptatibus sapiente illo, nemo possimus dolores dignissimos soluta repellendus neque reiciendis non veniam expedita itaque officiis incidunt unde, omnis, perferendis magnam laborum quisquam? "),A(),x(11,"div",4)(12,"button",5),V(13,"Back To Home"),A()()()()())}}),t})()},{path:"contact",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(n,r){1&n&&(x(0,"p"),V(1,"contact-us works!"),A())}}),t})()}];let qfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({imports:[bF.forRoot(Gfe),bF]}),t})(),zfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["href","#",1,"site-logo"]],template:function(n,r){1&n&&(x(0,"header",0)(1,"div",1)(2,"a",2),V(3,"ANG-BLOG"),A()()())},styles:["header{padding:10px;height:100px}.site-logo{font-size:1.2em}\n"],encapsulation:2}),t})(),Wfe=(()=>{class t{constructor(n){this.firestore=n,this.conllectionInstance=FS(this.firestore,"categories")}loadData(){return _m(this.conllectionInstance,{idField:"id"})}}return t.\u0275fac=function(n){return new(n||t)(G(ju))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kfe=function(t,e){return["/category",t,e]};function Qfe(t,e){if(1&t&&(x(0,"li",7)(1,"a",8),V(2),A()()),2&t){const n=e.$implicit;de(1),Te("routerLink",function sk(t,e,n,r,i){return ak(D(),hn(),t,e,n,r,i)}(2,Kfe,n.category,n.id)),de(1),qr(" ",n.category," ")}}let Yfe=(()=>{class t{constructor(n){this.categoryService=n}ngOnInit(){this.categoryData$=this.categoryService.loadData()}}return t.\u0275fac=function(n){return new(n||t)(C(Wfe))},t.\u0275cmp=Jt({type:t,selectors:[["app-category-navbar"]],decls:8,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top"],[1,"container"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"],["class","nav-item ml-3",4,"ngFor","ngForOf"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(n,r){1&n&&(x(0,"nav",0)(1,"div",1)(2,"button",2),Ze(3,"span",3),A(),x(4,"div",4)(5,"ul",5),Nt(6,Qfe,3,5,"li",6),zr(7,"async"),A()()()()),2&n&&(de(6),Te("ngForOf",Ci(7,1,r.categoryData$)))},dependencies:[qc,dl,zc],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase}"]}),t})(),Xfe=(()=>{class t{constructor(){this.currentDate=new Date}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-footer"]],decls:23,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],[1,"mb-2","mt-2"]],template:function(n,r){1&n&&(x(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),V(5,"ANG-BLOG"),A(),x(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),V(10,"Home"),A()(),x(11,"li",5)(12,"a",6),V(13,"About"),A()(),x(14,"li",5)(15,"a",6),V(16,"Terms & Conditions"),A()(),x(17,"li",5)(18,"a",6),V(19,"Contact "),A()()()(),x(20,"p",7),V(21),zr(22,"date"),A()()()()()),2&n&&(de(21),qr(" Copyright ",function dk(t,e,n,r){const i=t+fe,s=D(),o=ia(s,i);return Bc(s,i)?ak(s,hn(),e,o.transform,n,r,o):o.transform(n,r)}(22,1,r.currentDate,"yyyy")," Angular Blogsite "))},dependencies:[Uf],styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]}),t})(),Jfe=(()=>{class t{constructor(n){this.firestore=n,this.collectionInstance=FS(this.firestore,"subscribers")}addSubs(n){var r=this;return y(function*(){try{const i=yield Ahe(r.collectionInstance,n);console.log(i)}catch(i){console.log(i)}})()}isEmailAlreadyUsed(n){var r=this;return y(function*(){try{return!(yield xhe(vm(r.collectionInstance,LS("email","==",n)))).empty}catch(i){return console.log(i),!1}})()}}return t.\u0275fac=function(n){return new(n||t)(G(ju))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zfe(t,e){1&t&&(x(0,"div",7),V(1," Email is Already in use "),A())}function epe(t,e){1&t&&(x(0,"div",8),V(1," thank you for subscribing to our newsletter service. Stay tuned for awesome blog posts...! "),A())}function tpe(t,e){1&t&&(x(0,"div"),V(1," Name is Required "),A())}function npe(t,e){if(1&t&&(x(0,"div",20),Nt(1,tpe,2,0,"div",21),A()),2&t){Na();const n=Xs(5);de(1),Te("ngIf",null==n.errors?null:n.errors.required)}}function rpe(t,e){1&t&&(x(0,"div"),V(1," Email Cannot be Empty! "),A())}function ipe(t,e){1&t&&(x(0,"div"),V(1," Please Enter Valid Email Address! "),A())}function spe(t,e){if(1&t&&(x(0,"div",20),Nt(1,rpe,2,0,"div",21),Nt(2,ipe,2,0,"div",21),A()),2&t){Na();const n=Xs(9);de(1),Te("ngIf",null==n.errors?null:n.errors.required),de(1),Te("ngIf",null==n.errors?null:n.errors.email)}}const fG=function(t){return{"is-invalid":t}};function ope(t,e){if(1&t){const n=function A1(){return D()}();x(0,"form",9,10),Yn("ngSubmit",function(){!function Lx(t){return X.lFrame.contextLView=t,t[Je]}(n);const i=Xs(1);return function Vx(t){return X.lFrame.contextLView=null,t}(Na().onSubmit(i.value))}),x(2,"div",11)(3,"div",12),Ze(4,"input",13,14),Nt(6,npe,2,1,"div",15),A(),x(7,"div",12),Ze(8,"input",16,17),Nt(10,spe,3,2,"div",15),A()(),x(11,"div",18)(12,"button",19),V(13," SUBSCRIBE "),A()()()}if(2&t){const n=Xs(1),r=Xs(5),i=Xs(9);de(4),Te("ngClass",vf(5,fG,r.touched&&r.invalid)),de(2),Te("ngIf",r.touched&&r.invalid),de(2),Te("ngClass",vf(7,fG,i.touched&&i.invalid)),de(2),Te("ngIf",i.touched&&i.invalid),de(2),Te("disabled",n.invalid)}}let ape=(()=>{class t{constructor(n){this.subService=n,this.isEmailError=!1,this.isSubscribed=!1}onSubmit(n){const r={name:n.name,email:n.email};this.subService.isEmailAlreadyUsed(r.email).then(i=>{i?this.isEmailError=!0:(this.subService.addSubs(r),this.isSubscribed=!0,this.isEmailError=!1)})}}return t.\u0275fac=function(n){return new(n||t)(C(Jfe))},t.\u0275cmp=Jt({type:t,selectors:[["app-subscription-form"]],decls:10,vars:3,consts:[[1,"card","shadow-effect"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"m-auto","subs-text"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],["class","mb-5",3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-info","mt-3"],[1,"mb-5",3,"ngSubmit"],["subForm","ngForm"],[1,"row","mt-5"],[1,"form-group","col-md-6"],["type","text","placeholder","Your Name","name","name","ngModel","","required","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Email Address","name","email","ngModel","","required","","email","",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"text-center","mt-3"],[1,"btn","btn-info","btn-theme",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(n,r){1&n&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),V(4,"SUBSCRIPTION FORM"),A(),x(5,"p",3),V(6," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Libero est culpa, nostrum rerum odit, laudantium dolor officia error a debitis totam ullam aspernatur sequi porro, quasi aliquid magnam! A, quae! "),A(),Nt(7,Zfe,2,0,"div",4),Nt(8,epe,2,0,"div",5),Nt(9,ope,14,9,"form",6),A()()()),2&n&&(de(7),Te("ngIf",r.isEmailError),de(1),Te("ngIf",r.isSubscribed),de(1),Te("ngIf",!r.isSubscribed))},dependencies:[eA,wm,OH,HS,Rm,oA,ZS,Bd,jP,Vf],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color)}.subs-text[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}"]}),t})(),upe=(()=>{class t{constructor(){this.title="ang-blog"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jt({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"app-body"],[1,"mt-5","mb-5"],[1,"row","justify-content-center"],[1,"col-md-6"]],template:function(n,r){1&n&&(Ze(0,"app-header")(1,"app-category-navbar"),x(2,"div",0),Ze(3,"router-outlet"),A(),x(4,"div",1)(5,"div",2)(6,"div",3),Ze(7,"app-subscription-form"),A()()(),Ze(8,"app-footer"))},dependencies:[Cw,zfe,Yfe,Xfe,ape],styles:[".app-body[_ngcontent-%COMP%]{min-height:35vh;margin-top:150px}"]}),t})();const cpe_firebase={projectId:"ang-blog-a3cc2",appId:"1:915378859731:web:35c6b65cbb940a18382e26",storageBucket:"ang-blog-a3cc2.appspot.com",locationId:"asia-south1",apiKey:"AIzaSyCyTMH3wXDMLbOte7665YTRke8d-bBZpeQ",authDomain:"ang-blog-a3cc2.firebaseapp.com",messagingSenderId:"915378859731"},pG="firebasestorage.googleapis.com";class Xe extends hr{constructor(e,n,r=0){super(aA(e),`Firebase Storage: ${n} (${aA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var K=(()=>((K=K||{}).UNKNOWN="unknown",K.OBJECT_NOT_FOUND="object-not-found",K.BUCKET_NOT_FOUND="bucket-not-found",K.PROJECT_NOT_FOUND="project-not-found",K.QUOTA_EXCEEDED="quota-exceeded",K.UNAUTHENTICATED="unauthenticated",K.UNAUTHORIZED="unauthorized",K.UNAUTHORIZED_APP="unauthorized-app",K.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",K.INVALID_CHECKSUM="invalid-checksum",K.CANCELED="canceled",K.INVALID_EVENT_NAME="invalid-event-name",K.INVALID_URL="invalid-url",K.INVALID_DEFAULT_BUCKET="invalid-default-bucket",K.NO_DEFAULT_BUCKET="no-default-bucket",K.CANNOT_SLICE_BLOB="cannot-slice-blob",K.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",K.NO_DOWNLOAD_URL="no-download-url",K.INVALID_ARGUMENT="invalid-argument",K.INVALID_ARGUMENT_COUNT="invalid-argument-count",K.APP_DELETED="app-deleted",K.INVALID_ROOT_OPERATION="invalid-root-operation",K.INVALID_FORMAT="invalid-format",K.INTERNAL_ERROR="internal-error",K.UNSUPPORTED_ENVIRONMENT="unsupported-environment",K))();function aA(t){return"storage/"+t}function cA(t){return new Xe(K.INVALID_ARGUMENT,t)}function vG(){return new Xe(K.APP_DELETED,"The Firebase app was deleted.")}class In{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=In.makeFromUrl(e,n)}catch{return new In(e,"")}if(""===r.path)return r;throw function vpe(t){return new Xe(K.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(M){M.path_=decodeURIComponent(M.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(M){"/"===M.path.charAt(M.path.length-1)&&(M.path_=M.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===pG?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<E.length;M++){const L=E[M],J=L.regex.exec(e);if(J){let Dn=J[L.indices.path];Dn||(Dn=""),r=new In(J[L.indices.bucket],Dn),L.postModify(r);break}}if(null==r)throw function _pe(t){return new Xe(K.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Cpe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dA(t,e,n,r){if(r<e)throw cA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cA(`Invalid value for '${t}'. Expected ${n} or less.`)}var Vn=(()=>((Vn=Vn||{})[Vn.NO_ERROR=0]="NO_ERROR",Vn[Vn.NETWORK_ERROR=1]="NETWORK_ERROR",Vn[Vn.ABORT=2]="ABORT",Vn))();class Rpe{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function Ape(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function uA(){return new Xe(K.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?vG():function yG(){return new Xe(K.CANCELED,"User canceled the upload/download.")}():function mG(){return new Xe(K.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new km(!1,null,!0)):this.backoffId_=function Tpe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,u())},m)}function h(){s&&clearTimeout(s)}function f(m,...v){if(c)return void h();if(m)return h(),void l.call(null,m,...v);if(u()||o)return h(),void l.call(null,m,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new km(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Vn.NO_ERROR,u=s.getStatus();if(!a||function EG(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Vn.ABORT;return void r(!1,new km(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new km(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Spe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class km{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Ko{constructor(e,n){this._service=e,this._location=n instanceof In?n:In.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ko(e,n)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function SG(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function qpe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new In(this._location.bucket,e);return new Ko(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function bpe(t){return new Xe(K.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function jG(t,e){const n=e?.storageBucket;return null==n?null:In.makeFromBucketSpec(n,t)}class _A{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?In.makeFromBucketSpec(i,this._host):jG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?In.makeFromBucketSpec(this._url,e):jG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ko(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Cpe(vG());{const o=function Fpe(t,e,n,r,i,s,o=!0){const a=function IG(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function Ppe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function Npe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function kpe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function Ope(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Rpe(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return y(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const HG="@firebase/storage",qG="storage";function Mge(t=Yw(),e){const r=fl(t=Ht(t),qG).getImmediate({identifier:e}),i=xF("storage");return i&&function Rge(t,e,n,r={}){!function xge(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:RF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function Nge(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _A(n,r,i,e,Ya)}!function kge(){sn(new Gt(qG,Nge,"PUBLIC").setMultipleInstances(!0)),je(HG,"0.11.2",""),je(HG,"0.11.2","esm2017")}();class vA{constructor(e){return e}}const zG="storage",wA=new B("angularfire2.storage-instances");function Fge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vA(r)}}const Lge={provide:class Pge{constructor(){return Ep(zG)}},deps:[[new Rt,wA]]},Vge={provide:vA,useFactory:function Oge(t,e){const n=Ip(zG,t,e);return n&&new vA(n)},deps:[[new Rt,wA],vo]};let Uge=(()=>{class t{constructor(){je("angularfire",wp.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t}),t.\u0275inj=bn({providers:[Vge,Lge]}),t})();function Bge(t,...e){return{ngModule:Uge,providers:[{provide:wA,useFactory:Fge(t),multi:!0,deps:[Re,Kn,XE,JE,[new Rt,sC],[new Rt,SC],...e]}]}}const $ge=yn(Mge,!0);let jge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Hn({type:t,bootstrap:[upe]}),t.\u0275inj=bn({imports:[Vfe,CY,qfe,tie(()=>nie(cpe_firebase)),The(()=>Mhe()),Bge(()=>$ge())]}),t})();DY().bootstrapModule(jge).catch(t=>console.error(t))}},Me=>{Me(Me.s=907)}]);